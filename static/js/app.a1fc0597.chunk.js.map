{"version":3,"sources":["src/kitcheningredients/utils/UserHelper.tsx","src/kitcheningredients/helper/HelperHooks.ts","src/kitcheningredients/server/TransportWrapper.ts","src/kitcheningredients/server/AuthTransportWrapper.ts","src/kitcheningredients/ServerAPI.ts","src/kitcheningredients/EnviromentHelper.tsx","src/kitcheningredients/ConfigHolder.ts","src/kitcheningredients/storage/MyDirectusStorageWeb.ts","src/kitcheningredients/components/LottieWeb.tsx","src/kitcheningredients/components/LottieNative.tsx","src/kitcheningredients/templates/useBackgroundColor.tsx","src/kitcheningredients/project/KitchenSkeleton.tsx","src/kitcheningredients/components/Icon.tsx","src/kitcheningredients/components/KitchenSafeAreaView.tsx","src/kitcheningredients/helper/PlatformHelper.tsx","src/kitcheningredients/helper/MyActionsheetKeyboardHelper.tsx","src/kitcheningredients/helper/MyActionsheet.tsx","src/kitcheningredients/translations/TranslationKeys.tsx","src/kitcheningredients/storage/RequiredStorageKeys.ts","src/kitcheningredients/translations/DefaultTranslator.ts","src/kitcheningredients/screens/legalRequirements/CookieHelper.tsx","src/kitcheningredients/theme/ColorCodeHelper.ts","src/kitcheningredients/theme/useMyContrastColor.tsx","src/kitcheningredients/synchedstate/RequiredSynchedStates.tsx","src/kitcheningredients/storage/SynchedVariableInterface.tsx","src/kitcheningredients/storage/KeyExtractorHelper.ts","src/kitcheningredients/synchedstate/SynchedState.ts","src/kitcheningredients/navigation/NavigationQueueItem.tsx","src/kitcheningredients/navigation/NavigatorHelper.ts","src/kitcheningredients/screens/home/Home.tsx","src/kitcheningredients/components/buttons/FormButton.tsx","src/kitcheningredients/components/buttons/TransparentButton.tsx","src/kitcheningredients/components/buttons/TransparentTextButton.tsx","src/kitcheningredients/auth/SignOutButton.tsx","src/kitcheningredients/navigation/InternalLink.tsx","src/kitcheningredients/helper/URL_Helper.js","src/kitcheningredients/auth/RequestResetPasswordForm.tsx","src/kitcheningredients/auth/ResetPasswordForm.tsx","src/kitcheningredients/auth/ResetPassword.tsx","src/kitcheningredients/auth/Register.tsx","src/kitcheningredients/helper/MyThemedBox.tsx","src/kitcheningredients/auth/EmailLogin.tsx","src/kitcheningredients/helper/StringHelper.tsx","src/kitcheningredients/helper/CSS_Helper.js","src/kitcheningredients/helper/ServerInfoHelper.ts","src/kitcheningredients/auth/AuthProvider.tsx","src/kitcheningredients/auth/AuthProvidersLoginOptions.tsx","src/kitcheningredients/auth/AuthProviderAnonymous.tsx","src/kitcheningredients/auth/WebViewLogin.tsx","src/kitcheningredients/navigation/RouteHelper.tsx","src/kitcheningredients/auth/Login.tsx","src/kitcheningredients/helper/TextGenerator.tsx","src/kitcheningredients/screens/legalRequirements/AboutUs.tsx","src/kitcheningredients/screens/legalRequirements/PrivacyPolicy.tsx","src/kitcheningredients/navigation/ExpandableDrawerItem.tsx","src/kitcheningredients/navigation/MenuItem.tsx","src/kitcheningredients/screens/legalRequirements/PackagesWithLicenses.tsx","src/kitcheningredients/components/settings/SettingsSpacer.tsx","src/kitcheningredients/screens/legalRequirements/License.tsx","src/kitcheningredients/screens/legalRequirements/LegalRequiredInternalLink.tsx","src/kitcheningredients/screens/legalRequirements/LegalRequiredCookieLink.tsx","src/kitcheningredients/screens/legalRequirements/LegalRequiredLinks.tsx","src/kitcheningredients/screens/settings/Settings.tsx","src/kitcheningredients/screens/legalRequirements/Accessibility.tsx","src/kitcheningredients/navigation/Navigation.ts","src/kitcheningredients/components/buttons/MyTouchableOpacity.tsx","src/kitcheningredients/templates/DrawerButton.tsx","src/kitcheningredients/templates/BackButton.tsx","src/kitcheningredients/templates/useProjectColor.tsx","src/kitcheningredients/templates/Layout.tsx","src/kitcheningredients/templates/HeaderWithActions.tsx","src/kitcheningredients/project/LoadingView.tsx","src/kitcheningredients/project/DirectusImage.tsx","src/kitcheningredients/project/UserProfileAvatar.tsx","src/kitcheningredients/screens/settings/RequiredSettingsButton.tsx","src/kitcheningredients/templates/BreakPointLayout.tsx","src/kitcheningredients/layouts/ParentSpacer.tsx","src/kitcheningredients/layouts/GridLayout.tsx","src/kitcheningredients/layouts/GridList.tsx","src/kitcheningredients/components/ParentDimension.tsx","src/kitcheningredients/utils/ShowMoreGradientPlaceholder.tsx","src/kitcheningredients/utils/ShowMoreGradient.tsx","src/kitcheningredients/utils/ScrollViewWithGradient.tsx","src/kitcheningredients/auth/AuthProviderCustom.tsx","src/kitcheningredients/components/markdown/MarkdownSkeleton.tsx","src/kitcheningredients/components/markdown/ThemedMarkdown.tsx","src/kitcheningredients/components/markdown/DirectusMarkdown.tsx","src/kitcheningredients/components/markdown/DirectusSingletonMarkdown.tsx","src/kitcheningredients/helper/DeviceHelper.ts","src/kitcheningredients/components/ViewPixelRatio.tsx","src/kitcheningredients/components/ViewPercentageBorderradius.tsx","src/kitcheningredients/components/settings/SettingsRowInner.tsx","src/kitcheningredients/helper/AccessibilityRoles.ts","src/kitcheningredients/components/DetailsComponentMenus.tsx","src/kitcheningredients/theme/useDefaultButtonColor.tsx","src/kitcheningredients/components/settings/SettingsRow.tsx","src/kitcheningredients/components/settings/SettingsRowBooleanSwitch.tsx","src/kitcheningredients/project/ProjectLogo.tsx","src/kitcheningredients/helper/DateHelper.tsx","src/kitcheningredients/screens/legalRequirements/CookieInformationInner.tsx","src/kitcheningredients/screens/legalRequirements/CookieInformation.tsx","src/kitcheningredients/templates/EmptyTemplate.tsx","src/kitcheningredients/storage/MyDirectusStorage.web.ts","src/kitcheningredients/components/CrossLottie.tsx","src/kitcheningredients/project/DirectusIcon.tsx","src/kitcheningredients/templates/CustomFloaters.ts","src/kitcheningredients/templates/RequiredNavigationBar.tsx","src/kitcheningredients/helper/CloneChildrenWithProps.js","src/kitcheningredients/templates/BaseLayout.tsx","src/kitcheningredients/templates/BaseNoScrollTemplate.tsx","src/kitcheningredients/templates/BaseNoPaddingTemplate.tsx","src/kitcheningredients/templates/BasePadding.tsx","src/kitcheningredients/templates/BaseTemplate.tsx","src/kitcheningredients/screens/legalRequirements/CookieDefaultComponents.tsx","src/kitcheningredients/PluginInterface.tsx","src/kitcheningredients/components/TextWithIcon.tsx","src/kitcheningredients/templates/ViewWithBackgroundColor.tsx","src/kitcheningredients/navigation/RootComponent.tsx","src/kitcheningredients/theme/index.ts","src/kitcheningredients/navigation/RouteRegisterer.tsx","src/kitcheningredients/project/ProjectName.tsx","src/kitcheningredients/navigation/CustomDrawerContent.tsx","src/kitcheningredients/theme/ThemeChanger.tsx","src/kitcheningredients/templates/ThemeFloaterButton.tsx","src/kitcheningredients/templates/Floaters.tsx","src/kitcheningredients/project/ProjectBanner.tsx","src/kitcheningredients/project/ProjectBackground.tsx","src/kitcheningredients/templates/LoginTemplate.tsx","src/kitcheningredients/navigation/DefaultNavigation.tsx","src/kitcheningredients/navigation/NavigationHistorySetter.tsx","src/kitcheningredients/navigation/rootNavigator.tsx","src/kitcheningredients/components/ColorStatusBar.tsx","src/kitcheningredients/utils/UserInitLoader.tsx","src/kitcheningredients/storage/DefaultStorage.ts","src/kitcheningredients/App.tsx","src/kitcheningredients/index.tsx","src/project/helper/synchedVariables/SynchedStateKeys.tsx","src/project/helper/synchedVariables/StorageKeys.ts","src/project/helper/StringHelper.tsx","src/project/components/news/NewsHelper.tsx","src/project/components/washingmachine/WashingmashineHelper.tsx","src/project/helper/syncAndSetup/SyncCollectionLoader.ts","src/project/helper/CollectionHelper.tsx","src/project/components/conversations/ConversationHelper.tsx","src/project/helper/geo/DistanceHelper.tsx","src/project/helper/PlatformHelper.tsx","src/project/helper/SystemActionHelper.tsx","src/project/components/buildings/BuildingHelper.tsx","src/project/components/housing/HousingHelper.tsx","src/project/helper/synchedJSONState.tsx","src/project/helper/RoleHelper.tsx","src/project/helper/PermissionHelper.tsx","src/project/components/translations/DirectusTranslationHelper.tsx","src/project/components/profile/ProfileAPI.ts","src/project/components/translations/DirectusTranslationUseFunction.tsx","src/project/helper/ColorHelper.ts","src/project/components/translations/AppTranslation.tsx","src/project/helper/DateHelper.tsx","src/project/components/food/FoodLoader.ts","src/project/helper/Rectangle.tsx","src/project/components/animations/ColoredCrossLottie.tsx","src/project/components/animations/ProjectColoredCrossLottie.tsx","src/project/components/food/NoFoodOffersFound.tsx","src/project/components/animations/NotFound.tsx","src/project/helper/ViewPercentageBorderradius.tsx","src/project/components/buttons/MyTouchableOpacity.tsx","src/project/components/buttons/MyTouchableOpacityForNavigation.tsx","src/project/components/food/OtherFoodOffersDaysFoundComponent.tsx","src/project/helper/ParentSpacer.tsx","src/project/components/food/OtherFoodOffersDaysFound.tsx","src/project/components/images/ImageUploader.tsx","src/project/helper/MyAlertDialog.tsx","src/project/components/images/ImageUploaderTouchable.tsx","src/project/components/images/ImageDeleteTouchable.tsx","src/project/components/images/CollectionImageManipulator.tsx","src/project/components/images/CollectionImageDev.tsx","src/project/components/images/CollectionImage.tsx","src/project/components/food/FoodImage.tsx","src/project/layouts/GridLayout.tsx","src/project/components/GridList.tsx","src/project/helper/ViewPixelRatio.tsx","src/project/components/settings/SettingsRowInner.tsx","src/project/components/settings/SettingsRow.tsx","src/project/components/food/nutritions/icons/NutritionIconCaloriesSvg.tsx","src/project/components/food/nutritions/icons/NutritionIconCarbohydrateSvg.tsx","src/project/components/food/nutritions/icons/NutritionIconFatSvg.tsx","src/project/components/food/nutritions/icons/NutritionIconProteinSvg.tsx","src/project/components/food/nutritions/icons/NutritionIconSaltSvg.tsx","src/project/components/food/nutritions/icons/NutritionIconFiberSvg.tsx","src/project/components/food/nutritions/icons/NutritionIconSaturatedFatSvg.tsx","src/project/components/food/nutritions/icons/NutritionIconSugarSvg.tsx","src/project/components/CrossSvg.tsx","src/project/components/CrossNativeBaseSvg.tsx","src/project/components/food/nutritions/SpeicificNutritionIcon.tsx","src/project/components/food/nutritions/Nutrition.tsx","src/project/components/food/nutritions/Nutritions.tsx","src/project/components/food/nutritions/NutritionIcon.tsx","src/project/components/settings/SettingsSpacer.tsx","src/project/components/food/foodfeedback/FoodFeedbackAPI.ts","src/project/components/animations/NotAllowed.tsx","src/project/helper/overlay/TouchableOpacityIgnoreChildEvents.tsx","src/project/helper/AccountRequiredComponent.tsx","src/project/helper/PermissionHelperComponent.tsx","src/project/components/ratings/RatingValueIcon.tsx","src/project/components/imageOverlays/ImageOverlays.tsx","src/project/components/detailsComponent/DefaultComponentCardOverlayBox.tsx","src/project/components/translations/DirectusTranslatedMarkdown.tsx","src/project/components/imageOverlays/ImageOverlay.tsx","src/project/components/food/foodfeedback/foodrating/FoodRatingSingle.tsx","src/project/components/food/foodfeedback/foodrating/FoodRatingConstant.tsx","src/project/helper/FoodFeedbackHelper.tsx","src/project/components/food/foodfeedback/FoodRating.tsx","src/project/components/food/foodfeedback/FoodRatingDisplay.tsx","src/project/components/settings/SettingsRowNavigator.tsx","src/project/components/food/foodfeedback/FoodFeedbackRow.tsx","src/project/components/food/foodfeedback/FoodFeedbackList.tsx","src/project/components/food/foodfeedback/FoodCommentsComponent.tsx","src/project/screens/other/ImageFullscreen.tsx","src/project/components/profile/MarkingAPI.ts","src/project/components/icons/DebugIcon.tsx","src/project/components/marking/UseMarkingName.tsx","src/project/components/marking/MarkingName.tsx","src/project/components/detailsComponent/DefaultComponentBorderColors.tsx","src/project/components/detailsComponent/DetailsCardBorder.tsx","src/project/components/marking/MarkingSetting.tsx","src/project/components/notification/NotificationIcon.tsx","src/project/components/animations/AnimationNotificationBell.tsx","src/project/components/notification/helper/NotificationHelperComponentRemoteWeb.tsx","src/project/helper/notification/NotificationHelper.ts","src/project/helper/DeviceInformationHelper.tsx","src/project/components/notification/helper/NotificationHelperComponentRemoteMobile.tsx","src/project/components/notification/helper/NotificationHelperComponentRemote.tsx","src/project/components/notification/helper/NotificationHelperMobileTouchable.tsx","src/project/components/notification/helper/NotificationHelperComponentLocalMobile.tsx","src/project/components/animations/CommingSoonAnimation.tsx","src/project/helper/ComingSoonComponent.tsx","src/project/components/notification/helper/NotificationHelperComponentLocal.tsx","src/project/components/notification/NotificationItem.tsx","src/project/components/detailsComponent/DetailsComponentMenus.tsx","src/project/components/marking/MarkingIcon.tsx","src/project/components/food/FoodDetailsComponent.tsx","src/project/screens/food/FoodDetails.tsx","src/project/components/food/FormatedPriceText.tsx","src/project/components/food/FoodName.tsx","src/project/helper/ParentDimension.tsx","src/project/components/detailsComponent/DefaultComponentCard.tsx","src/project/components/marking/MarkingSettingsList.tsx","src/project/components/animations/AnimationAllergene.tsx","src/project/components/marking/MarkingActionSheet.tsx","src/project/components/food/FoodOfferHelper.ts","src/project/components/food/FoodCard.tsx","src/project/components/food/FoodCardListComponent.tsx","src/project/components/food/FoodOfferListComponent.tsx","src/project/components/canteen/CanteenIcon.tsx","src/project/screens/settings/SettingMarking.tsx","src/project/components/buildings/BuildingsImage.tsx","src/project/components/canteen/CanteenImage.tsx","src/project/helper/synchedHelper/useNearestLocation.tsx","src/project/helper/geo/LocationOpenerComponent.tsx","src/project/components/buildings/BuildingLocationOpenerComponent.tsx","src/project/components/buildings/BuildingsCardOverlayDistance.tsx","src/project/components/icons/InfoIcon.tsx","src/project/components/detailsComponent/DetailsComponentMenusForRelations.tsx","src/project/components/icons/ShowLocationIcon.tsx","src/project/components/icons/DescriptionIcon.tsx","src/project/components/buttons/MyButton.tsx","src/project/components/icons/ExternalLinkIcon.tsx","src/project/components/buildings/BuildingsContentActionMenuDescription.tsx","src/project/components/icons/CopyIcon.tsx","src/project/helper/MyClipboard.tsx","src/project/components/buildings/BuildingsContentActionMenuBuildingInformation.tsx","src/project/components/animations/WashingmachineAnimation.tsx","src/project/components/washingmachine/WashingmachineNotifyOverlay.tsx","src/project/components/washingmachine/WashingmashineCard.tsx","src/project/components/washingmachine/WashingmachineList.tsx","src/project/components/profile/ProfilesBuildingsLastVisitedAPI.ts","src/project/screens/housing/ApartmentContent.tsx","src/project/components/housing/ApartmentCard.tsx","src/project/components/housing/ApartmentList.tsx","src/project/components/housing/HousingIcon.tsx","src/project/components/icons/IdIcon.tsx","src/project/screens/buildings/BuildingsContent.tsx","src/project/components/profile/FavoriteBuildingsAPI.ts","src/project/components/buildings/BuildingFavoriteSingle.tsx","src/project/components/buildings/BuildingsCard.tsx","src/project/components/buildings/BuildingsList.tsx","src/project/components/businesshours/BusinesshoursHelper.tsx","src/project/components/businesshours/Businesshours.tsx","src/project/components/canteen/CanteenHelper.tsx","src/project/screens/canteen/CanteenContent.tsx","src/project/components/canteen/CanteenCardOverlayMoreInformation.tsx","src/project/components/canteen/CanteenCard.tsx","src/project/components/canteen/CanteenList.tsx","src/project/components/canteen/CanteenListAll.tsx","src/project/screens/settings/SettingCanteen.tsx","src/project/components/food/FoodListHeader.tsx","src/project/screens/food/FoodList.tsx","src/project/components/icons/SwitchIcon.tsx","src/project/components/datePicker/SimpleDatePickerComponent.tsx","src/project/components/datePicker/SimpleDatePicker.tsx","src/project/components/icons/PriceGroupIcon.tsx","src/project/components/animations/AnimationPriceGroup.tsx","src/project/components/settings/SettingsRowOption.tsx","src/project/screens/settings/SettingPriceGroup.tsx","src/project/components/food/FoodOfferListHeader.tsx","src/project/components/canteen/utilizationForecast/UtilizationForecastBar.tsx","src/project/components/canteen/utilizationForecast/UtilizationForecastRow.tsx","src/project/components/canteen/utilizationForecast/UtilizationForecast.tsx","src/project/screens/food/FoodOfferList.tsx","src/project/components/settings/SettingsRowBooleanSwitch.tsx","src/project/components/settings/SettingsRowThemeSwitch.tsx","src/project/screens/user/UsersAvatar.tsx","src/project/components/settings/SettingsRowSynchedBooleanSwitch.tsx","src/project/components/settings/SettingsProfileLanguageComponent.tsx","src/project/components/settings/SettingsRowMarking.tsx","src/project/components/settings/SettingsRowCanteen.tsx","src/project/components/icons/DemoIcon.tsx","src/project/components/courseTimetable/CourseTimetableHelper.tsx","src/project/components/courseTimetable/SettingTranslationCourseTimetable.tsx","src/project/components/courseTimetable/CourseTimetableIcon.tsx","src/project/components/settings/SettingsRowWeekday.tsx","src/project/components/courseTimetable/settings/SettingCourseTimetableFirstDayOfWeek.tsx","src/project/components/courseTimetable/settings/SettingCourseTimetableReset.tsx","src/project/components/settings/SettingsRowTimeEditComponent.tsx","src/project/components/icons/TimeStartIcon.tsx","src/project/components/icons/TimeEndIcon.tsx","src/project/components/courseTimetable/settings/SettingCourseTimetableTime.tsx","src/project/components/icons/SaveIcon.tsx","src/project/components/settings/SettingsRowNumberEditComponent.tsx","src/project/components/courseTimetable/settings/SettingCourseTimetableAmountDaysToShowAtOnce.tsx","src/project/components/icons/TitleIcon.tsx","src/project/components/courseTimetable/settings/SettingCourseTimetableIntelligentTitle.tsx","src/project/components/courseTimetable/settings/SettingCourseTimetableResetSettings.tsx","src/project/screens/settings/SettingCourseTimetable.tsx","src/project/components/courseTimetable/SettingsRowCourseTimetable.tsx","src/project/components/settings/SettingsRowTextEditComponent.tsx","src/project/components/icons/NameIcon.tsx","src/project/components/settings/SettingsUsersNicknameComponent.tsx","src/project/screens/user/ProfileRawInformation.tsx","src/project/helper/TextWithClipboard.tsx","src/project/components/animations/AnimationEmptyNotingFound.tsx","src/project/components/animations/NoFeedbackFound.tsx","src/project/components/food/FoodImageById.tsx","src/project/screens/user/ProfilesFoodFeedbacks.tsx","src/project/components/accountBalance/AccountBalanceHelper.tsx","src/project/components/accountBalance/AccountBalanceIcon.tsx","src/project/helper/useMyFocusHandler.tsx","src/project/components/animations/accountBalance/NfcInstruction.tsx","src/project/components/accountBalance/AccountBalanceReaderTouchable.tsx","src/project/components/animations/accountBalance/MoneyConfused.tsx","src/project/components/animations/accountBalance/MoneyConfident.tsx","src/project/components/animations/accountBalance/MoneyFitness.tsx","src/project/components/animations/accountBalance/MoneySad.tsx","src/project/components/accountBalance/AccountBalanceAnimation.tsx","src/project/components/icons/SettingsIcon.tsx","src/project/screens/accountBalance/AccountBalance.tsx","src/project/components/accountBalance/SettingsProfileAccountBalanceComponent.tsx","src/project/components/profile/ProfileResetRow.tsx","src/project/components/icons/DeleteIcon.tsx","src/project/components/icons/LoginIcon.tsx","src/project/components/profile/ProfileDeleteAccount.tsx","src/project/components/settings/SettingsRowCanteenPriceGroup.tsx","src/project/screens/user/Profiles.tsx","src/project/screens/settings/SettingsLogoutButton.tsx","src/project/components/settings/SettingsRowDrawerPosition.tsx","src/project/components/icons/PerformanceIcon.tsx","src/project/screens/settings/Settings.tsx","src/project/screens/home/MyHome.tsx","src/project/screens/wiki/WikiMenuContent.tsx","src/project/components/wiki/WikiLoader.ts","src/project/screens/news/NewsImage.tsx","src/project/screens/news/NewsContent.tsx","src/project/components/detailsComponent/DetailsCardHorizontal.tsx","src/project/screens/news/NewsCard.tsx","src/project/components/animations/AnimationSeemsEmpty.tsx","src/project/screens/news/NewsList.tsx","src/project/components/news/NewsIcon.tsx","src/project/screens/wiki/Wikis.tsx","src/project/components/icons/SortIcon.tsx","src/project/components/buildings/BuildingsListHeader.tsx","src/project/screens/buildings/BuildingsScreen.tsx","src/project/components/buildings/BuildingsIcon.tsx","src/project/components/housing/HousingGeneralDescription.tsx","src/project/screens/housing/HousingScreen.tsx","src/project/components/animations/CourseTimetableAnimation.tsx","src/project/components/icons/ColorIcon.tsx","src/project/components/colorPicker/ColorHelper.tsx","src/project/components/colorPicker/SimpleColorPicker.tsx","src/project/components/settings/SettingsRowColorEditComponent.tsx","src/project/screens/courseTimetable/CourseTimetableEvent.tsx","src/project/components/courseTimetable/CourseTimetableItemCard.tsx","src/project/components/courseTimetable/CourseTimetableSchedule.tsx","src/project/components/courseTimetable/CourseTimetableImportDefaultComponent.tsx","src/project/components/courseTimetable/timetableProviders/TimetableImportStudIP.tsx","src/project/components/courseTimetable/CourseTimetableHeader.tsx","src/project/screens/courseTimetable/CourseTimetable.tsx","src/project/components/inputs/TextInputGrowing.tsx","src/project/components/conversations/ConversationMessage.tsx","src/project/components/conversations/ConversationComponent.tsx","src/project/components/conversations/ConversationHeader.tsx","src/project/screens/conversations/Conversation.tsx","src/project/components/icons/ReloadIcon.tsx","src/project/components/conversations/ConversationsHeader.tsx","src/project/screens/conversations/Conversations.tsx","src/project/components/conversations/ConversationIcon.tsx","src/project/helper/syncAndSetup/SyncMenuLoader.tsx","src/project/components/settings/RemoteDirectusSettingsLoader.ts","src/project/codepush/CodePushValues.tsx","src/project/components/AnimatedLogo.tsx","src/project/codepush/UpdateScreen.tsx","src/project/components/console/DebugConsole.tsx","src/project/helper/syncAndSetup/SyncComponent.tsx","src/project/screens/settings/SettingProfile.tsx","src/project/screens/user/Users.tsx","src/project/helper/syncAndSetup/SetupLanguageHelper.tsx","src/project/helper/animatedViews/FadeInFadeOut.tsx","src/project/helper/syncAndSetup/DemoModeLogo.tsx","src/project/helper/syncAndSetup/SetupComponent.tsx","src/project/screens/debug/cardReader/IntercardReaderExample.tsx","src/project/components/imageOverlays/ImageOverlayCustom.tsx","src/project/screens/debug/accessibility/VoiceoverExample.tsx","src/project/screens/debug/systemAndStyle/PositionDebug.tsx","src/project/screens/debug/systemAndStyle/SynchedVariableText.tsx","src/project/screens/debug/systemAndStyle/IconListExample.tsx","src/project/helper/codepushmetahelper.tsx","src/project/screens/debug/systemAndStyle/CodePush.tsx","src/project/screens/debug/systemAndStyle/StyleExample.tsx","src/project/screens/debug/systemAndStyle/SystemSettingsLinks.tsx","src/project/screens/debug/systemAndStyle/DeviceInformationDebug.tsx","src/project/screens/debug/DebugPlayground.tsx","src/project/screens/debug/DirectusSettings.tsx","src/project/screens/debug/inputs/KeyboardAvoidingScrollviewExample.tsx","src/project/screens/debug/notification/NotificationExample.tsx","src/project/screens/debug/map/mockData.ts","src/project/screens/debug/map/MapLeaflet.tsx","src/project/screens/debug/systemAndStyle/ExampleSettingsRow.tsx","src/project/screens/login/LoginLanguageSelector.tsx","src/project/Project.tsx","nativebase.config.ts","app.config.js","index.web.js"],"names":["UserHelper","role","USER_ROLE_ANONYMOUS","id","email","title","first_name","last_name","user","useThemeTextColor","invert","useDarkTheme","theme","useTheme","useColorMode","colorMode","toggleColorMode","darkModeTextColor","lightModeTextColor","darkMode","textColor","refreshLock","AwaitLock","TransportWrapper","customErrorHandleCallback","method","path","data","options","Error","status","response","code","errors","extensions","console","log","JSON","stringify","isTokenExpired","shouldRetryRequest","answer","Promise","reject","ServerAPI","handleLogout","retryRequest","acquireAsync","wasAlreadyRefreshed","handleRefresh","refreshAnswer","isRefreshSuccessfull","releaseLock","ConfigHolder","instance","storage","get_auth_expires_date","expiresDateISOString","now","Date","expiresDate","secondsTillExpiration","directus","getDirectus","handleLogoutError","get_auth_refresh_token","refresh_token","get_auth_access_token","access_token","auth","refresh","release","err","error","toString","includes","toLowerCase","Transport","AuthTransportWrapper","axios","create","MemoryStorage","url","getBackendUrl","transport","getTransport","getAuth","CustomDirectusTypes","Directus","has_credentials_saved","deleteAll","logout","setUser","setRedirectToLogin","plugin","onLogout","initialize","errorHandler","is_anonymous","ms","dev","resolve","setTimeout","role_id","getClient","getPublicRole","delayInDev","roles","readOne","query_role_id","filter","_eq","permissions","readByQuery","readMany","directus_access_token","loginWithRefreshToken","refresh_token_to_use","refreshWithRefreshToken","expires","set_auth_expires","set_refresh_token","set_access_token","getAuthTransport","modeForAuth","Auth","autoRefresh","mode","token","auth_token","bearer","startsWith","String","Authorization","myTransport","beforeRequest","config","headers","getPublicClient","server","info","serverInfo","tempStore","parent","message","imageID","EnviromentHelper","getAssetURL","getProvidersURL","getAPIUrl","api","getAxiosInstance","get","providers","users","me","read","auth_refresh_token","post","Object","keys","requests","toJSON","undefined","AppConfig","getAppManifest","extra","getAppManifestExtra","BACKEND_URL","file_id","BASE_PATH","useCookiePolicy","displayThemeFloater","styleConfig","currentpackageJson","currentpackageJsonLock","thirdpartyLicense","authConfig","autoLogin","startAsAnonymous","mail","visible","registerVisible","position","guest","anonymous","callbackBefore","handleContinue","actionsheet","external","MyDirectusStorageWeb","webstorage","localStorage","key","getItem","removeItem","value","setItem","LottieWeb","initialSource","source","initialWidth","width","initialHeight","height","style","autoPlay","customLoading","flex","useState","setWidth","setHeight","setSource","reloadnumber","setReloadnumber","downloadInformations","useCallback","prev","useEffect","content","useMemo","outerStyle","event","nativeEvent","layout","LottieNative","props","x","y","useBackgroundColor","useToken","backgroundColor","light","dark","lightBg","darkBg","bgColor","useColorModeValue","KitchenSkeleton","defaultColor","justifyContent","alignItems","Icon","as","size","fontScale","PixelRatio","getFontScale","defaultAs","MaterialCommunityIcons","defaultSize","useSize","sizes","minKey","maxKey","scaledSize","closestKey","entries","clampedKey","color","KitchenSafeAreaView","paddingTop","Platform","OS","StatusBar","currentHeight","passedStyle","initialStyle","children","PlatformHelper","isAndroid","isIOS","isWeb","useKeyboardBottomInset","React","bottom","setBottom","subscriptions","useRef","current","Keyboard","addListener","e","endCoordinates","Math","max","startCoordinates","forEach","subscription","remove","MyActionsheetComponent","useDisclose","isOpen","onOpen","onClose","bottomInset","handleClose","renderAccept","acceptLabel","onPress","onAccept","renderOption","renderCancel","cancelLabel","onCancel","label","renderedIcon","cursor","renderOptions","output","onOptionSelect","option","icon","push","renderContent","renderCustomContent","renderDescription","description","opacity","actionSheetContentHeight","flexDirection","MyActionsheet","toast","useToast","toastIdRef","currentToastIdRef","close","show","params","duration","render","TranslationKeys","sidebar_menu","profile_and_settings","logout_confirm_message","register","sign_in","continue","is_currently_authenticated_remember_this_account","forgot_password","password","password_visible","password_hidden","confirm_password","continue_as_anonymous","log_in_with","home","switch","button_disabled","rushMinutes_openedFrom","rushMinutes_closedAfter","by_continuing_you_agree_to_terms_and_conditions_and_privacy_policy","cookie_policy_consent","cookie_policy_details","cookie_policy_about","cookie_policy_button_accept_all","cookie_policy_button_deny_all","cookie_policy_button_allow_selected","cookie_policy_consent_date","cookie_policy_policy_date_updated","cookie_policy_details_name","cookie_policy_group_necessary","cookie_policy_details_provider","cookie_policy_details_purpose","cookie_policy_details_expiry","cookie_policy_details_expiry_persistent","cookie_policy_details_type","cookie_policy_provider_we","cookies","RequiredStorageKeys","DefaultTranslator","translation_key","storageKey","KEY_AUTH_REFRESH_TOKEN","KEY_AUTH_EXPIRES","KEY_AUTH_EXPIRES_DATE","KEY_AUTH_ACCESS_TOKEN","CACHED_SERVER_INFO","CACHED_THEME","CACHED_USER","IS_ANONYMOUS","COOKIE_CONFIG","CookieGroupEnum","CookieStorageTypeEnum","CookieHelper","CookieDictNameToDetails","getDefaultCookieConfig","empty","date_consent","consent","Necessary","cookieAdditionGroups","getCookieAdditionalGroups","cookieConsentGroups","cookieConsentGroup","getAcceptAllCookieConfig","ColorCodeHelper","nextTheme","VALUE_THEME_LIGHT","VALUE_THEME_DARK","colorScheme","Appearance","getColorScheme","AsyncStorage","cookieAsString","cookie","getCookieFromStorageString","val","getSystemPreferedColor","VALUE_THEME_DEFAULT","getNewCookieFromKeyValue","storageString","getStorageStringFromCookie","getOverwriteTheme","getColorModeFromStorage","set","setColorModeToStorage","getContrastRatio","foreground","background","lumA","Color","getLuminance","lumB","min","useMyContrastColor","trueBg","customContrastColor","trueDarkText","trueLightText","contrastThreshold","darkTextConstrast","lightTextConstrast","isDarkMode","RequiredSynchedStates","menuReloadNumber","navigationHistory","showCookies","SynchedVariableInterface","defaultValue","beforeHook","afterHook","KeyExtractorHelper","Class","classKeys","synchedKeys","classKey","synchedKey","useSynchedState","useStoreState","state","setValue","useStoreActions","actions","useSynchedJSONState","jsonStateAsString","setJsonStateAsString","parsedJSON","parse","dict","useSynchedDrawerConfig","CACHED_DRAWER_CONFIG","drawerConfig","setDrawerConfig","drawerPosition","useSynchedCookieConfig","usedCookieConfig","cookieConfig","setCookieConfig","SynchedState","store","getListOfStaticKeyValues","getStorageKeysClass","getSynchedStateKeysClass","override","additionalModel","globalSynchedStoreModels","listOfKeys","i","length","registerSynchedState","payload","aditionalStoreModel","cancel","registerSynchedStates","getRequiredSynchedStates","getPluginSynchedStates","model","additionalKeys","action","handleAction","createStore","NavigationQueueItem","routeName","resetHistory","navigationRef","createRef","isReadyRef","NavigatorHelper","func","setNavigationHistory","route","nativeState","getCurrentNavigation","getRootState","webState","getState","history","Array","prototype","concat","routes","map","reduce","acc","k","keepHistory","toISOString","isNavigationLoaded","emptyParams","getEmptyParams","usedEmptyParams","currentNavigation","dispatch","DrawerActions","jumpTo","getHistory","queueItem","navigationQueue","queueCopy","nextNavigation","shift","navigateToRouteName","Home","test","setTest","customHomeComponent","getHomeComponent","loadInformation","get_auth_expires","displayName","keyof","FormButton","loading","getLoadingContent","TransparentButton","accessibilityLabel","TransparentTextButton","SignOutButton","cancelRef","setIsOpen","useTranslation","getUseTranslationFunction","openConfirmBox","renderAlertBox","maxWidth","alignSelf","renderOnlyIcon","renderLogoutText","onlyIcon","InternalLink","beforeNavigateCallback","afterNavigateCallback","Navigation","navigateTo","destination","fontSize","URL_Helper","DEFAULT_ROUTE_LOGIN","createURL","makeUrl","fullURL","window","location","href","split","Linking","getLocationWithoutQueryParams","queryString","obj","arr","a","paramName","paramValue","match","replace","index","exec","RequestResetPasswordForm","setEmail","validEmail","setValidEmail","resetInitiated","setResetInitiated","requestPasswordReset","getCurrentLocationWithoutQueryParams","request","marginVertical","target","Login","ResetPasswordForm","setPassword","p","resetPassword","ResetPassword","navigation","Register","hideDrawer","registerInitiated","setRegisterInitiated","passwordConfirm","setPasswordConfirm","translation_email","translation_register","translation_password","translation_password_show","translation_password_hide","translation_confirm_password","translation_sign_in","isDrawerHidden","setHideDrawer","registerUser","createOne","handleLoginWithCredentials","text","useThemedShade","level","colors","maxLevel","minLevel","getShadeByLevel","themeLevel","_myThemeShade","colorGroup","MyThemedBox","_shadeLevel","childrenWithProps","Children","child","isValidElement","cloneElement","showResetPassword","showEmailLogin","login","getDirectusAccessTokenName","EmailLogin","loginInitiated","setLoginInitiated","loginIncorrect","setLogginIncorrect","showPassword","setShowPassword","translation_forgot_password","handleLoginWithEmail","renderResetPasswordButton","navigateToRegister","renderRegisterButton","renderEmailLogin","toggleShowPasswordIcon","rightElement","StringHelper","amount","EMPTY_SPACE","str","$","ofs","name","words","capitalizeFirstLetter","join","string","charAt","toUpperCase","slice","replaceAll","RegExp","NONBREAKING_SPACE","CSS_Helper","custom_css","ast","CSSOM","selectorsMap","rules","cssRules","rule","selectorText","styleForSelectorText","lengthRaw","parseInt","selectorProperty","selectorValue","ServerInfoHelper","project","project_name","project_color","project_logo","getAssetImageURL","getProjectLogoAssetId","public_background","getProjectBackgroundAssetId","manifest","version","parsed_css","parseCssToSelectorMap","customSsoIconStyle","getProjectColor","AuthProvider","provider","buttonText","callback","translation_log_in_with","getUrlToProvider","redirectURL","getURLToBase","redirect_with_access_token","totalURL","renderIcon","family","MaterialIcons","glyphMap","hasOwnProperty","providerName","ssoIconStyle","getSsoIconStyle","iconBackgroundColor","providerNameReadable","borderRadius","paddingLeft","touchableContent","AuthProvidersLoginOptions","firstFetch","setfirstFetch","authProviders","setAuthProviders","fetchAuthProviders","getAuthProviders","renderAuthProvider","renderAuthProviders","renderCustomAuthProviders","customProviders","customProvider","AuthProviderAnonymous","useActionsheet","translation_continue_as_guest","setUserAsAnonymous","DEFAULT_ROUTE_HOME","handleOpened","WebViewLogin","translation_continue","translation_is_currently_authenticated_remember_this_account","renderSignInText","renderLoading","renderRememberThisAccount","identifier","renderLoginOptions","loginOptions","component","sort","b","rendered","renderLoginInformations","loaded","isGuest","RouteHelper","bestName","startURL","hash","getHashRouteWithSearchParams","search","getSearchParamString","searchParams","URLSearchParams","searchDict","ROUTE_HASH_PREFIX","ROUTE_PATH_PREFIX","substr","lastAccessToken","getUser","getRouteParams","fetchAccessTokenInUrl","loginWithAccessDirectusAccessToken","getMe","navigateHome","fetchAccessToken","successWithUrlToken","drawerNeedsToBeHidden","isBrowserUrlCorrect","currentRouteName","currentURL","getInitialRouteName","handleUseEffect","realInitialRouteName","nextInitialRouteName","paramsToURLSearch","finishedLoading","lorem","LoremIpsum","sentencesPerParagraph","wordsPerSentence","TextGenerator","generateWords","getLineEnding","generateParagraphs","AboutUs","getNameOfComponent","getAboutUsComponent","generateTextLong","PrivacyPolicy","getPrivacyPolicyComponent","ExpandableDrawerItem","menu","expanded","setExpanded","nextExpandState","menuChilds","getChildItems","hasChildren","renderExpandIcon","handleOnPressIcon","handleOnPress","handleOnPressContent","renderSubMenuContent","renderedChilds","childMenu","boxShadeLevel","padding","paddingVertical","paddingRight","MenuItem","items","command","list","childItem","childItems","item","addChildMenuItem","fromRoute","PackagesWithLicenses","getUrlToPackageInformation","dependencyKey","renderAllPackages","dependencies","lockPackageDependencies","packages","dependencyKeys","upperVersion","keyInPackageLockDependency","packageLockDependency","currentVersion","thirdpartyDependency","renderPackage","getSubMenuRow","getSubMenuWithLink","getPackageChildrenMenu","repositoryUrl","repository","backupUrl","packageUrl","license","licenses","publisher","menuItem","subMenus","addChildMenuItems","paddingBottom","SettingsSpacer","renderZeroSpaceHeight","License","getLicenseComponent","LegalRequiredInternalLink","requiredMenuKey","requiredMenuItems","LegalRequiredCookieLink","translation_cookies","LegalRequiredLinks","renderedCookieLink","DEFAULT_MENU_KEY_ABOUT_US","DEFAULT_MENU_KEY_PRIVACY_POLICY","DEFAULT_MENU_KEY_LICENSE","DEFAULT_MENU_KEY_ACCESSIBILITY","Settings","customComponent","getSettingsComponent","flexWrap","Accessibility","getAccessibilityComponent","toggleDrawer","openDrawer","closeDrawer","registeredComponents","funComponents","template","funComponent","routeRegister","componentName","newRoute","registeredMenuItems","menuDict","menuGetRegisteredDict","menuList","values","CommonActions","goBack","navigateSearch","routePathOrComponent","hashChanged","DEFAULT_MENU_KEY_SETTINGS","MyTouchableOpacity","disabled","accessibilityState","accessibilityRole","mergedStyle","isArray","DrawerButton","useTextColor","usedColor","isHidden","hidden","headerBackgroundColor","drawerClose","drawerToggle","BackButton","navigateBack","useProjectColor","ssoBackgroundColor","Layout","WIDTH_MD","WIDTH_LG","WIDTH_XL","widthValues","endsWith","getRawWidthValues","transformWithValuesToPxIfPossible","baseTemplateWidthValues","useBreakpointValue","getBaseTemplateContentWidth","base","md","getSmallDeviceValues","HeaderWithActions","isSmallDevice","usesSmallDevice","projectColor","headerShadeLevel","themedBackgroundColor","useProjectHeaderBackgroundColor","headerTextColor","textAlign","useNavigationHistory","setHistory","showBackButton","showbackbutton","renderDrawerButton","additionalStyle","renderTitle","renderCustomTitle","display","renderActions","renderBottomRow","renderCustomBottom","renderHeader","LoadingView","styles","left","right","top","getDirectusImageUrl","assetId","imageURL","isPublic","useUnsafeAccessTokenInURL","DirectusImage","useCache","useBase64Cache","notCachedBase64","setNotCachedBase64","usedBase64Image","uri","setLoading","mountedRef","loadBase64ImageWithAxios","responseType","then","image","encode","Uint8Array","byte","fromCharCode","loadBase64WithAuthorization","tokenOrPublic","loadImage","setCachedBase64Image","alt","fallbackElement","pressWrapper","titleBoxHeight","UserProfileAvatar","displayUser","loadUserInformation","avatarAssetId","avatar","customUserAvatar","renderCustomUserAvatar","dimension","heightAndWidth","RequiredSettingsButton","handleAvatarPress","BreakPointLayout","doclink","_status","_hStack","breakPointWidthValues","getWidthValues","boxWidth","margin","ParentSpacer","space","direction","GridLayout","amountColoumn","divider","amountChildren","amountRows","ceil","rows","rowIndex","row","columnIndex","paddingHorizontalValue","GridList","beakpointsColumns","paddingHorizontal","paddingVerticalValue","renderedCards","defaultBreakpoints","sm","lg","xl","beakpoints","ParentDimension","setDimension","ShowMoreGradientPlaceholder","Ionicons","ShowMoreGradient","horizontal","gradColors","isMounted","renderGradient","heightWidthStyle","steps","fill","_","ScrollViewWithGradient","scrollViewProps","hideGradient","renderedGradient","renderedPlaceholder","onLayout","contentContainerStyle","AuthProviderCustom","MarkdownSkeleton","renderTextRow","MarkdownIt","require","ThemedMarkdown","sourceContent","markdown","hideSkeleton","darkmode","emToPixel","em","fontWeightNormal","normal","lineHeightNormalInEm","lineHeightNormal","parseFloat","option_find_linebreaks","result","html","useWindowDimensions","tagsStyles","fontStyle","borderColor","borderWidth","defaultTextProps","selectable","fontWeight","lineHeight","debug","DirectusMarkdown","fieldname","DirectusSingletonMarkdown","information","setInformations","load","collection","DeviceHelper","DeviceInfo","getBrand","brand","getBaseOs","baseOs","windowWidth","Dimensions","windowHeight","windowScale","scale","isEmulator","isSimulator","isTablet","platform","getPlatformDisplayName","getSystemVersion","systemVersion","isLandscape","display_width","display_height","display_scale","display_pixelratio","display_fontscale","ViewPixelRatio","copiedStyle","fixAbsoluteValues","copiedValue","isNaN","absoluteValue","getPixelSizeForLayoutSize","fixStyleForFields","fieldnames","getFieldVariations","basefield","getFieldsVariations","variations","basefields","ViewPercentageBorderradius","reloadNumber","fixPercentage","percentage","radiusAsInt","SettingsRowInner","outerBackgroundColor","leftBackgroundColor","rightBackgroundColor","leftContent","rightContent","renderLeftIcon","leftIcon","renderRightIcon","rightIcon","marginLeft","innerFlexStyle","renderedLeftContent","renderedRightContent","flexGrow","AccessibilityRoles","DetailsComponentMenus","defaultButtonColor","defaultTextColor","defaultActiveTextColor","defaultActiveColor","hideSelection","useScrollViewForHeader","menus","menuKeys","defaultMenuKey","selectedMenuKey","setSelectedMenuKey","selectedMenu","element","renderMenuButton","menuKey","isSelected","buttonContent","menuButtonContent","menuButtonText","onPressMenu","amountText","fontColor","activeColorHighlight","usedMenuButtonContent","heightHighlight","marginHorizontal","marginTop","marginBottom","tab","proceed","renderMenuButtons","spacer","useDefaultButtonColor","components","Button","defaultProps","_dark","_light","SettingsRow","expandedState","setExpandedState","expandable","defaultAccessibilityState","renderInner","showPress","renderOuter","customDivider","SettingsRowBooleanSwitch","isCheckedRaw","setIsChecked","isChecked","translationSwitch","translationDisabled","accessibilityLabelWithFunction","smallDevice","nextValue","debugContent","onTrackColor","ProjectLogo","project_logo_asset_id","renderCustomProjectLogo","overflow","DateHelper","offerDate","withYear","withTime","date","iso","trimmed","splits","years","month","days","firstPart","hours","getHours","minutes","getMinutes","hoursWithPad","minutesWithPad","CookieInformationInner","autoOpenCookies","menu_key_cookie_consent","menu_key_cookie_details","menu_key_cookie_about","project_color_contrast_color","defaultButtonContrastColor","useBaseTemplateContentWidth","tempCookieConfig","setTempCookieConfig","date_consent_human_readable","getHumanReadableDate","date_cookie_policy_updated","date_cookie_policy_updated_human_readable","formatDateToReadable","translation_cookie_policy_consent","translation_cookie_policy_details","translation_cookie_policy_about","translation_cookie_policy_button_accept_all","translation_cookie_policy_button_deny_all","translation_cookie_policy_button_allow_selected","translation_cookie_policy_details_name","translation_cookie_policy_details_purpose","translation_cookie_policy_details_type","translation_cookie_policy_details_expiry","translation_cookie_policy_details_provider","translation_cookie_policy_consent_date","translation_cookie_policy_policy_date_updated","translation_save_current_selection","default_menu_key","setDefaultMenuKey","getMenu","translation_text","menu_consent","renderCookiesConsent","menu_details","renderCookieDetails","menu_about","renderCookiesAbout","acceptCookiesSelected","handleDecision","denyCookiesAll","acceptCookiesAll","cookie_config","getTime","renderCookiesConsentScrollView","getCookieComponentConsent","renderSwitchCookie","type","getCookieGroupName","renderSwitchCookieForAdditionalGroups","additional_groups","group","renderPolicyUpdatedDate","renderSpecificCookieDetailsTableHeader","renderSpecificCookieDetails","specificCookieName","cookieDetails","providerLabel","provider_url","renderedProvider","link","openURL","purpose","expiry","storageType","renderCookieTypeDetails","cookieType","totalCookieList","cookiesFoundInType","renderedCookieDetails","specificCookieDetails","getCookieDetails","specificCookieType","amountCookiesFoundInType","button","renderCookieDetailsForAdditionalGroups","getCookieComponentAbout","CookieInformation","cookieConsentUpToDate","isUpToDate","EmptyTemplate","memo","keyboardVerticalOffset","MyDirectusStorage","LottiePlatformSpecific","CrossLottie","DirectusIconComponent","rest","iconName","DirectusIcon","CustomFloaters","floater","floaters","RequiredNavigationBar","header","childContent","getBottomNavbarComponent","renderChildren","childrenArray","count","toArray","CloneChildrenWithProps","BaseLayout","setDimenstion","passProps","setDimensions","adjustedHeight","renderBaseLayoutContent","pluginRenderBaseLayoutContent","renderHeadingContent","BaseNoScrollTemplate","loadedHeaderInitialState","advancedSettings","loadedContentInitialState","setRenderHeader","setRenderContent","showLoader","setShowLoader","renderedContent","renderedHeader","BaseNoPaddingTemplate","BasePadding","BaseTemplate","CookieDefaultComponents","PluginInterface","enableReplaceAllOnOldDevices","cookieName","translationWe","requiredCookiesNames","getRequiredStorageKeys","defaultDetails","useRequiredStorageKeysPurpose","LocalStorage","requiredCookieName","cookieGroup","TextWithIcon","renderRowInformation","isIconString","marginRight","ViewWithBackgroundColor","Root","ignoreNextHashChange","routeNameRef","handleHashChange","currentUrl","initialRouteName","getSearchParam","addEventListener","removeEventListener","subroute","basePath","getBasePath","getCurrentRoute","handleNavigationQueue","trackScreenView","previousRouteName","currentRoute","currentRouteParams","navigateSearchParams","nextHash","sameHash","sidebarWidth","BaseThemeGenerator","initialColorMode","baseTheme","extendTheme","defaultButton","breakpoints","Text","slateGray","Pressable","Drawer","createDrawerNavigator","RouteRegisterer","drawerBorderColor","drawerBackgroundColor","screens","getDrawerScreens","loginScreens","getOnlyLoginDrawerScreens","routeLogin","HOME_AUTHENTICATED","HOME_UNAUTHENTICATED","ProjectName","getProjectName","project_version","getProjectVersion","themedColor","renderVersion","CustomDrawerContent","translation_home","renderDrawerItems","registeredMenusList","menuGetRegisteredList","sortedMenus","sortMenus","positionA","positionB","renderLegalRequirements","getDrawerBackgroundColor","customBackgroundStyle","renderDrawerCloseButton","ThemeChanger","handleChange","bind","ThemeFloaterButton","renderedFab","bg","Floaters","themeFloaterButton","getFloaters","ProjectBanner","boxHeight","ProjectBackground","imageBackgroundAssetId","fallbackStyle","LoginTemplate","renderLoginTopRight","renderLoginTemplateTopRight","translation_by_continuing_you_agree_to_terms_and_conditions_and_privacy_policy","renderSpaceBetweenLogoAndSignIn","renderConsentTermsOfUseAndPrivacyPolicy","renderLeftSide","renderRightSide","DefaultNavigation","menusResetRegistered","routesResetRegistered","registerDefaultRoutes","registerLegalRequirements","registerRoutes","loginRoute","homeRoute","loginMenu","menuRegister","BaseTemplateWithoutCookiesForce","about_us_menu_item","privacy_policy_menu_item","license_menu_item","settings_menu_item","accessibility_menu_item","initialSearch","registeredRoutes","routeGetRegistered","getScreensFor","getRegisteredRouteForScreenByComponent","getRegisteredRoutesForScreenByComonents","anonymScreens","getAnonymUserScreens","getDrawer","renderedScreens","routeKey","routeInfo","screenContent","createElement","customProps","renderedComponent","NavigationHistorySetter","setSetNavigationHistoryFunction","RootStack","setInitialSearch","largeScreenDrawerType","drawerType","getDrawerBorderColor","drawerStyle","showOnlyScreensForAnonymUser","getAllScreens","unmountOnBlur","pluginRootComponent","getRootComponent","redirectToLogin","headerShown","animationEnabled","ColorStatusBar","UserInitLoader","userLocalSaved","syncedUser","setSyncedUser","serverInfoLocalSaved","setServerInfo","syncedServerInfo","setSyncedServerInfo","configHolderUser","loadServerInfo","serverStatus","isOffline","setState","offline","loadUser","userRemote","getServerInfo","DefaultStorage","implementation","init","initSynchedStorageKeys","pluginStorageKeys","getPluginStorageKeys","getCookie","defaultSaveStorageContext","getAllKeys","isAnonymous","setValueOrDeleteIfNull","delete","set_user","set_is_anonymous","time","expiresIn","timeNumber","Number","getStorageImplementation","date_created","setCookie","deleteCookie","allKeys","App","ignoreInstance","subscribe","baseurl","ExpoLinking","screenURL","urlSplit","getAllUrlParams","backendUrl","getHardCodedBackendURL","syncFinished","loadedUser","listener","onReceiveURL","loadRole","loadPermissions","setBackendUrl","reload","nextRouteName","getCurrentRouteName","useRouteName","getAnonymousUser","onLogin","registerRoutesAndMenus","areCredentialsSaved","initContextStores","initSynchedKeys","loadSynchedVariables","initApp","getInitialURL","directusAccessTokenSplit","directusAutTokenIncluded","realInitialURL","directusAccessToken","getBaseTheme","additionalContent","loadingContent","getLoadingComponent","syncContent","getSyncComponent","setSyncFinished","root","getLoadingScreen","getSynchScreen","getNormalContent","rootWrapper","getRootWrapper","rootContent","getContextStore","getManager","Component","multiply","SynchedStateKeys","exampleSynchedText","syncingFinished","syncedMenuLoader","synchedUser","synchedRole","synchedFoodFeedbacks","synchedDebugVisible","synchedActionSheet","SYNCHED_NotificationPermission","SYNCHED_DeviceInformations","StorageKeys","CACHED_REMOTEAPPSETTINGS","CACHED_MEALOFFERS_TODAY","CACHED_OS_LANGUAGE","CACHED_APP_SETTINGS_CHATROOMS","CACHED_APP_SETTINGS_MEALS","CACHED_APP_SETTINGS_UTILIZATIONS","CACHED_APP_SETTINGS_ACCOUNT_BALANCE","CACHED_APP_SETTINGS_NOTIFICATIONS","CACHED_APP_SETTINGS_HOUSING","CACHED_APP_SETTINGS_NEWS","CACHED_APP_SETTINGS_BUILDINGS","CACHED_APP_SETTINGS_COURSE_TIMETABLE","CACHED_PERSONAL_SETTINGS_COURSE_TIMETABLE","CACHED_DIRECTUSSETTINGS","CACHED_DIRECTUS_LANGUAGES","CACHED_NEWS","CACHED_APP_TRANSLATIONS","CACHED_REMOTEAPPFIELDS","CACHED_MARKINGS","CACHED_WIKIS","CACHED_CHATROOMS","CACHED_CHATROOMTOPICS","CACHED_PROFILE","LOCAL_BUILDINGS_LAST_VISITED","CACHED_BUILDINGS","CACHED_APARTMENTS","CACHED_WASHINGMACHINES","CACHED_IMAGE_OVERLAYS","CACHED_BUSINESSHOURS","CACHED_BUILDINGSFAVORITES","CACHED_CANTEENS","CACHED_NOTIFICATIONS_LOCAL","CACHED_LOCAL_PERFORMANCE_MODE","CACHED_DEBUG_MODE","CACHED_DEMO_MODE","CACHED_DEBUG_INFORMATIONS","pascalCaseToUnder_Score","getNameOfTypeObject","find","toReplace","NewsHelper","titles","newsItem","getDemoNewsByIndex","custonName","demoName","WashingmashineHelper","getDemoWashingmachineDict","getDemoMachine","names","date_finished","getCurrentDateInMinutes","SyncCollectionLoader","additionalFields","fields","getFieldsForAll","field","transformFunction","limit","offset","currentValue","setFunction","getRemoteCollection","loadedValue","asString","CollectionHelper","transformCollectionToDictByKey","ConversationHelper","chatroom_id","useSynchedChatroomsDict","chatroomsDict","setChatroomsDict","loadAllChatrooms","chatroom","useChatroom","chatroom_messages","messages","chatroomTopicId","topic","useChatroomTopicTitleByTopicId","topic_id","useSynchedChatroomTopicsDict","chatroomTopicsDict","setChatroomTopicsDict","chatroomTopic","chatroomTopicTranslations","translations","topicTitle","useDirectusTranslation","setCacheOfRemoteCollection","getChatroomsTablename","getFieldsForAllAndTranslations","transformCollectionToDict","amountDemoConversations","demoConversations","getDemoConversation","getDemoChatroomTopic","getDemoMessages","conversation_id","amountDemoMessages","demoMessages","getDemoMessage","getDemoMessageTextarea","lineText","DistanceHelper","lat1","lon1","lat2","lon2","precision","getDistanceInKmWithPlanetRadius","EARTH_RADIUS_IN_KM","planetRadius","dLat","deg2rad","dLon","sin","cos","c","atan2","sqrt","d","rounded","round","pow","number","PI","isMobile","ANDROID_PARAM_NEW_ACTIVITY","flags","CommonSystemActionHelper","open","useGoogleMaps","latitude","longitude","alwaysUseGoogleMaps","openExternalURL","PrivateSystemActionHelper","activityAction","extras","IntentLauncher","iosURL","androidAction","androidExtras","androidStartActivityAsync","mobileSystemActionHelper","openSettings","openActivity","iPhoneSystemActionHelper","androidSystemActionHelper","SystemActionHelper","BuildingHelper","building","buildingUrl","getBuildingUrl","buildingLocation","getBuildingLocation","openMaps","building_coord","coord","coordinates","userLat","userLon","buildingLat","buildingLon","distance","getDistanceInKm","toFixed","year_of_construction","HousingHelper","useSynchedSettingsHousing","housingSettings","setHousingSettings","housingVisibility","getDemoHousingByIndex","availablefromDate","available_from","washingmachines","getDemoWashingmachineIdList","useJSONState","rawValue","usedJsonStateAsString","useJSONStateWithDefaultValue","usedParsedJSON","useDebugMode","usePerformanceMode","useDemoMode","useSynchedRemoteSettings","useSynchedChatroomsSettings","useSynchedSettingsFoods","useSynchedSettingsUtilizations","useSynchedSettingsAccountBalance","useSynchedSettingsCourseTimetable","useSynchedSettingsNotifications","useSynchedSettingsNews","useSynchedSettingsBuildings","useSynchedDirectusSettings","useSynchedDirectusLanguage","useSynchedNews","demo","setDemo","synchedResource","getDemoNewsDict","synchedResources","getDemoDict","useSynchedMarkingsDict","useSynchedAppTranslations","useSynchedRemoteFields","useSynchedWikis","wikis","setWikis","useWikiByIdOrCustomId","wiki_id","custom_id","wikiIds","wikiId","wiki","useWikiTitle","useSynchedBuilding","resource_id","useSynchedBuildingsDict","resources","setResources","getDemoBuildingsDict","useSynchedApartment","useSynchedApartmentsDict","resourceDict","setResourcesDict","resource","getDemoHousingDict","useSynchedWashingmachine","useSynchedWashingmachinesDict","useSynchedImageOverlays","useSynchedImageOverlaysDict","useSynchedNotificationsLocalDict","useSynchedBusinesshoursDict","useSynchedCanteen","useSynchedCanteensDict","canteensDict","setCanteensDict","RoleHelper","admin_access","PermissionHelper","getPermissions","getRole","isFieldAllowedForAction","isAdmin","permission","collectionInPermission","permissionsAction","fieldsOfItem","filteredItem","DirectusTranslationHelper","DEFAULT_LANGUAGE_CODE","FALLBACK_LANGUAGE_CODE","profileRelations","profileFields","relation","deepFields","_limit","loadProfileRemote","userInstance","profile","_and","deep","remoteProfileListAnswer","remoteProfile","ProfileAPI","profile_id","user_id","profileKeys","newProfile","fakeUser","admin_divider","preferences_divider","markings","canteen","nickname","user_created","loadFakeDirectusUser","user_updated","date_updated","useSynchedProfile","setProfile","priceGroup","getPriceGroupFieldName","setPriceGroup","priceGroupStudent","defaultPriceGroup","usedPriceGroup","priceGroups","useAppTranslation","food_offer_field","passedProfile","usedProfile","profilesLanguageCode","getLanguageFieldName","locale","jsonState","setJsonState","filteredProfile","filterForAllowedUpdateFields","privacy_policy_date_accepted","updateOne","fallbackProfile","useSynchedProfileCanteen","newCanteen","useSynchedDevices","getDeviceIdentifier","device","devices","setDevices","newDevices","isDeviceUpToDateOrUpdate","deviceInformations","deviceInformationsId","foundDevice","remoteKeys","localKeys","keysForComparison","foundDifference","remoteValue","remoteValueForComparison","localValue","localValueForComparison","deviceInformationsForUpdate","useProfileLanguageCode","default_language_code","language_code","language","ignoreFallbackLanguage","fallback_text","translationDict","getLanguageDict","translation","languages_code","getTranslation","translationEntry","paramKeys","paramKey","fallback_translation","ColorHelper","percent","num","amt","R","B","G","newColor","darkenColor","useDefaultDarkenColor","AppTranslation","postfix","prefix","useHeaderTextColor","dynamicBackgroundColor","contrastColor","useContrastColor","dynamicColor","useAppTranslationMarkdown","useAppTranslationRaw","remoteAppTranslations","setRemoteAppTranslations","appTranslation","defaultTranslation","fallbackText","Weekday","parts","seconds","setHours","setMinutes","setSeconds","firstDayOfWeek","useFirstDayOfWeek","MONDAY","weekOrder","SUNDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","getWeekdayIndex","currentWeekDates","getCurrentWeekDates","getWeekdayNameByDate","weekday","from","to","fromIndex","toIndex","difference","dayNumber","enumValues","getWeekdayEnumsValues","getWeekdayByDate","weekdayIndex","getDay","weekdayEnums","indexToWeekdayEnum","weekdayEnum","weekdayEnumIndex","weekdayNames","getWeekdayNames","weekdayName","firstDateOfWeek","getFirstDateOfWeek","setDate","getDate","weekDayName","getDefaultWeekdayDate","toLocaleString","firstDayOfMonth","getFirstDayOfMonth","weekDateOfFirstDayOfMonth","firstDayOfWeekIndex","diffToStartWithFirstDayOfWeek","lastDayOfMonth","getFirstDayOfNextMonth","amountDays","getAmountDaysFromLastMonthForWeekstart","getLastDayOfMonth","lastDayInMonth","temp","diff","firstDayOfNextMonth","setMonth","getMonth","startDate","dates","startOfTheDay","endOfTheDay","futureDates","step","absAmount","abs","dayRange","reverse","datesAsDates","date1","date2","tempDate","toDateString","today","tomorrow","addDays","yesterday","translationToday","translationTomorrow","translationYesterday","isSameDay","oneWeekLater","formatOfferDateToReadable","floor","minutesLeft","readable","formatHoursAndMinutesToHH_MM","getDateInMinutes","getSecondsDifference","hoursString","minutesString","FoodLoader","foodoffer_id","collection_foodoffers","food_offer_fields","canteenId","dateFilter","andFilters","paramDate","formatToOfferDate","formatedDate","dateRanges","getDatesOfAmountNextDaysIncludingToday","startRange","start","endRange","end","_between","partialname","limitSearchResults","collection_foods","_contains","food_fields","food_id","foods_id","demoMarkingIds","demoMarkings","amountMarkings","demoMarkingId","demoFoodOffers","getDemoFoodOffers","foodOffer","fo","food","customFoodName","demoFoodName","feedbacks","getDemoFeedbacks","getDemoFoodMarkings","priceStudent","priceEmployee","priceGuest","getDemoPrivateFoodDetails","amountDemoFoodOffers","getDemoFoodOfferByIndex","aspectRatio","multiplier","calculateAspectRatio","isFinite","isString","parsedValue","ColoredCrossLottie","colorReplaceMap","performanceModeUsing","performanceMode","setPerformanceMode","hexToLottieColor","hex","r","g","replaceColorsInLottie","lottieJSON","coloredSource","ProjectColoredCrossLottie","rocketMealsColor","useColorToReplace","searchForColor","NoFoodOffersFound","noFoundWidths","noFoundWidth","noFoodOffersFound","NotFound","notFound","accessibilityHint","MyTouchableOpacityForNavigation","translationNavigateTo","accessibilityLabelWithNavigation","OtherFoodOffersDaysFoundComponent","profileLocal","future","nearestOfferDate","setNearestOfferDate","dateFound","getFoodOffers","newFoodOffersNextDays","foodsByDateDict","offer","foodsByDate","sortedDates","sortDates","nextDate","getTextNoFoodsFound","amountDaysAbs","getTextNearest","renderLoadingContent","dayName","toLocaleDateString","FoodOfferList","canteenid","OtherFoodOffersDaysFound","profileCanteenId","setProfileCanteenId","ImageUploaderStatus","ImageUploader","ImagePicker","GRANTED","handleImageUploadProcess","isPermissionGranted","isPermissionUndetermined","isPermissionDenied","uploadBase64ImageToFieldInCollection","collection_name","instance_id","field_name","onUpload","openImageSelection","selectionLimit","aspect","canceled","base64Image","getGetBase64ImageFromResults","updateResult","success","UNDETERMINED","DENIED","allowsMultipleSelection","mediaTypes","Images","allowsEditing","base64","quality","cancelled","s","encodeURI","base64Data","MyAlertDialog","allowAction","accept","ImageUploaderTouchable","alertOpen","setAlertOpen","handleUpload","getImagePermissionStatus","isGranted","uploadImageFromLibraryToFieldInCollection","handleDelete","deleteImageValueCollection","closeAlert","renderAlertDialog","requestImagePermission","allowed","ImageDeleteTouchable","CollectionImageManipulator","itemImageField","holderStyle","touchStyle","CollectionImageDev","renderImage","itemId","renderRemoteImage","CollectionImage","hideManipulation","placerholder_image_id","customFallbackComponent","placeholder","remoteAppSettings","setRemoteAppSettings","appSettingsPlaceholder_image","devImage","renderLocalImage","uploadPermission","canUpdate","staticFallbackElement","uploadElement","FoodImage","foodSettings","setFoodSettings","placeholder_image_id","placeholder_image","showImagesFromCustomBackend","foodId","useFlatList","renderItem","setDebug","shadeLevel","svg","CrossSvg","lightText","darkText","themedFillColor","fillColor","CrossNativeBaseSvg","contentSpacer","SpeicificNutritionIcon","nutritionkey","calories","sugar","fiber","protein","salt","carbohydrate","saturatedFat","fat","NutritionKeys","Nutrition","isKcal","calories_kcal","valueWithUnit","amountOfLines","renderSpacer","Nutritions","renderCalories","renderNutritions","renderedNutritions","nutritionkeys","NutritionIcon","FoodFeedbackAPI","foods_feedbacks","ownRating","food_feedback","rating","ownNotify","isSame","notify","getOwnFeedbacks","getOwnFoodRating","createOrUpdateRating","reloadedProfile","getOwnFoodNotify","createOrUpdateNotify","initialFeedbacks","newJsonState","foodsFeedbacks","users_canteenId","feedback","getFeedbackObj","searchUsersFeedback","usersFeedback","createUpdateOrDeleteFeedback","comment","profiles_id","canteens_id","getFilters","searchAnswer","foundFeedbacks","foundFeedback","feedbackObj","updateFeedback","shouldDelete","deleteFeedback","deleteResult","createFeedback","createdFeedback","deleteOne","NotAllowed","notAllowed","TouchableOpacityIgnoreChildEvents","useDefaultOpacity","isStyleArray","opacityStyle","AccountRequiredComponent","translationNoPermission","translationCreateAnAccount","loginOrRegister","PermissionHelperComponent","RatingType","MAX_RATING_VALUE","RatingValueIcon","ratingType","isActive","ratingValue","maxRatingValue","renderOnlyLikes","renderLikeAndDislike","renderSmily","smily_5","smily_4","smily_3","smily_2","smily_1","renderStar","renderRatingType","hearts","likes","stars","smilies","ImageOverlayPosition","ImageOverlays","imageOverlays","setImageOverlays","renderedChildren","topLeftRenderedChildren","topRightRenderedChildren","bottomLeftRenderedChildren","bottomRightRenderedChildren","childProps","idField","IMAGE_OVERLAY_ID_FIELD","imageOverlayId","customPosition","IMAGE_OVERLAY_CUSTOM_POSITION_FIELD","imageOverlay","topleft","TOP_LEFT","topright","TOP_RIGHT","bottomleft","BOTTOM_LEFT","bottomright","BOTTOM_RIGHT","childWithWidth","DefaultComponentCardOverlayBox","getBorderRadius","getPositionStyle","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","positionStyle","withouthPadding","ImageOverlayPaddingStyle","textContrastColor","DirectusTranslatedMarkdown","ImageOverlay","directusIconName","contrastTextColor","renderDirectusIcon","renderedAdditionalContent","FoodRatingSingle","useOwnFoodRating","userRating","setUserRating","translationCurrently","translationLike","translationDislike","defaultRatingValue","ratings_type","minRatingValue","middleRatingValue","getIsActive","accessibilityLabelCurrentState","isUsersRatingSameAsRatingValue","handleSelectRating","onSelectRating","isRatingBelowAvg","isRatingAbouveAvg","isLikeRatingActive","getIsRatingEnabled","FoodRatingConstant","FoodFeedbackHelper","FoodRating","useSynchedFoodFeedbacks","synchedFeedbacks","setSynchedFeedbacks","foodratings_avg_display","ratings_avg_display","foodratings_amount_display","ratings_amount_display","others_users_avg_rating","calculateAvg","others_users_avg_rating_with_fraction","amountLikeRatings","getAmountLikes","amountDislikeRatings","getAmountDislikes","loadFoodDetails","reloadedFood","getRatingValues","ratingValues","getRating","amountLikes","amountDislikes","sum","avg","convertHumanReadableNumber","renderSingleFoodRating","amountRatings","renderedAmount","renderAvg","renderMultipleSelections","itemRenderFunction","renderedSelections","FoodRatingDisplay","SettingsRowNavigator","destinationComponent","destinationParams","FoodFeedbackRow","navigateToFood","renderedText","renderedDate","customLeftContent","FoodDetails","FoodFeedbackSortType","FoodFeedbackList","newest","oldest","most_liked","most_disliked","sortByOptions","sortBy","setSortBy","sortedFeedbacks","sortFeedbacks","renderSortButton","customRender","CommentType","FoodCommentsComponent","commentsWriteAComment","commentsBeTheFirstToComment","textUpdated","textDeleted","foodcommentstype","comments_type","usersRemoteFeedback","setUsersRemoteFeedback","hasUsersRemoteFeedback","feedbacksWithComments","getFeedbacksWithComments","amountFeedbacksWithComments","setCommentText","commentText","renderComments","readAndWrite","handleSyncComment","deleteComment","createOrUpdateComment","renderOwnComment","write","sendIcon","placeHolder","ImageFullscreen","showCloseButton","setShowCloseButton","smallest","images","renderCloseButton","FIELD_MARKINGS_ID","useSynchedProfileMarkings","useSynchedProfileMarking","marking_id","useSynchedProfileMarkingsDict","profilesMarkingsDict","setProfileMarking","removeProfileMarking","profileMarking","setProfileMarkingDislikes","dislikes","removeProfileMarkingSingle","marking","privateSetMarkings","markingId","markingsDictCopy","markingsIds","newMarkings","countDislikedMarkings","ownMarkingsDict","getDislikedMarkings","dislikedMarkings","dislikeValue","useMarkingsFromFoodofferMarkings","foodoffer_markings","allMarkingsDictPassed","usedAllMarkingsDict","allMarkingsDict","setAllMarkingsDict","foodoffer_marking","countLikedMarkings","DebugIcon","useMarkingName","ignoreMissingTranslation","translatedName","renderedLabel","rowContent","MarkingName","DefaultComponentBorderColors","DetailsCardBorder","overlayBorderWidth","borderOverlayStyle","pointerEvents","hideBottomPartAndQuickRate","like","dislike","MarkingSetting","markingName","translation_marking_like","translation_marking_like_undo","translation_marking_dislike","translation_marking_dislike_undo","showMore","setShowMore","handleSelect","nextDislikeState","renderLikeState","handleLikePress","handleUnlikePress","checked","renderDislikeState","renderDebugInformations","showMoreDebugInformations","renderMarkingIcon","image_url","renderMarking","markingIcon","NotificationIcon","active","AnimationNotificationBell","notificationBell","NotificationHelperComponentRemoteWeb","notficationSettings","setNotficationSettings","server_notification_email","email_enabled","translation_enable","translation_disable","translation_push_notification","translation_okay","translation_cancel","translation_push_notification_currently_no_email_support","actionsheetOptions","renderTouchable","withoutOpacity","NotificationPermissionStatus","NotificationHelper","experienceId","notificationObj","setNotificationObjRaw","setNotificationObj","newNotificationObj","newNotificationObjCopy","pushtokenObj","getDeviceNotificationPermission","getExperienceId","Notifications","android","ios","allowAlert","allowBadge","allowSound","allowAnnouncements","body","secondsFromNow","customIdentifier","sound","trigger","channelId","notification_id","getScheduledLocalNotification","notification","notificationId","foundNotification","notifications","getAllScheuledLocalNotifications","DeviceInformationHelper","getInformations","baseInformation","deviceFingerprint","loadDeviceNotificationPermission","pushTokenObj","informations","NotificationHelperComponentRemoteMobile","notificationSettings","setNotificationSettings","useNotificationPermission","useLocalDeviceInformation","deviceInformation","setDeviceInformation","translation_push_notification_not_enabled_for","translation_push_notification_your_device_not_supported","translation_open_system_settings","translation_push_notification_please_allow_notifications_in_system_settings","translation_push_notification_we_will_ask_for_permission","translation_push_notification_please_be_patient_trying_to_get_information","serverEnabledNotifications","ios_enabled","android_enabled","platformName","notificationTokenSet","deviceSupportsNotification","permissionExplicitlyDenied","isDeviceNotificationPermissionDenied","permissionUndetermined","isDeviceNotificationPermissionUndetermined","openSystemAppSettings","requestDeviceNotificationPermission","NotificationHelperComponentRemote","accountRequired","NotificationHelperMobileTouchable","touchableStyle","renderTouchableActionSheet","NotificationHelperComponentLocalMobile","notificationKey","localNotificationKey","setNotification","setError","notificationIdentifier","loadNotification","getScheduleLocalNotificationByCustomIdentifier","cancelScheduledLocalNotification","notificationMessageObject","getNotificationMessageObject","scheduleLocalNotification","CommingSoonAnimation","underConstruction","ComingSoonComponent","NotificationHelperComponentLocal","isSmartPhone","NotificationItem","isWebAndShowLocalNotification","localNotificationEnabledWeb","isNativeAndShowLocalNotification","localNotificationEnabledNative","showLocalNotification","activeColor","usedTextColor","selectedStyle","MarkingIcon","FoodDetailsComponent","buttonColor","buttonTextColor","translationNoGuarantee","shadeBackgroundColor","shadeTextColor","foodoffer","useOwnFoodNotify","notifyForFood","setNotifyForFood","foodMarkings","markingAmount","amountOfDislikedMarkings","isDislikedMarking","commentsMenuKey","renderMarkings","renderDebug","foodMarking","markings_id","renderRating","renderNotification","renderActionRow","setFood","setFoodOffer","downloadedFoodOffer","loadFoodOffer","getDemoFoodOffer","downloadedFood","getDemoFoodDetails","toFixedNoRounding","fractions","reg","dot","indexOf","repeat","formatPrice","price","currency","priceWithFraction","useFormatedPrice","FormatedPriceText","formated","useFoodName","FoodName","DefaultComponentCard","bottomShadeColor","isPortrait","dim","percentBorderRadius","percentBorderRadiusString","numberOfLines","small","defaultPortraitBreakpoints","defaultLandscapeBreakpoints","renderTopForeground","renderTopPart","renderedTop","renderTop","variableHeight","imagebutton","onPressTop","heightHolder","renderedForeground","borderRadiusStyle","positionBottom","renderBorderIfBig","renderBottomPart","bottomPartStyle","outerBottomStyle","outerBottomRoundStyle","renderedBottom","renderBottom","liked","disliked","renderBorderIfSmall","MarkingSettingsList","allMarkings","usedMarkings","AnimationAllergene","allergist","MarkingActionSheet","translationTitle","translationContent","handleCloseModal","onCloseModal","alignContent","FoodOfferHelper","useSynchedPriceGroup","defaultPrice","price_student","priceGroupInformation","food_offer_price","FoodCard","overlayTextColor","markingBackgroundColor","markingTextColor","foodOfferPrice","useFoodOfferPrice","foodName","food_marking_relations","setRatingValue","isLikeRating","isDislikeRating","renderMarkingWarning","renderQuickRating","renderPrice","handlePressImage","FoodCardListComponent","foodoffers","errorComponent","nothingFoundComponent","ownFeedbacks","renderedFoodCards","sortedFoodOffers","sortFoodsOffers","sortFoodOffersByRating","sortFoodOffersByMarkings","copyFoodOffers","foodoffer_a","foodoffer_b","food_offer_markings_a","markings_a","food_offer_markings_b","markings_b","amount_food_a_disliked_markings","amount_food_b_disliked_markings","amount_food_a_liked_markings","amount_food_b_liked_markings","sortFoodsByRating","food_a","food_b","food_a_id","food_a_rating","food_b_id","food_b_rating","FoodOfferListComponent","CanteenIcon","SettingMarking","mounted","setMounted","ListHeader","BuildingsImage","getName","image_remote_url","CanteenImage","buildingResourceId","canteenBuilding","useNearestLocation","profiles_canteen","canteens_building_id","canteens_building","LocationOpenerComponent","BuildingLocationOpenerComponent","BuildingsCardOverlayDistance","nearestLocation","resourceId","getBuildingDistance","formatedDistance","formatBuildingDistance","minWidth","InfoIcon","DetailsComponentMenusForRelations","getDetailsComponentMenuForRelation","menuOnPress","relationOnPress","getOnClose","menuCopy","getMenusForRelations","relations","relationKeys","relationKey","menusForRelations","menusFromProps","ShowLocationIcon","DescriptionIcon","MyButton","useDarkenProjectColor","usedBackgroundColor","actionsheetContent","onPressShowActionsheet","ExternalLinksIcon","BuildingsContentActionMenuDescription","noURLFound","moreInformations","renderUrl","urlFound","CopyIcon","MyClipboard","clipboard","onCopy","BuildingsContentActionMenuBuildingInformation","additionalInformation","translation_openNavigationToLocation","translation_coordinates","translation_openURL","translation_copy","translation_yearOfConstruction","translation_unknown","yearOfConstructionAsString","getYearOfConstructionAsString","useClipboard","hasLocation","locationAsString","getLocationAsString","renderBuildingInformation","routeInformations","openLocation","copyText","renderInformation","WashingmachineAnimation","activeAsBoolean","washingmachine","washingmachineEmpty","WashingmachineNotifyOverlay","getSecondsToDate","WashingmashineCard","dateInFuture","minutes_remaining_readable","asDate","isDateInFuture","formatDateToHHMM","running","renderOverlays","renderedRemainingTime","WashingmachineList","resource_ids","withoutOverlay","FIELD_BUILDINGS_ID","FIELD_LAST_VISITED","FIELD_PROFILE_BUILDINGS_LAST_VISITED","getLastVisitedDateFromDictEntry","dictEntry","profileBuildingLastVisited","useSynchedProfileBuildingsLastVisited","useSynchedProfileBuildingsLastVisitedDict","profilesBuildingsLastVisitedDict","updateProfileBuildingLastVisited","removeProfileBuildingLastVisited","updateProfileBuildingLastVisitedSingle","removeProfileBuildingLastVisitedSingle","listOfFavoriteBuildings","profile_building_favorite","privateSetBuildingsLastVisited","dictCopy","relation_entry","resourceIds","newResources","updateProfileLastVisitedBuilding","removeProfileLastVisitedBuilding","getProfileBuildingsLastVisitedDateFromBuildingId","ApartmentContent","translation_title","washingmachine_ids","building_id","lastVisitedBuildingDict","addLastVisited","removeLastVisited","building_ids","amountWashingmachines","renderWashingMachines","getDetailsComponentMenusForRelations","BuildingsContent","actionRowMenus","detailsComponentMenusForRelations","ApartmentCard","apartment","handicapped_accessible","family_friendly","singleflat","overlays","ApartmentList","notFoundError","highlight","HousingIcon","IdIcon","canteen_ids","canteens","apartment_ids","apartments","CanteenContent","FIELD_PROFILE_FAVORITE_BUILDINGS","useSynchedProfileBuildingsFavorite","useSynchedProfileFavoriteBuildingsDict","profilesBuildingsFavoritesDict","addProfileFavoriteBuilding","removeProfileFavoriteBuilding","profileBuildingFavorite","addProfileFavoriteBuildingSingle","removeProfileFavoriteSingle","privateSetBuildingsFavorite","BuildingFavoriteSingle","DEFAULT_RATING_TYPE","BuildingsCard","buildings","setBuildings","renderLastVisited","visited_at","renderedCustomOverlays","renderCustomOverlay","BuildingsList","BusinesshoursHelper","businesshoursList","time_start","localeCompare","weekOverview","getWeekdayNameKeys","dayOfWeek","businesshours","dayOfTheWeek","businesshoursForDay","sortBusinesshours","timeString","timeStringParts","Businesshours","getLocaleForJSDates","setBusinesshours","businesshour","weekoverview","getWeekOverview","longestWeekdayName","renderedInvisibleTextForWidthCalculation","translatedWeekday","getWeekdayTranslationByWeekday","renderedBusinesshoursForDay","renderedWeekday","renderedTime","formatBusinesshours","time_end","useSynchedCanteenBuilding","CanteenHelper","businesshourIds","businesshoursRelations","businesshourRelation","businesshourId","businesshours_id","businesshours_ids","getBusinesshoursIds","renderBusinessHours","CanteenCardOverlayMoreInformation","CanteenCard","resourceBuilding","resourceBuildingTitle","CanteenList","CanteenListAll","SettingCanteen","goHome","FoodListHeader","textSearch","searchInput","setSearch","delayBeforeNotifyInMs","notifySearch","handleSearch","focus","timeOutId","clearTimeout","renderSearchbar","FoodList","foods","setFoods","renderFoundMoreResults","finishedTyping","searchFood","searchedFoods","wrappedFoods","catch","SwitchIcon","forward","accessibilityLabelNext","accessibilityLabelPrevious","accessibilityName","SimpleDatePickerComponent","defaultBackgroundColor","defaultSelectedColor","translatedWordYear","yearTranslation","translatedWordMonth","monthTranslation","selectedTranslation","weekStartsAtDay","maxHeight","amountDaysPerWeek","amountCalendarCurrentMonthRows","amountCalendarPreviousMonthRows","amountCalendarNextMonthRows","amountCalendarDateRows","monthDimension","setMonthDimension","smalledDimension","currentDate","shownDateString","setShownDate","shownDate","renderWeekdayRowForMonth","weekDayShortChars","getWeekdayNamesFirstLetters","weekDayNamesLong","weekdayBackgroundColor","weekdayTextColor","weekDayShortChar","tooptip","renderDefaultDayInMonth","dateToRender","referenceDate","monthOfDateToRender","monthOfReferenceDate","tooltip","selectedDateColor","selectedTextColor","onSelectDate","renderDayInMonth","emptyRow","renderDate","renderDaysInMonth","amountDaysInMonth","getAmountDaysInMonth","diffToEndWithLastDayOfWeekForMonth","getAmountDaysFromNextMonthToWeekend","renderAllDaysInMonth","renderSwitchYear","yearDiff","setFullYear","getFullYear","renderSwitchYearRow","renderRow","renderSwitchMonth","monthDiff","renderSwitchMonthRow","monthName","getMonthName","renderDatePickerComponent","SimpleDatePicker","selectDateTranslation","formatedSelectedDate","PriceGroupIcon","AnimationPriceGroup","moneyConfident","SettingsRowOption","selectionIconName","selectionIcon","checkbox","SettingPriceGroup","translationSelect","priceGroupTranslation","renderPriceGroupOptions","priceGroupKeys","priceGroupsToChooseKey","priceGroupInformations","FoodOfferListHeader","utilization_forecast_enabled","translationDay","translationSearch","translationFoods","translationSearchFoods","translationSettingMarking","translationSettingCanteen","translationSettingPriceGroup","paramcanteenId","changeDate","formattedDate","renderSwitchDate","skipAmountDays","getTitleString","useSmartReadableDate","renderSelectedDate","UtilizationForecastBar","textInside","textBelow","bgContrast","textStyle","maxCharacters","minCharacters","UtilizationForecastRow","myScrollViewRef","translation_rusMinutes","translation_time","utilization","showDetails","setShowDetails","setFeedback","getColorForTraffic","traffic","maxValue","lowest","medium","colorsWithCorrectKeys","parsedKey","colorBorders","lastColor","border","getActiveIndex","activeIndex","nowHour","nowMinute","populartimes","compareTime","diffInMinutes","populartime","timeParts","HH","mm","nextCompareTime","scrollToElement","amountInfront","totalItemWidth","getItemWidth","getTimeKeys","preItems","getClosedBarWidth","itemXPosition","scrollTo","animated","getNow","renderClosedBar","first","lastTime","firstRenderedText","textBelowPlaceholder","renderBar","renderPopularTimeCols","topPosition","cols","timeEnd","timeEndParts","HH_end","mm_end","openingTime","isFullHour","renderedTextInside","placeHolderRenderedText","scrollViewContent","UtilizationForecast","utilizationSettings","setUtilizationSettings","getDemoUtilization","startTime","endTime","currentStart","currentEnd","setFoodOffers","checkParams","newFoodOffers","demofoodoffers","SettingsRowThemeSwitch","isLightTheme","translationTheme","translationLight","translationDark","isLight","iconColor","handlePress","UsersAvatar","SettingsRowSynchedBooleanSwitch","variable","SettingsProfileLanguageComponent","directusLanguages","setDirectusLanguages","languageTitle","translationEdit","languageOptions","languageCodeToName","directusLanguage","profilesLanguageName","profileSelectedLanguageName","onSelectLanguage","adjustable","SettingsRowMarking","SettingsRowCanteen","DemoIcon","getCourseTimetableVisiblity","settingsCourseTimetable","setSettingsCourseTimetable","useCourseTimetableEvents","courseTimetable","getCourseTimetableFieldName","setCourseTimetable","addNewCourseTimetableEvent","usePersonalCourseTimetableSettings","reset","usePersonalCourseTimetableFirstDayOfWeek","setFirstDayOfWeek","usePersonalCourseTimetableTime","setCourseTimetableTime","usePersonalCourseTimetableAmountDaysOnScreen","amountDaysOnScreen","setAmountDaysOnScreen","asNumber","usePersonalCourseTimetableTitleIntelligent","fieldValue","titleIntelligent","setTitleIntelligent","useTimetableViewMode","useSettingTranslationCourseTimetable","translationsSettings","translationsCourseTimetable","SettingTranslationCourseTimetable","CourseTimetableIcon","SettingsRowWeekday","translatedFirstDayOfWeek","weekdayEnumValues","firstDayOfWeekOptions","weekdayEnumValue","onSelectFirstDayOfWeek","onChange","SettingCourseTimetableFirstDayOfWeek","translationFirstDayOfWeek","SettingCourseTimetableReset","timetableEvents","setTimetableEvents","translationReset","translationScreenName","rowTitle","onReset","showConfirmDialog","SettingsRowTimeEditComponent","editText","setEditText","initialValue","textValue","textTextValue","textInput","checkAndFormatInput","substring","handleSave","formattedTime","textPlaceholder","displayStyle","saveEnabled","selectionColor","placeholderTextColor","cursorColor","saveText","cancelText","TimeStartIcon","TimeEndIcon","SettingCourseTimetableTime","translationStart","translationEnd","translationSave","translationCancel","translationTime","setTime","newTime","SaveIcon","SettingsRowNumberEditComponent","shownValueInNoEdit","emptyValue","SettingCourseTimetableAmountDaysToShowAtOnce","translationDaysPerPage","translationIntelligent","newAmount","TitleIcon","SettingCourseTimetableIntelligentTitle","SettingCourseTimetableResetSettings","timetableSettings","setTimetableSettings","SettingCourseTimetable","SettingsRowCourseTimetable","courseTimetableVisiblity","SettingsRowTextEditComponent","renderEditActions","NameIcon","SettingsUsersNicknameComponent","editNickname","setEditNickname","nicknameValue","setNicknameValue","savedNickname","ProfileRawInformation","activityLogs","setActivityLogs","stringifiedProfile","user_instance","stringifiedUser","renderCopyButton","renderElement","jsonObject","fetchActivityLogs","activity","logs","TextWithClipboard","renderText","textToCopy","AnimationEmptyNotingFound","NoFeedbackFound","FoodImageById","foodDetails","ProfilesFoodFeedbacks","amountOfOwnFeedbacks","renderFeedback","getAccountBalanceVisiblity","accountBalanceSettings","setAccountBalanceSettings","useAccountBalance","FIELD_CREDIT_BALANCE","balance","setNewBalance","accountBalance","AccountBalanceIcon","onBlur","useMyFocusHandler","onFocus","deps","useFocusEffect","NfcInstruction","nfcInstruction","AccountBalanceReaderTouchable","translationSuccess","translationError","setAccountBalance","cardContent","setCardContent","showCardReadInstruction","startCardReading","reader","CardReader","NfcManager","NfcTech","readCard","newAnswer","newBalance","currentBalance","renderDebugContent","afterPress","MoneyConfused","moneyConfused","MoneyConfident","MoneyFitness","moneyFitness","MoneySad","moneySad","BalanceStateLowerBound","AccountBalanceAnimation","CONFIDENT","FITNESS","SAD","SettingsIcon","AccountBalance","readCardBackgroundColor","textColorButton","translationReadNfc","nfcSupported","setNfcSupported","nfcEnabled","setNfcEnabled","canReadNfc","displayBalance","setDisplayBalance","focusCounter","setFocusCounter","checkNfcSupportAndEnableStatus","isSupported","isEnabled","renderNfcStatus","openNFCSettings","getNextDemoBalance","numbers","currentDisplayBalance","currentIndex","nextIndex","renderReadCardButton","demoText","nextDemoBalance","SettingsProfileAccountBalanceComponent","accountBalanceVisiblity","translationAccountBalance","formatedBalance","ProfileResetRow","translationResetProfile","getObjToResetProfile","DeleteIcon","LoginIcon","ProfileDeleteAccount","setDisplayUser","translationDeleteAccount","translationNoAccount","SettingsRowCanteenPriceGroup","Profiles","param_profile_id","displayProfile","setDisplayProfile","translationRole","setRole","kitchenRole","displayProfileId","isOwnProfile","profileExistsRemote","loadData","remoteUser","remoteRole","renderProfileIdIcon","renderRoleIcon","renderProfileId","renderNickname","renderProfileSpecific","renderResetPassword","displayUserProvider","renderRole","roleDisplay","SettingsLogoutButton","acceptIcon","SettingsRowDrawerPosition","isOritentationLeft","nextOrientation","translationOrientation","translationLeft","translationRight","PerformanceIcon","renderAccountRow","renderDebugModeSetting","debugMode","renderDemoModeSetting","renderPerformanceSettings","renderDebugSettings","MyHome","WikiMenuContent","WikiLoader","wikiDict","parents","getParents","wikiMenus","replaceChildIdsWithChildren","loopTracker","childrenIds","typeOfChild","childId","childWiki","hideAsNormalWiki","NewsImage","NewsContent","news","setNews","news_id","news_title","renderName","DetailsCardHorizontal","imageHeight","imageWidth","dimensionSet","amountOfLinesTitle","ignoreImage","amountLinesForTitle","teaserText","teaser","bottomText","renderSkeleton","renderCard","topRight","NewsCard","AnimationSeemsEmpty","readMoreUrl","NewsList","translationMoreInformation","newsSettings","setNewsSettings","url_show_more","renderNews","amountItemsTotal","amountItemsToShow","NewsIcon","Wikis","hideHeader","getWiki","SortIcon","BuildingsSortType","sortTypeTranslations","intelligent","alphabetical","favorites","last_visited","initialSortType","BuildingsListHeader","translationSortBy","sortTypeTranslationKeys","sortTypeTranslationKey","onPressSort","BuildingsScreen","sortBuildings","sortBuildingsWithSortBy","isFavorite","compareByDistance","distanceA","distanceB","compareByFavorite","favoriteA","favoriteB","compareByLastVisited","lastVisitedA","lastVisitedB","compareByAlphabetical","nameA","nameB","compareByMultipleComparators","comparators","comparator","renderBuildings","resourcesArray","sortedBuildings","sortedResourceIds","BuildingsIcon","HousingGeneralDescription","settingsHousing","setSettingsHousing","HousingScreen","sortResources","sortResourcesWithSortBy","buildingResource","getBuildingFromResourceId","buildingA","buildingB","buildingResourceA","buildingResourceAId","buildingResourceB","buildingResourceBId","renderResources","sortedResources","CourseTimetableAnimation","timetable","ColorIcon","gradientSteps","maximumValue","getColors","getHueStepColor","tinycolor","l","h","toHexString","getStepColor","getStepValues","SimpleColorPicker","colorWidth","onColorChange","renderColor","renderColors","getHueColors","SettingsRowColorEditComponent","initialColor","setColor","CourseTimetableEvent","newEvent","setEvent","requiredFields","requiredFieldsFilled","areRequiredFieldsSet","translationEvent","translationDelete","translationLocation","translationWeekday","translationColor","CourseTimetable","changeFieldValue","eventCopy","renderTextEditRow","renderWeekdayEditRow","renderTimeEditRow","renderColorEditRow","saveNewEvent","createRow","CourseTimetableItemCard","colorContrast","headerText","getTitle","elevation","CourseTimetableSchedule","scrollViewRef","fromWeekday","weekStartsOn","indexToStart","currentWeekday","indexDifference","getWeekdayDifference","amountOfDays","defaultAmountOfDaysToShowOnScreen","amountOfDaysToShowOnScreen","till","fromHour","toHour","range","hourHeight","columnHeaderHeight","timeWidth","linesTopOffset","columnWidth","events","endDate","renderTime","hour","renderTimes","renderTimeColumns","renderTimetable","ref","timeContainer","nowLine","line","CourseTimetableImportDefaultComponent","initialPassword","setLoginIncorrect","initialEmail","loginDisabled","TimetableImportStudIP","loadStudIPEvents","studIpDomain","username","client","Connector","loadSchedule","schedule","rawSchedule","getDemoRawScheduleData","UrlHelper","STUDIP_DOMAIN_UNI_OSNABRUECK","parseStudIPDataToEvents","onImport","parseStudIPDataToEvent","rawEvent","rawWeekdayNumber","getWeekdayByDayNumber","scheduleEvents","parsedEvents","scheduleEvent","CourseTimetableHeader","translationSettings","translationScreenNameCourseTimetable","setStartTime","setEndTime","translationMarkdownEmptyDescription","translationCreateEvent","breakPointsAmountOfDaysToShowOnScreen","getEvent","useDate","renderAnimation","actionsheetOptionImportFromStudIP","newEvents","currentEventId","showStudIPImportOverlay","parseTimetableEventsToList","parsedEvent","translationImport","demoPreText","coursesFound","getWeekdayToday","TextInputGrowing","setLineHeight","defaultInitialValue","setTextValue","setNumberOfLines","numberOfLinesWeb","numberOfLinesNative","passedNumberOfLines","useNumberOfLines","handleFocus","handleBlur","getLineHeight","InputRightElement","InputLeftElement","onChangeText","ConversationMessage","textarea","message_date_created","pending","failed","sizeAvatar","itemAvatar","itemSpacer","itemLeft","itemRight","isOther","ConversationComponent","reloadAllChatrooms","useReloadAllChatrooms","chatroomID","startedAtBottom","setStartedAtBottom","setReloadNumber","pending_chatroom_messages_dict","set_pending_chatroom_messages_dict","currently_sending_message_key","setCurrentlySendingMessage_key","sleep","sendMessages","pendingKeys","firstPendingMessageKeyWhichIsUnfailed","pendingKey","pendingMessage","isPendingMessageNotFailed","firstPendingMessageWhichIsUnfailed","getChatroomMessagesTablename","copy_pending_chatroom_messages_dict","renderMessages","submitMessage","currentMessage","resetTextInput","addMessageAsPending","newMessage","renderTextInput","scrollToEnd","ConversationHeader","useChatroomTopicTitleByChatroomId","Conversation","ReloadIcon","ConversationsHeader","translationReload","onRefresh","refreshing","Conversations","translationConversation","setRefreshing","counter","setCounter","renderConversationPreview","chatroom_messages_last","chatroom_messages_last_text","last_text_without_line_break","replaceAllLineBreaks","chatroom_messages_last_text_date_created","renderConversations","ids","ConversationIcon","SyncMenuLoader","setSyncedMenu","settingsChatrooms","setSettingsChatrooms","chatroomsVisibility","foodVisibility","newsVisibility","buildingsSettings","setBuildingsSettings","buildingsVisibility","translationScreenNameAccountBalance","translationScreenNameFoods","translationScreenNameNews","translationScreenNameHousing","translationScreenNameBuildings","translationScreenNameConversations","translationScreenNameLegalRequirements","useHousingVisiblity","wiki_title_about_us","wiki_title_license","wiki_title_privacy_policy","wiki_title_accessibility","getMenuItemFromWiki","transformedIcon","loadLegalRequirementMenus","legalMenuItems","menuGetRequiredMenuDict","legalMenuItemChildTitleMapping","legalMenuItemsKeys","legalMenuItemKey","legalMenuItem","title_translation","canSeeEmployeeMenu","isEmployee","loadMenus","wikisMenuItems","getWikisMenuItems","conversationsVisibility","Project","getEmployeeMenu","getDebugMenu","RemoteDirectusSettingsLoader","settings","InstallMode","SyncStatus","UpdateState","DeploymentStatus","CheckFrequency","CodePushValues","CHECKING_FOR_UPDATE","DOWNLOADING_PACKAGE","INSTALLING_UPDATE","UP_TO_DATE","UPDATE_INSTALLED","UNKNOWN_ERROR","isNetworkError","AnimatedLogo","rocketWhite","UpdateScreen","hasDownloadInformations","ignoreBytes","receivedBytes","totalBytes","formatBytes","bytes","decimals","dm","getStatusMessage","renderProgressBar","getDownloadPercentage","renderByteProgress","formatedReceived","formatedTotal","renderPercentage","renderDownloadAnimation","renderDownloadProgress","DebugConsole","debugInformations","setDebugInformations","debugVisible","setDebugVisible","setDebugMode","renderVisibilityButton","renderOutput","rendering","SyncComponent","cancelVisible","setCancelVisible","cancelVisibleTime","directusSettings","setDirectusSettings","rawAppTranslations","remoteAppFields","setRemoteAppFields","settingsFoods","setSettingsFoods","settingsAccountBalance","setSettingsAccountBalance","settingsNotifications","setSettingsNotifications","settingsNews","setSettingsNews","settingsBuildings","setSettingsBuildings","setApartments","setWashingmachines","businesshoursDict","setCanteens","profileNotFound","setProfileNotFound","remoteProfileLoaded","setRemoteProfileLoaded","remoteLoadedProfileSameAsLocal","profileLoadingFinished","syncedMenu","syncedMenuStatus","setStatus","getSetProfileFunction","variablesToBeLoadedDict","variablesToBeLoaded","amountVariablesToBeLoaded","amountVariablesLoaded","countNotNull","allVariablesLoaded","variables","notNull","loadDirectusFields","readAll","fieldsByCollection","fieldsInCollection","loadDirectusSettings","getRemoteDirectusSettings","remoteDirectusSettingsLoaded","loadProfile","loadDeviceInformation","getDeviceInformation","loadNotificationInformation","checkSyncOrder","renderCancelButton","renderNotLoadedVariables","renderedMenuLoader","SettingProfile","Users","SetupLanguageHelper","preferedLocales","RNLocalize","codes","preferedLocale","languageCode","languageTag","profileLanguage","availableLanguageDict","langCode","availableLangCodes","availableLangCode","usersInstalledLanguageCodesPreferedOrder","usersInstalledLanguageCode","closesLangCode","getClosestLangCode","availableLanguages","langCodeDict","availableLanguage","cachedOSLanguage","currentDevicePreferedLocales","profileCopy","getAvailableLanguageCodeDict","doesSelectedLanguageExist","doesSelectedLanguageExistInLanguages","userChangedOSLanguage","updateLanguage","bestLanguageCodeForUser","getBestLanguageCodeForUser","FadeInFadeOut","Animated","Value","fadeAnim","loop","sequence","timing","toValue","useNativeDriver","DemoModeLogo","SetupComponent","setOSLanguage","getCurrentRouteUserIsAt","directHistory","usedHistory","lastItem","lastItemKey","isUserAtRouteComponent","isUserAtRouteName","isLanguageCorrectSet","oldProfileJSON","getUsersInstalledLanguageCodesInPreferedOrder","getNewProfileWithDefaultLanguageSet","checkNotificationSettings","isCanteenCorrectSet","isProfileCorrectSet","nicknameSet","isDeviceCorrectSet","functions","continueChecking","isUserAtLegalRequiredRoute","requiredRoutesNotToCheck","menuKeysNotToCheck","menuKeyNotToCheck","isUserAtRequiredRoute","requiredRouteNotToCheck","renderDemoModeLogo","IntercardReaderExample","private_sendCommandToMensaCard","cardReader","sendMifareCommandIOS","transceive","warn","tech","MifareClassic","MifareIOS","requestTechnology","alertMessage","tag","_cleanUp","cancelTechnologyRequest","unregisterTagEvent","ImageOverlayCustom","wrapInTooltip","VoiceoverExample","PositionDebug","SynchedVariableText","synchedText","setSynchedText","KEY_TEST_VALUE","synchedStorageText","setSynchedStorageText","IconListExample","filterForSearch","results","renderIcons","icons","getRawGlyphMap","newSearch","getOTAMetaData","useOTAMetaData","appMetaData","setAppetaData","OTAVersion","CodePush","appVersion","failedInstall","isFirstRun","isMandatory","isPending","packageSize","packageHash","StyleExample","pixelratio","onChangeValue","setOnChangeValue","onChangeEndValue","setOnChangeEndValue","renderSlider","v","renderRaw","renderPixelRatio","renderEm","renderRem","renderPx","SystemSettingsLinks","themedBackground","renderButton","openSystemSettings","DeviceInformationDebug","renderDeviceInformation","renderDeviceInformations","DebugPlayground","DirectusSettings","renderSettings","renderedSettings","renderSetting","KeyboardAvoidingScrollviewExample","NotificationExample","setPermission","requestPermission","setRequestPermission","devicePushToken","setDevicePushToken","devicePushResult","setDevicePushResult","badgeCount","setBadgeCount","setBadgeCountResponse","setSetBadgeCountResponse","scheduleNotification","setScheduleNotification","allScheduleNotification","setAllScheduleNotification","notificationChannel","setNotificationChannel","allNotificationChannels","setAllNotificationChannels","run","newPermission","renderFunc","currentLog","proxyUrl","targetUrl","circle","shapeType","center","lat","lng","radius","circleMarker","polygon","positions","multiPolygon","polyline","multiPolyline","rectangle","bounds","mapShapes","mapMarkers","mapOptions","attributionControl","zoomControl","initialPosition","StyleSheet","mapControls","mapButton","mapButtonEmoji","MapLeaflet","zoom","setZoom","mapCenterPosition","setMapCenterPosition","clickedPosition","setClickedPosition","ownPosition","setOwnPosition","handleClickedAt","getMapLayers","MapBoxAccessToken","mapbox_key","mapLayers","baseLayerIsChecked","baseLayerName","layerType","baseLayer","renderMap","nextZoomLevel","Alert","alert","mapMarkerId","mapCenter","with","ExampleSettingsRow","translationCreate","LoginLanguageSelector","employeeMenu","debugMenu","titleTranslation","webTitle","myRegisterRoute","registerEmployeeMenus","registerDebugMenus","setSetProfile","employeeMenuBackend","debugCardReaderMenu","registerRouteAndGetDefaultMenuItems","debugAccessibilityMenu","systemAndStyleMenu","serverDebugMenu","debugInputMenu","debugNotificationMenu","debugMapMenu","listOfFunctionComponents","fc","LinearGradient","getBackendURL","fallbackBackendUrl","process","customBackendUrl","CUSTOM_BACKEND_URL","nativebaseConfig","registerRootComponent"],"mappings":"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","file":"static/js/app.a1fc0597.chunk.js","sourcesContent":["export default class UserHelper{\n\n\tstatic USER_ROLE_ANONYMOUS = \"public\";\n\n\tstatic getAnonymousUser(){\n\t\treturn {\n\t\t\trole: UserHelper.USER_ROLE_ANONYMOUS,\n\t\t\tid: null,\n\t\t\temail: null,\n\t\t\ttitle: null,\n\t\t\tfirst_name: \"Guest\",\n\t\t\tlast_name: \"Guest\"\n\t\t}\n\t}\n\n\tstatic isAnonymous(user){\n\t\treturn !user?.role || user?.role === UserHelper.USER_ROLE_ANONYMOUS; //if no role found or role is \"public\" a user is a guest\n\t}\n\n}\n","import {useColorMode, useTheme} from \"native-base\";\n\nexport const useThemeTextColor = (invert?: boolean, useDarkTheme?) => {\n  const theme = useTheme();\n  const { colorMode, toggleColorMode } = useColorMode();\n\n  let darkModeTextColor = theme[\"colors\"][\"lightText\"]; //darkText is used in lightmode !\n  let lightModeTextColor = theme[\"colors\"][\"darkText\"];\n\n  let darkMode = colorMode!==\"light\";\n  if(invert){\n    darkMode = !darkMode;\n  }\n\n  if(useDarkTheme===true){\n    darkMode = true;\n  }\n  if(useDarkTheme===false){\n    darkMode = false;\n  }\n\n  let textColor = darkMode ? darkModeTextColor : lightModeTextColor;\n\n  return textColor;\n}\n","import {Transport, TransportMethods, TransportOptions, TransportResponse} from \"@directus/sdk\";\nimport ServerAPI from \"../ServerAPI\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport AwaitLock from \"await-lock\";\n\nlet refreshLock = new AwaitLock(); //we want to synchronize the refresh, cause maybe two refreshes collide\n\nexport default class TransportWrapper extends Transport{\n\tcustomErrorHandleCallback = null;\n\n\tprotected async request<T = any, R = any>(\n\t\tmethod: TransportMethods,\n\t\tpath: string,\n\t\tdata?: Record<string, any>,\n\t\toptions?: Omit<TransportOptions, 'url'>\n\t): Promise<TransportResponse<T, R>> {\n\t\ttry {\n\t\t\treturn await super.request(method, path, data, options);\n\t\t} catch (error: any) {\n\t\t\tif (!error || error instanceof Error === false) {\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\tconst status = error.response?.status;\n\t\t\tconst code = error.errors?.[0]?.extensions?.code;\n\n\t\t\tconsole.log(\"\");\n\t\t\tconsole.log(\"TransportWrapper error\");\n\t\t\tconsole.log(\"path: \",path);\n\t\t\tconsole.log(\"status: \",status);\n\t\t\tconsole.log(\"code: \",code);\n\t\t\tconsole.log(\"error: \",error);\n\t\t\tconsole.log(JSON.stringify(error, null, 2))\n\n\t\t\t//Happens when the refresh or access token is too old\n\t\t\tif(this.isTokenExpired(error, status, code)){\n\t\t\t  console.log(\"- Token is expired\")\n\n        let shouldRetryRequest = await this.shouldRetryRequest();\n\t\t\t  console.log(\"- shouldRetryRequest: \"+shouldRetryRequest);\n\n\t\t\t\tif(shouldRetryRequest){\n\t\t\t\t\tconsole.log(\"Okay lets try to resend the request\")\n\t\t\t\t\ttry{\n\t\t\t\t\t\tlet answer = await super.request(method, path, data, options);\n\t\t\t\t\t\tconsole.log(\"retry of request successfull\");\n\t\t\t\t\t\treturn answer;\n\t\t\t\t\t} catch (err){\n\t\t\t\t\t\tconsole.log(\"Resent request after refresh still unsuccessfull, rejecting\");\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t  console.log(\"Refresh not successfull or was not tried, handle logout\");\n\t\t\t\t\tawait ServerAPI.handleLogout(error); // after releasing lock!\n\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconsole.log(\"-------\")\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\n\tasync shouldRetryRequest(){\n\t  console.log(\"shouldRetryRequest?\");\n    let retryRequest = false;\n\n    await refreshLock.acquireAsync(); //okay lets lock this, so not that we dont register multiple times\n    console.log(\"refreshLock acquired\");\n    //TODO check if lock is free, otherwise wait until its free, and then skip the refresh and simple resend the super.request\n    try{\n      //Okay we have the lock, so only one refresh can happen at the same time\n      let wasAlreadyRefreshed = await this.wasAlreadyRefreshed();\n      if(wasAlreadyRefreshed){\n        console.log(\"Token was already refreshed, so we dont need to refresh it again\")\n        retryRequest = true;\n      } else {\n        console.log(\"Token was not refreshed yet, so we need to refresh it\")\n        let refreshAnswer = await this.handleRefresh();\n        console.log(\"refreshAnswer: \");\n        console.log(JSON.stringify(refreshAnswer, null, 2));\n        retryRequest = this.isRefreshSuccessfull(refreshAnswer);\n        console.log(\"retryRequest after refresh: \"+retryRequest);\n      }\n    } catch (err){\n      console.log(\"Error at refresh\")\n      console.log(err);\n    } finally {\n      console.log(\"Release lock\");\n      this.releaseLock();\n    }\n    return retryRequest;\n  }\n\n\tasync wasAlreadyRefreshed(){\n\t  let expiresDateISOString = await ConfigHolder.instance.storage.get_auth_expires_date();\n\t  if(!expiresDateISOString){\n\t    return false;\n    }\n    let now: any = new Date();\n\t  let expiresDate: any = new Date(expiresDateISOString);\n    let secondsTillExpiration = expiresDate-now || 0;\n    console.log(\"secondsTillExpiration: \"+secondsTillExpiration);\n    if(secondsTillExpiration>0){\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n\tasync handleRefresh(){\n    try{\n      console.log(\"Token is expired, lets try to refresh it\")\n      let directus = ServerAPI.getDirectus(ConfigHolder.instance.storage, ServerAPI.handleLogoutError);\n      //console.log(\"get_auth_refresh_token: \"+ConfigHolder.instance.storage.get_auth_refresh_token());\n      //console.log(\"get_auth_access_token: \"+ConfigHolder.instance.storage.get_auth_access_token());\n      // ServerAPI.loginWithAccessDirectusAccessToken\n      let refresh_token = await ConfigHolder.instance.storage.get_auth_refresh_token();\n      let access_token = await ConfigHolder.instance.storage.get_auth_access_token();\n\n      console.log(\"using refresh_token: \"+refresh_token);\n      //let refreshAnswer = await ServerAPI.loginWithRefreshToken(refresh_token);\n      let refreshAnswer = await directus.auth.refresh();\n      console.log(\"refreshAnswer: \");\n      console.log(JSON.stringify(refreshAnswer, null, 2));\n\n      return refreshAnswer;\n    } catch (err){\n      console.log(\"Error at refresh\")\n      console.log(err);\n    }\n  }\n\n\treleaseLock(){\n\t  try{\n      refreshLock.release(); //before handleLogout\n    } catch (err){\n\t    console.log(\"releaseLock err\");\n\t    console.log(err);\n    }\n  }\n\n\tisRefreshSuccessfull(answer){\n\t\treturn !!answer && !!answer[\"access_token\"] && !!answer[\"refresh_token\"] && !!answer[\"expires\"]\n\t}\n\n\tisTokenExpired(error, status, code){\n\t  console.log(\"isTokenExpired?\");\n    console.log(\"error.toString(): \"+error.toString())\n\n\t\tif(error.toString().includes(\"Token expired\")){\n\t\t\treturn true;\n\t\t}\n    if(error.toString().toLowerCase().includes(\"Token expired\".toLowerCase())){\n      return true;\n    }\n\t\tif(status===403 && code===\"INVALID_TOKEN\"){\n\t\t\treturn true;\n\t\t}\n    if(status===401 && code===\"INVALID_TOKEN\"){\n      return true;\n    }\n\t\treturn false;\n\t}\n\n}\n","import {Transport, TransportMethods, TransportOptions, TransportResponse} from \"@directus/sdk\";\nimport ServerAPI from \"../ServerAPI\";\n\nexport default class AuthTransportWrapper extends Transport{\n\tcustomErrorHandleCallback = null;\n\n\tprotected async request<T = any, R = any>(\n\t\tmethod: TransportMethods,\n\t\tpath: string,\n\t\tdata?: Record<string, any>,\n\t\toptions?: Omit<TransportOptions, 'url'>\n\t): Promise<TransportResponse<T, R>> {\n\t\ttry {\n\t\t\treturn await super.request(method, path, data, options);\n\t\t} catch (error: any) {\n\t\t\tif (!error || error instanceof Error === false) {\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\tconst status = error.response?.status;\n\t\t\tconst code = error.errors?.[0]?.extensions?.code;\n\n\t\t\tconsole.log(\"\");\n\t\t\tconsole.log(\"AuthTransportWrapper error\");\n\t\t\tconsole.log(\"path: \",path);\n\t\t\tconsole.log(\"status: \",status);\n\t\t\tconsole.log(\"code: \",code);\n\n\t\t\tif (\n\t\t\t\tstatus === 401 &&\n\t\t\t\tcode === 'INVALID_CREDENTIALS'\n\t\t\t\t/**\n\t\t\t\t&&\n\t\t\t\terror.request.responseURL.includes('refresh') === false &&\n\t\t\t\terror.request.responseURL.includes('login') === false &&\n\t\t\t\terror.request.responseURL.includes('tfa') === false\n\t\t\t\t */\n\t\t\t) {\n\t\t\t  console.log(\"Invalid Credentials\");\n\t\t\t  console.log(error);\n\t\t\t\tawait ServerAPI.handleLogout(error);\n\t\t\t\treturn Promise.reject(error);\n\t\t\t}\n\n\t\t\tconsole.log(\"-------\")\n\t\t\t//console.log(\"No idea what error caused neither what to do\");\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\n\n}\n","// @ts-nocheck\nimport EnviromentHelper from \"./EnviromentHelper\";\nimport {Auth, AuthMode, Directus, MemoryStorage, ServerInfo, UserItem} from \"@directus/sdk\";\nimport axios, {AxiosInstance} from \"axios\";\nimport TransportWrapper from \"./server/TransportWrapper\";\nimport AuthTransportWrapper from \"./server/AuthTransportWrapper\";\nimport {ConfigHolder} from \"./ConfigHolder\";\nimport UserHelper from \"./utils/UserHelper\";\n\nexport default class ServerAPI{\n\n  static dev = false;\n\n\tstatic directus = null;\n\tstatic tempStore = {\n\t\tserverInfo: undefined\n\t};\n\n\tstatic getAxiosInstance(): AxiosInstance{\n\t\treturn axios.create();\n\t}\n\n\t/**\n\t * We want a public client to get dont interfere with broken permissions and other stuff\n\t */\n\tstatic getPublicClient(){\n\t\tlet storage = new MemoryStorage();\n\t\treturn ServerAPI.getDirectus(storage);\n\t}\n\n\tstatic getDirectus(storage, customErrorHandleCallback=null){\n\t\tlet url = ConfigHolder.instance.getBackendUrl()\n\t\tlet transport = ServerAPI.getTransport(url, storage);\n\t\tlet auth = ServerAPI.getAuth(url, storage, customErrorHandleCallback)\n    if(!!ConfigHolder.CustomDirectusTypes){\n      return new Directus<ConfigHolder.CustomDirectusTypes>(url, {transport: transport, storage: storage, auth: auth});\n    } else {\n      return new Directus(url, {transport: transport, storage: storage, auth: auth});\n    }\n\t}\n\n\tstatic areCredentialsSaved(){\n\t\treturn ConfigHolder.instance.storage.has_credentials_saved();\n\t}\n\n\tstatic async handleLogoutError(){\n\t\tlet storage = ConfigHolder.instance.storage;\n\t\tstorage.deleteAll();\n\t}\n\n\tstatic async handleLogout(error=null){\n\t\tconsole.log(\"handleLogout\")\n\t\ttry{\n\t\t\tlet directus = ServerAPI.getDirectus(ConfigHolder.instance.storage);\n      console.log(\"call await directus.auth.logout();\")\n\t\t\tlet response = await directus.auth.logout();\n      await ServerAPI.handleLogoutError(); // we better make sure to reset variables in storage\n      console.log(\"logout: \", response);\n\t\t} catch (err){\n\t\t\tconsole.log(\"Error at: handleLogout\");\n\t\t\tconsole.log(err);\n\t\t\tawait ServerAPI.handleLogoutError(); // we better make sure to reset variables in storage\n\t\t}\n    await ServerAPI.handleLogoutError(); // we better make sure to reset variables in storage\n\t\tconsole.log(\"navigate to login\")\n    await ConfigHolder.instance.setUser(null);\n\t\tawait ConfigHolder.instance.setRedirectToLogin();\n    if(!!ConfigHolder.plugin && !!ConfigHolder.plugin.onLogout){\n      await ConfigHolder.plugin.onLogout(error);\n    }\n\t\tawait ConfigHolder.instance.initialize();\n\t}\n\n\tstatic getClient(): Directus<any>{\n\t\tif(ServerAPI.directus){\n\t\t\treturn ServerAPI.directus;\n\t\t}\n\t\tlet errorHandler = ServerAPI.handleLogoutError; //use default error handler\n\t\tif(ConfigHolder.instance.storage.is_anonymous()){\n\t\t\terrorHandler = () => {}; //as guest we ignore errors\n\t\t}\n\t\tconst directus = ServerAPI.getDirectus(ConfigHolder.instance.storage, errorHandler);\n\t\t// api.interceptors.response.use(onResponse, onError);\n\n\t\tServerAPI.directus = directus;\n\t\treturn directus;\n\t}\n\n\tprivate static getPublicRole(){\n\t  return {\"id\":UserHelper.USER_ROLE_ANONYMOUS,\"name\":UserHelper.USER_ROLE_ANONYMOUS,\"icon\":\"public\",\"description\":null,\"ip_access\":null,\"enforce_tfa\":false,\"admin_access\":false,\"app_access\":true,\"users\":[]}\n  }\n\n  static async delayInDev(ms: number) {\n\t  if(ServerAPI.dev){\n      return new Promise( resolve => setTimeout(resolve, ms) );\n    }\n  }\n\n\tstatic async loadRole(role_id){\n\t\t\ttry{\n\t\t\t\tlet directus = ServerAPI.getClient();\n\t\t\t\tif(!role_id || role_id===UserHelper.USER_ROLE_ANONYMOUS){\n\t\t\t\t  return ServerAPI.getPublicRole()\n        }\n\n\t\t\t\tawait ServerAPI.delayInDev(1000);\n\t\t\t\tlet role = await directus.roles.readOne(role_id);\n\t\t\t\treturn role;\n\t\t\t} catch (err){\n\t\t\t\tconsole.log(\"Error at get Server Info: \",err);\n\t\t\t}\n\t}\n\n  static async loadPermissions(role_id){\n      try{\n        let directus = ServerAPI.getClient();\n\n        let query_role_id = role_id;\n        if(role_id===UserHelper.USER_ROLE_ANONYMOUS){\n          query_role_id = null;\n        }\n\n        let filter = {filter: {role: {\n              _eq: query_role_id\n            }}};\n\n        await ServerAPI.delayInDev(1000);\n        if(!directus.permissions.readByQuery){ //TODO only added for legacy support\n          // @ts-ignore\n          let permissions = await directus.permissions.readMany(filter);\n          return permissions?.data;\n        } else {\n          let permissions = await directus.permissions.readByQuery(filter);\n          return permissions?.data;\n        }\n\n      } catch (err){\n        console.log(\"Error at get Server Info: \",err);\n      }\n  }\n\n  static async loginWithAccessDirectusAccessToken(directus_access_token){\n    return await ServerAPI.loginWithRefreshToken(directus_access_token);\n  }\n\n\tstatic async loginWithRefreshToken(refresh_token_to_use){\n    let storage = ConfigHolder.instance.storage;\n    await ServerAPI.delayInDev(1000);\n\t\tlet data = await ServerAPI.refreshWithRefreshToken(refresh_token_to_use);\n\t\tlet access_token = data?.access_token;\n\t\tlet refresh_token = data?.refresh_token;\n\t\tlet expires = data?.expires || \"\"+0;\n\t\t//https://github.com/directus/directus/blob/main/api/src/services/authentication.ts\n\t\t//let expiresIn = new Date(Date.now() + ms(expires as string));\n    console.log(\"access_token: \", access_token)\n    console.log(\"refresh_token: \", refresh_token)\n    console.log(\"expires: \", expires)\n\t\tawait storage.set_auth_expires(expires);\n\t\tawait storage.set_refresh_token(refresh_token);\n\t\tawait storage.set_access_token(access_token);\n\t\treturn data;\n\t}\n\n\tprivate static getAuth(url, storage, customErrorHandleCallback=null){\n\t\tlet transport = ServerAPI.getAuthTransport(url, storage, customErrorHandleCallback);\n\t\tconst modeForAuth: AuthMode = \"json\";\n\t\t//const modeForAuth: AuthMode = \"cookie\";\n\t\tlet auth = new Auth({\n\t\t\ttransport: transport,\n\t\t\tstorage: storage,\n\t\t\tautoRefresh: true,\n\t\t\tmode: modeForAuth\n\t\t});\n\t\treturn auth;\n\t}\n\n\tstatic getAuthorizationHeader(storage = ConfigHolder.instance.storage){\n\t\tconst token = storage.auth_token;\n\t\tconst bearer = token\n\t\t\t? token.startsWith(`Bearer `)\n\t\t\t\t? String(storage.auth_token)\n\t\t\t\t: `Bearer ${storage.auth_token}`\n\t\t\t: '';\n\t\treturn {\n\t\t\tAuthorization: bearer\n\t\t}\n\t}\n\n\tprivate static getTransport(url, storage){\n\t\tlet myTransport = new TransportWrapper({\n\t\t\turl: url,\n\t\t\tbeforeRequest: (config) => {\n\t\t\t\tconst token = storage.auth_token;\n\t\t\t\tconst bearer = token\n\t\t\t\t\t? token.startsWith(`Bearer `)\n\t\t\t\t\t\t? String(storage.auth_token)\n\t\t\t\t\t\t: `Bearer ${storage.auth_token}`\n\t\t\t\t\t: '';\n\n\t\t\t\treturn {\n\t\t\t\t\t...config,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: bearer,\n\t\t\t\t\t\t...config.headers,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\treturn myTransport;\n\t}\n\n\tprivate static getAuthTransport(url, storage, customErrorHandleCallback=null){\n\t\tlet myTransport = new AuthTransportWrapper({\n\t\t\turl: url,\n\t\t\tbeforeRequest: (config) => {\n\t\t\t\tconst token = storage.auth_token;\n\t\t\t\tconst bearer = token\n\t\t\t\t\t? token.startsWith(`Bearer `)\n\t\t\t\t\t\t? String(storage.auth_token)\n\t\t\t\t\t\t: `Bearer ${storage.auth_token}`\n\t\t\t\t\t: '';\n\n\t\t\t\treturn {\n\t\t\t\t\t...config,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: bearer,\n\t\t\t\t\t\t...config.headers,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tmyTransport.customErrorHandleCallback = customErrorHandleCallback;\n\t\treturn myTransport;\n\t}\n\n\tstatic getAPIUrl(){\n\t\tlet directus = ServerAPI.getPublicClient();\n\t\t// @ts-ignore\n\t\treturn directus.transport.url;\n\t}\n\n\tstatic async getServerInfo(): Promise<ServerInfo>{\n\t  console.log(\"getServerInfo\");\n\t\ttry{\n\t\t\tlet directus = ServerAPI.getPublicClient();\n\t\t\t//TODO we could add caching here\n      await ServerAPI.delayInDev(1000);\n\t\t\tlet serverInfo = await directus.server.info();\n\t\t\tServerAPI.tempStore.serverInfo = serverInfo;\n\t\t\treturn serverInfo;\n\t\t} catch (err){\n\t\t\tconsole.log(\"Err at ServerAPI.getServerInfo()\");\n\t\t\tconsole.log(err);\n\t\t\tif(!!err && !!err.parent && !!err.parent.message === \"Network Error\"){\n\t\t\t  console.log(\"Offline\");\n      }\n\t\t}\n\t\treturn null;\n\t}\n\n\tstatic getAssetImageURL(imageID: string){\n\t\treturn EnviromentHelper.getAssetURL(imageID);\n\t}\n\n\tstatic async getAuthProviders(): Promise<any>{\n\t\tlet getProvidersURL = ServerAPI.getAPIUrl()+\"/auth\";\n\t\ttry{\n\t\t\tlet api = ServerAPI.getAxiosInstance();\n      await ServerAPI.delayInDev(1000);\n\t\t\tlet answer = await api.get(getProvidersURL);\n\t\t\tlet providers = answer?.data?.data;\n\t\t\treturn providers\n\t\t} catch (err){\n\t\t\tconsole.log(err)\n\t\t}\n\t\treturn null;\n\t}\n\n\tstatic async getMe(directus=null): Promise<UserItem>{\n\t\tif(!directus){\n\t\t\tdirectus = ServerAPI.getClient();\n\t\t}\n\t\treturn directus.users.me.read();\n\t}\n\n\tstatic async isRefreshTokenSaved(){\n\t\tlet token = ConfigHolder.instance.storage.auth_refresh_token;\n\t\treturn !!token;\n\t}\n\n\tprivate static async refreshWithRefreshToken(refresh_token: string){\n\t\tlet url = ConfigHolder.instance.getBackendUrl()+'/auth/refresh';\n\t\tconst api = ServerAPI.getAxiosInstance();\n\t\ttry{\n      await ServerAPI.delayInDev(1000);\n\t\t\tlet response = await api.post(url, {\"refresh_token\": \"\"+refresh_token, mode: \"json\"}, {});\n\t\t\treturn response?.data?.data;\n\t\t} catch (err){\n\t\t\tconsole.log(\"refreshWithDirectusToken error\");\n\t\t\tconsole.log(err);\n\t\t\tconsole.log(err.toString())\n      console.log(JSON.stringify(err));\n\t\t\tconsole.log(Object.keys(err));\n\t\t\t// \"config\", \"request\", \"response\", \"isAxiosError\", \"toJSON\"\n      console.log(err?.message);\n      console.log(err?.response);\n      console.log(err?.response?.data);\n      console.log(err?.requests);\n      console.log(err.toJSON());\n\t\t}\n\t\treturn null;\n\t}\n}\n","import {ConfigHolder} from \"./ConfigHolder\";\n\nexport default class EnviromentHelper{\n\n\tstatic getDirectusAccessTokenName(){\n\t\treturn \"directus_access_token\";\n\t}\n\n\tstatic getAppManifest(): any{\n\t\treturn ConfigHolder?.AppConfig;\n\t}\n\n  static getAppManifestExtra(): any{\n    return EnviromentHelper.getAppManifest()?.extra;\n  }\n\n  /**\n   * Please use ConfigHolder.instance.getBackendUrl()\n   * This method gives the Backend URl in the initial AppManifest which may not update dynamically\n   */\n\tstatic getHardCodedBackendURL(): string{\n\t\treturn EnviromentHelper.getAppManifestExtra()?.BACKEND_URL;\n\t}\n\n\tstatic getAssetURL(file_id): any{\n\t\tif(!file_id){\n\t\t\treturn null;\n\t\t}\n\t\treturn ConfigHolder.instance.getBackendUrl()+\"/assets/\"+file_id\n\t}\n\n\tstatic getBasePath(): string{\n\t\treturn EnviromentHelper.getAppManifestExtra()?.BASE_PATH;\n\t}\n\n}\n","// @ts-nocheck\n\nimport type {PluginInterface} from \"./PluginInterface\";\nimport {App} from \"./App\";\n\nexport class ConfigHolder{\n\n  static advancedSettings: any;\n  // loadedHeaderInitialState;\n  // loadedContentInitialState;\n\n\n  static useCookiePolicy: boolean = true;\n  static displayThemeFloater: boolean = false;\n  static instance: App = null;\n  static plugin: PluginInterface = null;\n  static styleConfig = null;\n  static config = null;\n  static currentpackageJson = null;\n  static currentpackageJsonLock = null;\n  static thirdpartyLicense = null;\n  static AppConfig = null;\n  static CustomDirectusTypes: any = null;\n\n  static authConfig = {\n    autoLogin: true,\n    startAsAnonymous: false,\n    mail: {\n      visible: true,\n      registerVisible: false,\n      position: 4\n    },\n    guest: {\n      visible: true,\n      position: 1\n    },\n    anonymous: {\n      visible: true,\n      callbackBefore: async (handleContinue, actionsheet) => {\n        handleContinue();\n        /**\n        actionsheet.show({\n          title: \"Anonymous Proceed?\",\n          description: \"Not all actions will be possible\",\n          onAccept: () => {\n            handleContinue()\n          }\n        });\n        */\n      },\n      position: 3\n    },\n    external: {\n      visible: true,\n      position: 2\n    }\n  }\n\n}\n","import {StorageImplementationInterface} from \"./StorageImplementationInterface\";\n\nexport class MyDirectusStorageWeb implements StorageImplementationInterface/** extends Storage */{\n    private webstorage: any;\n\n    // webstorage: Storage\n    constructor() {\n        // @ts-ignore\n        this.webstorage = localStorage;\n    }\n\n    get(key: string) {\n        return this.webstorage.getItem(key)\n    }\n\n    remove(key: string) {\n        return this.webstorage.removeItem(key)\n    }\n\n    set(key: string, value: string) {\n        return this.webstorage.setItem(key, value)\n    }\n\n  getAllKeys(): string[] {\n    return Object.keys(this.webstorage);\n  }\n\n  init(): Promise<void> {\n    return Promise.resolve(undefined);\n  }\n\n\n}\n","import React, {useEffect, useState, useCallback, useMemo} from \"react\";\nimport { Platform, View, Animated } from \"react-native\";\nimport Lottie from \"lottie-react\";\nimport ServerAPI from \"../ServerAPI\";\nimport { KitchenSkeleton } from \"./../project/KitchenSkeleton\";\n\nexport const LottieWeb = ({\n                              source: initialSource,\n                              width: initialWidth,\n                              height: initialHeight,\n                              style,\n                              url,\n                              autoPlay = true,\n                              customLoading,\n                              flex\n                          }) => {\n    const [width, setWidth] = useState(() => initialWidth || style?.width);\n    const [height, setHeight] = useState(() => initialHeight || style?.height);\n    const [source, setSource] = useState(initialSource);\n    const [reloadnumber, setReloadnumber] = useState(0);\n\n    const downloadInformations = useCallback(async () => {\n        if (!source && url) {\n            try {\n                const api = ServerAPI.getAxiosInstance();\n                const answer = await api.get(url);\n                const data = answer.data;\n                setSource(data);\n                setReloadnumber(prev => prev + 1);\n            } catch (err) {\n                // Handle error\n            }\n        }\n    }, [source, url]);\n\n    useEffect(() => {\n        downloadInformations();\n    }, [downloadInformations]);\n\n    const content = useMemo(() => {\n        return source ? (\n            <Lottie animationData={source} loop={true} autoplay={autoPlay} />\n        ) : customLoading ? (\n            customLoading\n        ) : (\n            <KitchenSkeleton style={{ height: \"100%\", width: \"100%\" }} />\n        );\n    }, [source, autoPlay, customLoading]);\n\n    const outerStyle = flex ? { flex: 1 } : { height, width };\n\n    return (\n        <View\n            style={outerStyle}\n            onLayout={(event) => {\n                if (flex) {\n                    const { width, height } = event.nativeEvent.layout;\n                    setHeight(height);\n                    setWidth(width);\n                }\n            }}\n        >\n            <View style={{ height, width }}>\n                <View style={{ position: \"absolute\", height: \"100%\", width: \"100%\" }}>\n                    {content}\n                </View>\n            </View>\n        </View>\n    );\n};\n","// @ts-nocheck\nimport React, {PureComponent, useEffect, useState} from \"react\";\nimport { Platform, View, Animated } from \"react-native\";\nimport LottieView from \"lottie-react-native\";\nimport ServerAPI from \"../ServerAPI\";\nimport {KitchenSkeleton} from \"./../project/KitchenSkeleton\";\n\nexport const LottieNative = (props) => {\n\n    let initialSource = props.source;\n\n    const [width, setWidth] = useState(props.width || props?.style?.width)\n    const [height, setHeight] = useState(props.height || props?.style?.height)\n    const [source, setSource] = useState(initialSource);\n    const [reloadnumber, setReloadnumber] = useState(0);\n\n    let url = props.url\n\n    let autoPlay = true;\n    if(props.autoPlay!==undefined){\n        autoPlay = props.autoPlay\n    }\n\n    async function downloadInformations(){\n      if(!source && !!url){\n        try{\n          let api = ServerAPI.getAxiosInstance();\n          let answer = await api.get(url);\n          let data = answer.data;\n          setSource(data);\n          setReloadnumber(1);\n        } catch (err){\n\n        }\n      }\n    }\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        downloadInformations();\n    }, [props])\n\n    let content = null;\n\n    if(!!source){\n      content = <LottieView\n        style={props.style}\n        autoPlay={autoPlay}\n        source={source}\n      />;\n    } else {\n      if(!!props.customLoading){\n        content = props.customLoading;\n      } else {\n        content = <KitchenSkeleton style={{height: \"100%\", width: \"100%\"}} />\n      }\n    }\n\n    let flex = props.flex;\n    let outerStyle: any;\n    outerStyle = {\n      height: height, width: width\n    }\n\n    if(!!flex){\n      outerStyle = {\"flex\": 1};\n    }\n\n      return(\n        <View style={outerStyle} onLayout={(event) => {\n          if(!!flex){\n            const {x, y, width, height} = event.nativeEvent.layout;\n            setHeight(height);\n            setWidth(width)\n          }\n        }}>\n          <View style={{height: height, width: width}}>\n            <View style={{position: \"absolute\", height: \"100%\", width: \"100%\"}}>\n              {content}\n            </View>\n          </View>\n        </View>\n      )\n}\n","// @ts-nocheck\nimport React from 'react';\nimport {useColorMode, useColorModeValue, useToken,} from 'native-base';\nimport {ConfigHolder} from \"../ConfigHolder\";\n\nexport function useBackgroundColor(props?) {\n  const [lightBg, darkBg] = useToken(\n    'colors',\n    [ConfigHolder.styleConfig.backgroundColor.light, ConfigHolder.styleConfig.backgroundColor.dark],\n    'blueGray.900',\n  );\n  const bgColor = useColorModeValue(lightBg, darkBg);\n  return bgColor;\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Skeleton, View} from \"native-base\";\nimport {FadeInFadeOut} from \"../components/animatedViews/FadeInFadeOut\";\nimport {ActivityIndicator} from \"react-native\";\nimport {useBackgroundColor} from \"../templates/useBackgroundColor\";\nimport {useProjectColor} from \"../templates/use\";\nimport {useThemeTextColor} from \"../helper/HelperHooks\";\n\nexport const KitchenSkeleton: FunctionComponent = (props) => {\n\n  const bgColor = useBackgroundColor()\n  const defaultColor = useThemeTextColor();\n\n  // Takes a lot of cpu power\n//  <Skeleton height={\"100%\"} width={\"100%\"}/>\n\n\treturn (\n\t\t<View style={{height: \"100%\", width: \"100%\", flex: 1, justifyContent: \"center\", alignItems: \"center\"}} {...props} >\n      <ActivityIndicator size={\"large\"} color={defaultColor} />\n\t\t</View>\n\t);\n}\n","// @ts-nocheck\nimport {Icon as NativeBaseIcon, Text, useTheme} from \"native-base\";\nimport {MaterialCommunityIcons} from \"@expo/vector-icons\";\nimport React, {FunctionComponent} from \"react\";\nimport {InterfaceIconProps} from \"native-base/lib/typescript/components/primitives/Icon/types\";\nimport {useThemeTextColor} from \"../helper/HelperHooks\";\nimport {AccessibilityInfo, PixelRatio} from \"react-native\";\n\ninterface AppState {\n  invert?: boolean;\n  useDarkTheme?: boolean\n}\nexport const Icon: FunctionComponent<InterfaceIconProps & AppState> = ({as, size, invert, useDarkTheme, ...props}) => {\n\n  const defaultColor = useThemeTextColor(invert, useDarkTheme);\n\n  const theme = useTheme();\n\n  let fontScale = PixelRatio.getFontScale();\n\n  let defaultAs = MaterialCommunityIcons;\n  if(!!as){\n    defaultAs = as;\n  }\n\n  let defaultSize = \"lg\";\n  let useSize = defaultSize;\n  if(!!size){\n    useSize = size;\n  }\n\n  let sizes = theme[\"components\"][\"Icon\"][\"sizes\"]\n      /**\n       const sizes = {\n  '2xs': 2,\n  'xs': 3,\n  'sm': 4,\n  'md': 5,\n  'lg': 6,\n  'xl': 7,\n  '2xl': 8,\n  '3xl': 9,\n  '4xl': 10,\n  '5xl': 12,\n  '6xl': 16,\n};\n       *\n       */\n\n    const minKey = '2xs';\n    const maxKey = '6xl';\n\n    // Native Base does not scale the icons when the fontScale is set up.\n    // In order to achieve this, we need to do it on our own.\n\n    // Calculate the multiplied new size based on fontScale\n    let scaledSize = sizes[useSize] * fontScale;\n\n    // Find the closest key corresponding to the clamped size\n    let closestKey = minKey; // Initialize with the smallest size\n    for (const [key, value] of Object.entries(sizes)) {\n      if (value <= scaledSize) {\n        closestKey = key;\n      } else {\n        break;\n      }\n    }\n\n  // Clamp the scaled icon size with min and max keys (e.g., '2xs' and '6xl')\n  const clampedKey = sizes[closestKey] <= sizes[maxKey] ? closestKey : maxKey;\n\n    useSize = clampedKey;\n\n  const color = props?.color || defaultColor;\n\n\treturn (\n    <NativeBaseIcon as={defaultAs} {...props} size={useSize} color={color} />\n  )\n}\n","// @ts-nocheck\nimport React from \"react\";\nimport {Platform, SafeAreaView, StatusBar} from \"react-native\";\n\nexport const KitchenSafeAreaView = (props) => {\n\n  const paddingTop = Platform.OS === \"android\" ? StatusBar.currentHeight : 0\n\n  let passedStyle = props.style || {};\n  let initialStyle = {flex: 1, paddingTop: paddingTop};\n  let style = Object.assign({}, initialStyle, passedStyle);\n\n  return(\n    <SafeAreaView style={style}>\n      {props.children}\n    </SafeAreaView>\n  )\n\n}\n","import React from \"react\";\nimport {Platform} from \"react-native\";\n\nexport class PlatformHelper {\n\n\tstatic isWeb(){\n\t\treturn Platform.OS === \"web\";\n\t}\n\n\tstatic isIOS(){\n\t\treturn Platform.OS === \"ios\";\n\t}\n\n\tstatic isAndroid(){\n\t\treturn Platform.OS === \"android\";\n\t}\n\n\tstatic isSmartPhone(){\n\t\t//or is it better to as !isWeb\n\t\treturn PlatformHelper.isAndroid() ||  PlatformHelper.isIOS()\n\t}\n\n\tstatic getPlatformDisplayName(){\n\t\tif(PlatformHelper.isWeb()){\n\t\t\treturn \"Web\";\n\t\t} else if(PlatformHelper.isIOS()){\n\t\t\treturn \"iOS\";\n\t\t} else if(PlatformHelper.isAndroid()){\n\t\t\treturn \"Android\";\n\t\t} else {\n\t\t\treturn \"Unknown\";\n\t\t}\n\t}\n\n}\n","import {PlatformHelper} from \"../helper/PlatformHelper\";\nimport {Keyboard} from \"react-native\";\nimport React from \"react\";\n\n// https://github.com/GeekyAnts/NativeBase/issues/3939\nexport const useKeyboardBottomInset = () => {\n  const [bottom, setBottom] = React.useState(0);\n  const subscriptions = React.useRef([]);\n\n  React.useEffect(() => {\n    subscriptions.current = [\n      Keyboard.addListener(\"keyboardDidHide\", (e) => setBottom(0)),\n      Keyboard.addListener(\"keyboardDidShow\", (e) => {\n        if (PlatformHelper.isAndroid()) {\n          setBottom(e.endCoordinates.height);\n        } else if(PlatformHelper.isIOS()) {\n          setBottom(\n            Math.max(e.startCoordinates.height, e.endCoordinates.height)\n          );\n        }\n      }),\n    ];\n\n    return () => {\n      subscriptions.current.forEach((subscription) => {\n        subscription.remove();\n      });\n    };\n  }, [setBottom, subscriptions]);\n\n  return bottom;\n};\n","// @ts-nocheck\nimport {Actionsheet, Divider, ScrollView, Text, useDisclose, useToast, View} from \"native-base\";\nimport React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../components/Icon\";\nimport {KitchenSafeAreaView} from \"../components/KitchenSafeAreaView\";\nimport {useKeyboardBottomInset} from \"./MyActionsheetKeyboardHelper\";\nimport {useBackgroundColor} from \"./../templates/useBackgroundColor\";\n\nexport interface MyAlertProps {\n    title?: string,\n    renderDescription?: any,\n    description?: string,\n    acceptLabel?: string,\n    onAccept?: any,\n    cancelLabel?: string,\n    onCancel?: any,\n    renderCustomContent?: any,\n    options?: any,\n    onOptionSelect?: any,\n    backgroundColor?: string,\n}\n\nexport const MyActionsheetComponent: FunctionComponent<MyAlertProps> = (props) => {\n\n    const backgroundColor = props?.backgroundColor || useBackgroundColor();\n\n    const {\n        isOpen,\n        onOpen,\n        onClose\n    } = useDisclose(true);\n\n    const bottomInset = useKeyboardBottomInset();\n    const [height, setHeight] = React.useState(0);\n\n    function handleClose(){\n        onClose();\n        if (props?.onClose) {\n            props.onClose();\n        }\n    }\n\n    function renderAccept(){\n        let acceptLabel = props.acceptLabel || \"Accept\";\n        const onPress = props.onAccept;\n        return renderOption(\"accept\", acceptLabel, onPress, <Icon name={\"check\"} />);\n    }\n\n    function renderCancel(){\n        let acceptLabel = props.cancelLabel || \"Cancel\";\n        const onPress = props.onCancel;\n        return renderOption(\"cancel\", acceptLabel, onPress, <Icon name={\"close\"} />);\n    }\n\n    function renderOption(key, label, onPress, renderedIcon?){\n        return(\n          <>\n            <Actionsheet.Item\n              key={key+\"-item\"}\n              startIcon={renderedIcon}\n              onPress={() => {\n                if(onPress){\n                  onPress(key);\n                }\n                handleClose();\n              }}\n              style={{\n                backgroundColor: \"transparent\",\n                cursor: 'pointer' // This line changes the cursor to a hand icon on hover\n              }}\n              >\n              <Text>{label}</Text>\n            </Actionsheet.Item>\n            <Divider key={key+\"-divider\"} />\n          </>\n        )\n    }\n\n    function renderOptions(){\n      let output = [];\n      let keys = Object.keys(props.options);\n      let onPress = props?.onOptionSelect || ((key) => {});\n\n      for(let key of keys){\n          const option = props.options[key];\n          if(!!option && typeof option === \"object\") {\n            let icon = option?.icon;\n            let label = option?.label;\n            let renderedIcon = null;\n            if(!!icon){\n              if(typeof icon === \"string\"){\n                renderedIcon = <Icon name={icon} />;\n              } else {\n                renderedIcon = icon;\n              }\n            }\n            output.push(renderOption(key, label, onPress, option?.renderedIcon));\n          } else {\n            let label = option;\n            output.push(renderOption(key, label, onPress, null));\n          }\n      }\n      return output;\n    }\n\n    function renderContent(){\n        if(props?.renderCustomContent){\n            return props.renderCustomContent(handleClose);\n        } else {\n          let output = null;\n          if(props?.options) {\n            output = renderOptions();\n          } else {\n            output = <>\n              {renderAccept()}\n              {renderCancel()}\n            </>\n          }\n\n          return (\n            <>\n              {output}\n            </>\n          )\n        }\n    }\n\n    function renderDescription(){\n      if(props?.renderDescription){\n        return props.renderDescription();\n      } else if(props?.description){\n        return <Text>{props?.description}</Text>\n      } else {\n        return null;\n      }\n    }\n\n    const opacity = 0.75;\n\n    let actionSheetContentHeight = undefined; // default it is undefined, so that it will be calculated automatically up to i think 80% of the screen height\n    if(bottomInset > 0){ // if the keyboard is open, we need to set the height to the bottom inset, so that the keyboard does not hide the actionsheet\n      actionSheetContentHeight = height - bottomInset; // the height is the height of the actionsheet, minus the bottom inset\n      //TODO: we could subtract the handler height. But we don't know the height of the handler, so we would need to measure it\n    }\n\n    return(\n      <KitchenSafeAreaView>\n          <Actionsheet isOpen={isOpen} onClose={handleClose} onLayout={(event) => {\n            const height = event?.nativeEvent?.layout?.height;\n            if(height){\n              setHeight(height);\n            }\n          }} _backdrop={{\n            opacity: opacity,\n          }}>\n            <Actionsheet.Content bottom={bottomInset} height={actionSheetContentHeight} backgroundColor={backgroundColor} >\n              <View key={\"ActionSheetHeader\"} style={{flexDirection: \"row\", justifyContent: \"space-between\", alignItems: \"center\"}}>\n                <Text>{props?.title}</Text>\n              </View>\n              {renderDescription()}\n              <ScrollView style={{width: \"100%\"}}>\n                {renderContent()}\n              </ScrollView>\n            </Actionsheet.Content>\n          </Actionsheet>\n      </KitchenSafeAreaView>\n    );\n\n}\n\nexport class MyActionsheet {\n    static useActionsheet(): any {\n        const toast = useToast();\n        const toastIdRef = React.useRef();\n        const currentToastIdRef = toastIdRef?.current;\n\n        const onClose = () => {\n            if (currentToastIdRef) {\n                toast.close(currentToastIdRef);\n            }\n        }\n\n        const show = (params: MyAlertProps, options) => {\n            toastIdRef.current = toast.show({\n                duration: null,\n                render: () => {\n                    return <MyActionsheetComponent {...params} options={options} onClose={onClose}/>;\n                }\n            });\n            return onClose;\n        }\n\n        return {\n            show: show\n        };\n\n    }\n}\n","export class TranslationKeys {\n\n\tstatic sidebar_menu = \"sidebar_menu\";\n  static profile_and_settings = \"profile_and_settings\";\n  static logout = \"logout\";\n  static logout_confirm_message = \"logout_confirm_message\";\n  static register = \"register\";\n  static sign_in = \"sign_in\";\n  static continue = \"continue\";\n  static is_currently_authenticated_remember_this_account = \"is_currently_authenticated_remember_this_account\";\n  static forgot_password = \"forgot_password\";\n  static email = \"email\";\n  static password = \"password\";\n  static password_visible = \"password_visible\";\n  static password_hidden = \"password_hidden\";\n  static confirm_password = \"confirm_password\";\n  static continue_as_anonymous = \"continue_as_anonymous\";\n  static log_in_with = \"log_in_with\";\n  static home = \"home\";\n\n  static switch = \"switch\";\n  static button_disabled = \"button_disabled\";\n\n  static rushMinutes_openedFrom = \"rushMinutes_openedFrom\";\n  static rushMinutes_closedAfter = \"rushMinutes_closedAfter\";\n\n  static by_continuing_you_agree_to_terms_and_conditions_and_privacy_policy = \"by_continuing_you_agree_to_terms_and_conditions_and_privacy_policy\";\n\n  static cookie_policy_consent = \"cookie_policy_consent\";\n  static cookie_policy_details = \"cookie_policy_details\";\n  static cookie_policy_about = \"cookie_policy_about\";\n  static cookie_policy_button_accept_all = \"cookie_policy_button_accept_all\";\n  static cookie_policy_button_deny_all = \"cookie_policy_button_deny_all\";\n  static cookie_policy_button_allow_selected = \"cookie_policy_button_allow_selected\";\n  static cookie_policy_consent_date = \"cookie_policy_consent_date\";\n  static cookie_policy_policy_date_updated = \"cookie_policy_policy_date_updated\";\n  static cookie_policy_details_name = \"cookie_policy_details_name\";\n  static cookie_policy_group_necessary = \"cookie_policy_group_necessary\";\n  static cookie_policy_details_provider = \"cookie_policy_details_provider\";\n  static cookie_policy_details_purpose = \"cookie_policy_details_purpose\";\n  static cookie_policy_details_expiry = \"cookie_policy_details_expiry\";\n  static cookie_policy_details_expiry_persistent = \"cookie_policy_details_expiry_persistent\";\n  static cookie_policy_details_type = \"cookie_policy_details_type\";\n  static cookie_policy_provider_we = \"cookie_policy_provider_we\";\n  static cookies = \"cookies\";\n\n}\n","export enum RequiredStorageKeys {\n\n    KEY_AUTH_REFRESH_TOKEN = 'auth_refresh_token', //DO not change\n    KEY_AUTH_EXPIRES = 'auth_expires', //DO not change\n    KEY_AUTH_EXPIRES_DATE = 'auth_expires_date', //DO not change\n    KEY_AUTH_ACCESS_TOKEN = 'auth_token', //DO not change\n\n    CACHED_THEME = 'cached_theme',\n    CACHED_USER = 'cached_user',\n    CACHED_SERVER_INFO = 'cached_server_info',\n\n    COOKIE_CONFIG = 'cookie_config',\n    IS_ANONYMOUS = 'isAnonymous',\n\n    CACHED_DRAWER_CONFIG = 'cached_drawer_config',\n}\n","import {TranslationKeys} from \"./TranslationKeys\";\nimport {RequiredStorageKeys} from \"../storage/RequiredStorageKeys\";\n\nexport class DefaultTranslator{\n\n    static useTranslation(translation_key){\n      switch(translation_key){\n        case TranslationKeys.home: return \"Start\";\n        case TranslationKeys.log_in_with: return \"Anmelden mit\";\n        case TranslationKeys.continue: return \"Weiter\";\n        case TranslationKeys.sign_in: return \"Anmelden\";\n        case TranslationKeys.email: return \"E-Mail\";\n        case TranslationKeys.password_visible: return \"Passwort sichtbar\";\n        case TranslationKeys.password_hidden: return \"Passwort versteckt\";\n        case TranslationKeys.confirm_password: return \"Passwort bestätigen\";\n        case TranslationKeys.password: return \"Passwort\";\n        case TranslationKeys.register: return \"Registrieren\";\n        case TranslationKeys.logout_confirm_message: return \"Willst du dich abmelden?\";\n        case TranslationKeys.logout: return \"Abmelden\";\n        case TranslationKeys.sidebar_menu: return \"Menü\";\n        case TranslationKeys.continue_as_anonymous: return \"Anonym fortfahren\";\n        case TranslationKeys.forgot_password: return \"Passwort vergessen\";\n        case TranslationKeys.is_currently_authenticated_remember_this_account: return \"Ist aktuell angemeldet. Erkennst du diesen Account?\";\n        case TranslationKeys.profile_and_settings: return \"Profil und Einstellungen\";\n\n        case TranslationKeys.rushMinutes_openedFrom: return \"Offen ab\";\n        case TranslationKeys.rushMinutes_closedAfter: return \"Geschlossen ab\";\n\n        case TranslationKeys.switch: return \"Wechseln\";\n        case TranslationKeys.button_disabled: return \"Deaktiviert\";\n\n        case TranslationKeys.by_continuing_you_agree_to_terms_and_conditions_and_privacy_policy: return \"Indem du fortfährst, bestätigst du, dass du unsere Datenschutzrichtlinien gelesen hast.\";\n\n        case TranslationKeys.cookie_policy_consent: return \"Zustimmung\";\n        case TranslationKeys.cookie_policy_details: return \"Details\";\n        case TranslationKeys.cookie_policy_about: return \"Über Cookies\";\n        case TranslationKeys.cookie_policy_button_accept_all: return \"Alles akzeptieren\";\n        case TranslationKeys.cookie_policy_button_deny_all: return \"Ablehnen\";\n        case TranslationKeys.cookie_policy_button_allow_selected: return \"Auswahl erlauben\";\n        case TranslationKeys.cookie_policy_consent_date: return \"Einwilligungsdatum\";\n        case TranslationKeys.cookie_policy_policy_date_updated: return \"Die Cookie-Erklärung wurde das letzte Mal aktualisiert am:\";\n        case TranslationKeys.cookies: return \"Cookies\";\n        case TranslationKeys.cookie_policy_details_name: return \"Name\";\n        case TranslationKeys.cookie_policy_details_provider: return \"Anbieter\";\n        case TranslationKeys.cookie_policy_details_purpose: return \"Zweck\";\n        case TranslationKeys.cookie_policy_details_expiry: return \"Ablauf\";\n        case TranslationKeys.cookie_policy_details_expiry_persistent: return \"Persistent\";\n        case TranslationKeys.cookie_policy_details_type: return \"Typ\";\n        case TranslationKeys.cookie_policy_group_necessary: return \"Notwendig\";\n        case TranslationKeys.cookie_policy_provider_we: return \"Wir\";\n\n      }\n    }\n\n    static useRequiredStorageKeysPurpose(storageKey: RequiredStorageKeys): string{\n      switch (storageKey) {\n        case RequiredStorageKeys.KEY_AUTH_REFRESH_TOKEN: return \"Speichert den Refresh-Token\";\n        case RequiredStorageKeys.KEY_AUTH_EXPIRES: return \"Speichert die Lebensdauer des Authentifizierungs-Tokens\";\n        case RequiredStorageKeys.KEY_AUTH_EXPIRES_DATE: return \"Speichert das Ablaufdatum des Authentifizierungs-Tokens\";\n        case RequiredStorageKeys.KEY_AUTH_ACCESS_TOKEN: return \"Speichert den Authentifizierungs-Token\";\n        case RequiredStorageKeys.CACHED_SERVER_INFO: return \"Speichert die Server-Informationen\";\n        case RequiredStorageKeys.CACHED_THEME: return \"Speichert das aktuelle Theme\";\n        case RequiredStorageKeys.CACHED_USER: return \"Speichert den aktuellen Benutzer\";\n        case RequiredStorageKeys.IS_ANONYMOUS: return \"Speichert ob der Benutzer ein Gast ist\";\n        case RequiredStorageKeys.COOKIE_CONFIG: return \"Speichert die Cookie-Einstellungen\";\n        default: return \"Erforderlich für die grundlegende Funktionalität der Webseite\";\n      }\n    }\n\n\n}\n","import React from \"react\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\n\nexport enum CookieGroupEnum {\n  Necessary = \"Necessary\",\n}\n\nexport enum CookieStorageTypeEnum {\n  LocalStorage = \"LocalStorage\",\n  HTTP = \"HTTP\"\n}\n\nexport class CookieHelper {\n  static CookieDictNameToDetails: { [key: string]: any } = {}\n}\n\nexport type Cookie = {\n  name: string;\n  value: string;\n  date_created: Date;\n}\n\nexport type CookieDetails = {\n  name: string;\n  provider: string;\n  provider_url: string;\n  purpose: string;\n  expiry: string;\n  type: CookieGroupEnum | string;\n  storageType: CookieStorageTypeEnum;\n}\n\nexport type CookieConfigType = {\n  date_consent: string,\n  // consent: {[key: string]: boolean}\n  consent: { [key: string]: boolean }\n}\n\nexport function getDefaultCookieConfig(): CookieConfigType {\n  let empty: any = {\n    date_consent: null,\n    consent: {\n      [CookieGroupEnum.Necessary]: true\n    }\n  }\n  let cookieAdditionGroups = ConfigHolder.plugin.getCookieAdditionalGroups();\n  let cookieConsentGroups = [];\n  if (cookieAdditionGroups) {\n    cookieConsentGroups = cookieAdditionGroups;\n  }\n  for (let cookieConsentGroup of cookieConsentGroups) {\n    empty.consent[cookieConsentGroup] = false;\n  }\n  return empty;\n}\n\nexport function getAcceptAllCookieConfig(): CookieConfigType {\n  let empty: any = getDefaultCookieConfig();\n  let cookieAdditionGroups = ConfigHolder.plugin.getCookieAdditionalGroups();\n  let cookieConsentGroups = [];\n  if (cookieAdditionGroups) {\n    cookieConsentGroups = cookieAdditionGroups;\n  }\n  for (let cookieConsentGroup of cookieConsentGroups) {\n    empty.consent[cookieConsentGroup] = true;\n  }\n  return empty;\n}\n","import type {StorageManager} from 'native-base';\nimport {ColorMode, useColorMode} from 'native-base';\n\nimport AsyncStorage from '@react-native-community/async-storage';\n\nimport {Appearance} from \"react-native\";\nimport {RequiredStorageKeys} from \"../storage/RequiredStorageKeys\";\nimport {ConfigHolder} from \"../ConfigHolder\";\n\n//TODO dont save it directly into storage, use synched storage variable\nexport default class ColorCodeHelper {\n\tstatic VALUE_THEME_DARK: ColorMode = 'dark';\n\tstatic VALUE_THEME_LIGHT: ColorMode = 'light';\n\tstatic VALUE_THEME_DEFAULT: ColorMode = ColorCodeHelper.VALUE_THEME_LIGHT;\n\n\tstatic isDarkMode(){\n    const { colorMode, toggleColorMode } = useColorMode();\n    let nextTheme = colorMode===ColorCodeHelper.VALUE_THEME_LIGHT ? ColorCodeHelper.VALUE_THEME_DARK : ColorCodeHelper.VALUE_THEME_LIGHT;\n    return colorMode!==ColorCodeHelper.VALUE_THEME_LIGHT\n  }\n\n\tstatic getSystemPreferedColor(){\n\t\tconst colorScheme = Appearance.getColorScheme();\n\t\tif (colorScheme === 'dark') {\n\t\t\t// Use dark color scheme\n\t\t\treturn ColorCodeHelper.VALUE_THEME_DARK\n\t\t}\n\t\treturn ColorCodeHelper.VALUE_THEME_LIGHT;\n\t}\n\n\tstatic async getColorModeFromStorage(): Promise<ColorMode>{\n\t\ttry {\n\t\t\tlet cookieAsString = await AsyncStorage.getItem(RequiredStorageKeys.CACHED_THEME);\n\t\t\tlet cookie = ConfigHolder.instance.storage.getCookieFromStorageString(cookieAsString);\n\t\t\tlet val = cookie?.value;\n\t\t\tif(!val){\n\t\t\t\treturn ColorCodeHelper.getSystemPreferedColor();\n\t\t\t}\n\t\t\treturn val === ColorCodeHelper.VALUE_THEME_DARK ? ColorCodeHelper.VALUE_THEME_DARK : ColorCodeHelper.VALUE_THEME_LIGHT;\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t\treturn ColorCodeHelper.VALUE_THEME_DEFAULT;\n\t\t}\n\t}\n\n\tstatic async setColorModeToStorage(value: ColorMode){\n\t\ttry {\n\t\t  let cookie = ConfigHolder.instance.storage.getNewCookieFromKeyValue(RequiredStorageKeys.CACHED_THEME, value);\n\t\t  let storageString = ConfigHolder.instance.storage.getStorageStringFromCookie(cookie);\n\t\t\tawait AsyncStorage.setItem(RequiredStorageKeys.CACHED_THEME, storageString);\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t}\n\n\tstatic getManager(): StorageManager{\n\t\treturn {\n\t\t\tget: async () => {\n        if (!!ConfigHolder.plugin?.getOverwriteTheme()) {\n          return ConfigHolder.plugin?.getOverwriteTheme();\n        }\n\t\t\t\treturn await ColorCodeHelper.getColorModeFromStorage();\n\t\t\t},\n\t\t\tset: async (value: ColorMode) => {\n\t\t\t\tawait ColorCodeHelper.setColorModeToStorage(value);\n\t\t\t},\n\t\t};\n\t}\n}\n","import React from 'react';\nimport Color from 'tinycolor2';\nimport ColorCodeHelper from \"./ColorCodeHelper\";\nimport {ConfigHolder} from \"../ConfigHolder\";\n\n// TODO: memorize this function to reduce computation load and improve performance\nexport function getContrastRatio(foreground: string, background: string) {\n  const lumA = Color(foreground).getLuminance();\n  const lumB = Color(background).getLuminance();\n  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);\n}\n\nexport function useMyContrastColor(trueBg: string | undefined) {\n\n  let customContrastColor = ConfigHolder.plugin.customContrastColor(trueBg);\n  if(!!customContrastColor){\n    return customContrastColor\n  }\n\n  let trueDarkText = '#000000';\n  let trueLightText = '#FFFFFF';\n  let contrastThreshold = 4.5;\n  // contrastThreshold = 4.5; // Materna Land Niedersachsen\n  // contrastThreshold =  3.0; // WCAG AA\n\n  const darkTextConstrast = getContrastRatio(trueBg, trueDarkText);\n  const lightTextConstrast = getContrastRatio(trueBg, trueLightText);\n\n  const isDarkMode = ColorCodeHelper.isDarkMode();\n\n  // if dark mode, return light text if contrast is good enough\n  if(isDarkMode && lightTextConstrast >= contrastThreshold){\n    return trueLightText;\n  }\n  // if light mode, return dark text if contrast is good enough\n  if(!isDarkMode && darkTextConstrast >= contrastThreshold){\n    return trueDarkText;\n  }\n  // otherwise return the text color with the highest contrast\n  return darkTextConstrast > lightTextConstrast ? trueDarkText : trueLightText;\n}\n","export class RequiredSynchedStates {\n\n  static menuReloadNumber = \"MySynchedStates.menuReloadNumber\"\n  static navigationHistory = \"MySynchedStates.navigationHistory\"\n  static showCookies = \"RequiredSynchedStates.ShowCookies\"\n\n}\n","// @ts-nocheck\nimport React from \"react\";\n\nexport class SynchedVariableInterface {\n    public key: string;\n\tpublic defaultValue: string;\n\tpublic beforeHook: any;\n\tpublic afterHook: any;\n\n\tconstructor(key: string, defaultValue?: string, beforeHook?: any, afterHook?: any) {\n\t\tthis.key = key;\n\t\tthis.defaultValue = defaultValue;\n\t\tthis.beforeHook = beforeHook;\n\t\tthis.afterHook = afterHook;\n\t}\n\n}","export class KeyExtractorHelper{\n\n    static getListOfStaticKeyValues(Class): string[]{\n        let classKeys = Object.keys(Class);\n        let synchedKeys = [];\n        for(let classKey of classKeys){\n            let synchedKey = Class[classKey];\n            synchedKeys.push(synchedKey)\n        }\n        return synchedKeys;\n    }\n}","import {action, createStore, useStoreActions, useStoreState} from \"easy-peasy\";\nimport {SynchedVariableInterface} from \"../storage/SynchedVariableInterface\";\nimport {KeyExtractorHelper} from \"../storage/KeyExtractorHelper\";\nimport {RequiredStorageKeys} from \"../storage/RequiredStorageKeys\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {RequiredSynchedStates} from \"./RequiredSynchedStates\";\nimport {CookieConfigType, getDefaultCookieConfig} from \"../screens/legalRequirements/CookieHelper\";\n\nexport function useSynchedState(storageKey): [value: string, setValue: (value) => {}] {\n    const value = useStoreState((state) => {\n      return state[storageKey]?.value\n    });\n    const setValue = useStoreActions((actions) => actions[storageKey].setValue);\n    return [\n        value,\n        setValue\n    ]\n}\n\nexport function useSynchedJSONState(storageKey): [value: any, setValue: (value) => {}, rawValue: any] {\n  const [jsonStateAsString, setJsonStateAsString] = useSynchedState(storageKey);\n  const parsedJSON = JSON.parse(jsonStateAsString || \"null\");\n  const setValue = (dict) => setJsonStateAsString(JSON.stringify(dict))\n  return [\n    parsedJSON,\n    setValue,\n    jsonStateAsString\n  ]\n}\n\nexport function useSynchedDrawerConfig(){\n  let [drawerConfig, setDrawerConfig] = useSynchedJSONState(RequiredStorageKeys.CACHED_DRAWER_CONFIG);\n\n  if(!drawerConfig){\n    drawerConfig = {\n      drawerPosition: \"left\",\n    }\n  }\n\n  return [\n    drawerConfig,\n    setDrawerConfig\n  ];\n\n}\n\nexport function useSynchedCookieConfig(): [CookieConfigType, (value: CookieConfigType) => {}] {\n  // define cookieConfig type\n\n  let usedCookieConfig: CookieConfigType;\n\n  let [cookieConfig, setCookieConfig] = useSynchedJSONState(RequiredStorageKeys.COOKIE_CONFIG);\n\n  usedCookieConfig = cookieConfig;\n\n  if(!usedCookieConfig){\n    usedCookieConfig = getDefaultCookieConfig();\n  }\n\n  return [\n    usedCookieConfig,\n    setCookieConfig\n  ];\n}\n\nexport class SynchedState {\n\n    private static store;\n    private static globalSynchedStoreModels: {[key: string] : SynchedVariableInterface} = {};\n\n    static getContextStore(){\n        return SynchedState.store;\n    }\n\n    static getRequiredStorageKeys(){\n        return KeyExtractorHelper.getListOfStaticKeyValues(RequiredStorageKeys);\n    }\n\n    static getPluginStorageKeys(){\n        if(!!ConfigHolder.plugin){\n            return KeyExtractorHelper.getListOfStaticKeyValues(ConfigHolder.plugin.getStorageKeysClass())\n        }\n        return [];\n    }\n\n    static getRequiredSynchedStates(){\n        return KeyExtractorHelper.getListOfStaticKeyValues(RequiredSynchedStates);\n    }\n\n    static getPluginSynchedStates(){\n        if(!!ConfigHolder.plugin){\n            return KeyExtractorHelper.getListOfStaticKeyValues(ConfigHolder.plugin.getSynchedStateKeysClass())\n        }\n        return [];\n    }\n\n    private static registerSynchedState(key: string, defaultValue?: string, beforeHook?, afterHook?, override: boolean = false){\n        let additionalModel = SynchedState.globalSynchedStoreModels[key];\n        if(!!additionalModel && !override){\n            return new Error(\"Additional variable for storage already exists for that key: \"+key);\n        }\n        SynchedState.globalSynchedStoreModels[key] = new SynchedVariableInterface(key, defaultValue, beforeHook, afterHook);\n    }\n\n    static registerSynchedStates(listOfKeys: string[] | string, defaultValue?: string, beforeHook?, afterHook?, override: boolean = false){\n        if (typeof listOfKeys === 'string'){\n            listOfKeys = [listOfKeys];\n        }\n\n        for(let i=0; i<listOfKeys.length; i++){\n            let key = listOfKeys[i];\n            SynchedState.registerSynchedState(key, defaultValue, beforeHook, afterHook, override);\n        }\n    }\n\n    private static handleAction(storageKey, state, payload, aditionalStoreModel: SynchedVariableInterface){\n        let beforeHook = aditionalStoreModel.beforeHook;\n        let afterHook = aditionalStoreModel.afterHook;\n        let cancel = false;\n        if(!!beforeHook){\n            cancel = !beforeHook(storageKey, state, payload);\n        }\n        if(!cancel){\n            state.value = payload;\n            if(!!afterHook){\n                afterHook(storageKey, state, payload);\n            }\n        }\n    }\n\n    static initSynchedKeys(){\n        SynchedState.registerSynchedStates(SynchedState.getRequiredSynchedStates())\n        SynchedState.registerSynchedStates(SynchedState.getPluginSynchedStates())\n    }\n\n    static initContextStores(){\n        let model = {};\n\n        let additionalKeys = Object.keys(SynchedState.globalSynchedStoreModels);\n\n        for(let i=0; i<additionalKeys.length; i++){\n            let key = additionalKeys[i];\n            let aditionalStoreModel: SynchedVariableInterface = SynchedState.globalSynchedStoreModels[key];\n            let storageKey = aditionalStoreModel.key;\n            model[storageKey] = {\n                value: aditionalStoreModel.defaultValue,\n                setValue: action((state, payload) => {\n                    SynchedState.handleAction(storageKey, state, payload, aditionalStoreModel);\n                })\n            }\n        }\n\n        const store = createStore(\n            model\n        );\n\n        SynchedState.store = store;\n    }\n\n}\n","// @ts-nocheck\nimport React from 'react';\n\nexport class NavigationQueueItem{\n    routeName: string;\n    props: any;\n    resetHistory?: boolean;\n\n    constructor(routeName, props, resetHistory=false) {\n        this.routeName = routeName;\n        this.props = props;\n        this.resetHistory = resetHistory;\n    }\n\n}","// @ts-nocheck\nimport React, {Ref} from \"react\";\nimport {DrawerActions, NavigationContainerRef} from \"@react-navigation/native\";\nimport {NavigationQueueItem} from \"./NavigationQueueItem\";\nimport {RequiredSynchedStates} from \"../synchedstate/RequiredSynchedStates\";\nimport {useSynchedJSONState} from \"../synchedstate/SynchedState\";\nimport {Navigation} from \"./Navigation\";\nimport {PlatformHelper} from \"../helper/PlatformHelper\";\n\n// todo Update to newest ReactNavigation\n// https://reactnavigation.org/docs/navigating-without-navigation-prop/\n\nexport const navigationRef: Ref<NavigationContainerRef> = React.createRef();\n\nexport const isReadyRef: Ref<NavigationContainerRef> = React.createRef();\n\nexport class NavigatorHelper {\n\n    static navigationQueue: NavigationQueueItem[] = [];\n    static setNavigationHistory: any;\n\n    static setSetNavigationHistoryFunction(func){\n      NavigatorHelper.setNavigationHistory = func;\n    }\n\n    static useNavigationHistory(){\n      return useSynchedJSONState(RequiredSynchedStates.navigationHistory)\n    }\n\n    static getRouteParams(props){\n        return props?.route?.params || {};\n    }\n\n    static getCurrentNavigation(){\n        // @ts-ignore\n        return navigationRef?.current;\n    }\n\n    static getState(){\n      const nativeState = NavigatorHelper.getCurrentNavigation()?.getRootState();\n      const webState = NavigatorHelper.getCurrentNavigation()?.getState();\n      let state = nativeState || webState;\n      return state;\n    }\n\n    static getHistory(){\n      let state = NavigatorHelper.getState();\n      return state?.history || [];\n    }\n\n  //https://github.com/react-navigation/react-navigation/issues/6674\n  static getEmptyParams(): object {\n    let state = NavigatorHelper.getState()\n    let keys: string[] = [];\n    try{\n      keys = Array.prototype.concat(\n        ...state?.routes?.map((route) =>\n          Object.keys((route as any)?.params || {})\n        )\n      );\n    } catch (err){\n      console.log(\"getEmptyParams() error\");\n      console.log(err);\n    }\n    return keys.reduce((acc, k) => ({ ...acc, [k]: undefined }), {});\n  }\n\n    static async navigateToRouteName(routeName: string, props= {}, keepHistory?: boolean){\n        // Perform navigation if the app has mounted\n\n        console.log(\"navigateToRouteName() \" + routeName+\" \"+new Date().toISOString());\n\n        if (NavigatorHelper.isNavigationLoaded()) {\n              console.log(\"navigateToRouteName() isNavigationLoaded \"+new Date().toISOString());\n              console.log(props);\n\n              // @ts-ignore\n              let emptyParams = NavigatorHelper.getEmptyParams();\n              let usedEmptyParams = keepHistory ? {} : emptyParams;\n              let params = {...usedEmptyParams, ...props};\n\n              let currentNavigation = NavigatorHelper.getCurrentNavigation();\n\n              try{\n                  currentNavigation?.dispatch(DrawerActions.jumpTo(routeName, {...params}));\n              } catch (err){\n                  console.log(\"Catch Navigation Dispatch error\");\n              }\n              if(NavigatorHelper.setNavigationHistory){\n                  NavigatorHelper.setNavigationHistory(NavigatorHelper.getHistory());\n//                setHistory(NavigatorHelper.getHistory());\n              }\n        } else {\n          console.log(\"navigateToRouteName() NOT isNavigationLoaded \"+new Date().toISOString());\n            let queueItem = new NavigationQueueItem(routeName, props);\n            NavigatorHelper.navigationQueue.push(queueItem);\n            // You can decide what to do if the app hasn't mounted\n            // You can ignore this, or add these actions to a queue you can call later\n        }\n    }\n\n    static handleNavigationQueue(){\n       let queueCopy = JSON.parse(JSON.stringify(NavigatorHelper.navigationQueue));\n       while(queueCopy.length>0){\n           let nextNavigation = queueCopy.shift(); //get item from copy\n           if(!!nextNavigation){\n               NavigatorHelper.navigationQueue.shift(); // remove first item from real list\n               NavigatorHelper.navigateToRouteName(nextNavigation.routeName, nextNavigation.props);\n           }\n       }\n   }\n\n    /**\n     * https://reactnavigation.org/docs/5.x/navigating-without-navigation-prop/#handling-initialization\n     */\n    static isNavigationLoaded(){\n        return !!isReadyRef.current && !!NavigatorHelper.getCurrentNavigation()\n    }\n\n}\n","// @ts-nocheck\nimport React, {useEffect, useRef, useState} from \"react\";\nimport {Text} from \"native-base\";\nimport ServerAPI from \"../../ServerAPI\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\nimport {keyof} from \"ts-keyof\";\n\nexport const Home = (props) => {\n\n  const [test, setTest] = useState({});\n\n  let customHomeComponent = ConfigHolder.plugin.getHomeComponent();\n  if(!!customHomeComponent){\n    return customHomeComponent;\n  }\n\n  async function loadInformation() {\n    let storage = ConfigHolder.instance.storage;\n    let expires = storage.get_auth_expires();\n    let now = new Date();\n    setTest({expires: expires, now: now});\n  }\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t      loadInformation();\n\t}, [props?.route?.params])\n\n\treturn(\n\t\t<>\n\t\t\t<Text>{\"Welcome Home\"}</Text>\n      <Text>{\"You may implement getHomeComponent in the Plugin\"}</Text>\n      <Text>{JSON.stringify(test)}</Text>\n\t\t</>\n\t)\n}\n\nHome.displayName = keyof({ Home });\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Button, HStack, Spinner} from \"native-base\";\nimport {IButtonProps} from \"native-base/src/components/primitives/Button/types\";\nimport {IBoxProps} from \"native-base/src/components/primitives/Box/index\";\n\ninterface AppState {\n\tloading?: boolean;\n}\n\nexport const FormButton: FunctionComponent<AppState & IButtonProps & IBoxProps> = (props) => {\n\n\tlet loading = props.loading;\n\n\tfunction getLoadingContent(){\n\t\treturn(\n\t\t\t<HStack space={2} alignItems=\"center\">\n\t\t\t\t<Spinner accessibilityLabel=\"Loading posts\" />\n\t\t\t</HStack>\n\t\t);\n\t}\n\n\tlet content = props.children;\n\tif(loading){\n\t\tcontent = getLoadingContent();\n\t}\n\n\treturn (\n\t\t//use inline style for backgroundColor ! Weird bug if pressing a button otherwise\n\t\t<Button borderColor={\"#00000000\"} minWidth={154} {...props}>\n\t\t\t{content}\n\t\t</Button>\n\t)\n}","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Button, Text, Tooltip} from \"native-base\";\nimport {IButtonProps} from \"native-base/src/components/primitives/Button/types\";\nimport {IBoxProps} from \"native-base/src/components/primitives/Box/index\";\n\nexport const TransparentButton: FunctionComponent<IButtonProps & IBoxProps> = ({children, accessibilityLabel, ...props}) => {\n\n\n\treturn (\n\t  <Tooltip label={accessibilityLabel} >\n      <Button accessibilityLabel={accessibilityLabel} minWidth={154} bgColor={\"#00000000\"} {...props}>\n        {children}\n      </Button>\n    </Tooltip>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Button, Text} from \"native-base\";\nimport {IButtonProps} from \"native-base/src/components/primitives/Button/types\";\nimport {IBoxProps} from \"native-base/src/components/primitives/Box/index\";\nimport {TransparentButton} from \"./TransparentButton\";\n\nexport const TransparentTextButton: FunctionComponent<IButtonProps & IBoxProps> = ({children, accessibilityLabel, ...props}) => {\n\n\treturn (\n\t\t<TransparentButton accessibilityLabel={accessibilityLabel} {...props}>\n\t\t\t<Text {...props}>\n\t\t\t\t{children}\n\t\t\t</Text>\n\t\t</TransparentButton>\n\t)\n}\n","// @ts-nocheck\nimport React, {useState} from 'react';\nimport ServerAPI from \"../ServerAPI\";\nimport {AlertDialog, Button, Divider, Text, Tooltip} from \"native-base\";\nimport {TransparentTextButton} from \"../components/buttons/TransparentTextButton\";\n\nimport {Icon} from \"../components/Icon\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {TranslationKeys} from \"../translations/TranslationKeys\";\n\nexport interface AppState {\n\tonlyIcon?: boolean;\n\ttransparent?: boolean;\n\ttouchableOnly?: boolean\n}\nexport const SignOutButton: (props) => JSX.Element[] = (props) => {\n\n\tconst cancelRef = React.useRef(null)\n\tconst [isOpen, setIsOpen] = useState(false)\n\n  const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n  const accessibilityLabel = useTranslation(TranslationKeys.logout);\n  const logout_confirm_message = useTranslation(TranslationKeys.logout_confirm_message);\n\n\tasync function handleLogout(){\n\t\tawait setIsOpen(false);\n\t\ttry{\n\t\t\tawait ServerAPI.handleLogout();\n\t\t} catch (err){\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n\n\tfunction openConfirmBox(){\n\t\tsetIsOpen(true);\n\t}\n\n\tfunction renderAlertBox(){\n\t\treturn (\n\t\t\t<AlertDialog\n\t\t\t\tkey={\"SignOutAlertBox\"}\n\t\t\t\tleastDestructiveRef={cancelRef}\n\t\t\t\tstyle={{maxWidth: 600, alignSelf: \"center\"}}\n\t\t\t\tisOpen={isOpen}\n\t\t\t\tonClose={() => {setIsOpen(false)}}\n\t\t\t>\n\t\t\t\t<AlertDialog.Content>\n\t\t\t\t\t<AlertDialog.CloseButton />\n\t\t\t\t\t<AlertDialog.Header>{accessibilityLabel}</AlertDialog.Header>\n\t\t\t\t\t<AlertDialog.Body>\n\t\t\t\t\t\t<Text key={\"c\"}>{logout_confirm_message}</Text>\n\t\t\t\t\t</AlertDialog.Body>\n\t\t\t\t\t<AlertDialog.Footer>\n\t\t\t\t\t\t<Button.Group space={2}>\n\t\t\t\t\t\t\t<Button accessibilityLabel={accessibilityLabel} onPress={handleLogout}>\n                {accessibilityLabel}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Button.Group>\n\t\t\t\t\t</AlertDialog.Footer>\n\t\t\t\t</AlertDialog.Content>\n\t\t\t</AlertDialog>\n\t\t)\n\t}\n\n\tfunction renderOnlyIcon(){\n\t\treturn (\n\t\t  <Tooltip label={accessibilityLabel} key={\"logoutToolTip\"}>\n        <Button accessibilityLabel={accessibilityLabel} key={\"LogoutButton\"} style={{backgroundColor: \"transparent\"}} onPress={openConfirmBox} >\n          <Icon name={\"logout\"} key={\"logoutIcon\"}/>\n        </Button>\n      </Tooltip>\n\n\t\t)\n\t}\n\n\tfunction renderLogoutText(){\n\t\treturn(\n\t\t\t<TransparentTextButton accessibilityLabel={accessibilityLabel} key={\"logoutTextButton\"} onPress={openConfirmBox}>\n\t\t\t\t<Text>{accessibilityLabel}</Text>\n\t\t\t</TransparentTextButton>\n\t\t)\n\t}\n\n\n\n\tlet content = [renderAlertBox()];\n\tif(props.onlyIcon){\n\t\tcontent.push(renderOnlyIcon());\n\t} else {\n\t\tcontent.push(renderLogoutText());\n\t}\n\n\treturn content\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Text} from \"native-base\";\nimport {IButtonProps} from \"native-base/src/components/primitives/Button/types\";\nimport {IBoxProps} from \"native-base/src/components/primitives/Box/index\";\nimport {TransparentButton} from \"../components/buttons/TransparentButton\";\nimport {Navigation} from \"./Navigation\";\n\ninterface AppState {\n\tdestination: FunctionComponent;\n\tfontSize?: string;\n\tbeforeNavigateCallback?: () => {}\n\tafterNavigateCallback?: () => {}\n}\nexport const InternalLink: FunctionComponent<IButtonProps & IBoxProps & AppState> = (props) => {\n\n\tlet content = props.children;\n\tlet beforeNavigateCallback = props.beforeNavigateCallback;\n\tlet afterNavigateCallback = props.afterNavigateCallback;\n\n\treturn (\n\t\t<TransparentButton accessibilityLabel={props?.accessibilityLabel} onPress={async () => {\n\t\t\tif(!!beforeNavigateCallback){\n\t\t\t\tawait beforeNavigateCallback();\n\t\t\t}\n\t\t\tNavigation.navigateTo(props.destination);\n\t\t\tif(!!afterNavigateCallback){\n\t\t\t\tawait afterNavigateCallback();\n\t\t\t}\n\t\t}} {...props}>\n\t\t\t<Text {...props} underline={true} fontSize={props.fontSize}>\n\t\t\t\t{content}\n\t\t\t</Text>\n\t\t</TransparentButton>\n\t)\n}\n","import {Platform} from \"react-native\";\nimport {createURL, makeUrl} from 'expo-linking';\nimport {Navigation} from \"../navigation/Navigation\";\n\nexport class URL_Helper{\n\n    static getURLToBase(){\n      if(Platform.OS!==\"web\"){\n          console.log(\"getURLToBase\");\n          try{\n              console.log(\"Navigation.DEFAULT_ROUTE_LOGIN: \"+Navigation.DEFAULT_ROUTE_LOGIN);\n          } catch (err){\n              console.log(err)\n          }\n          try{\n              let url = createURL(Navigation.DEFAULT_ROUTE_LOGIN);\n              console.log(\"Linking.createURL: \"+url);\n              return url;\n          } catch (err){\n              console.log(err)\n          }\n          try{\n              let url = makeUrl(Navigation.DEFAULT_ROUTE_LOGIN);\n              console.log(\"Linking.makeUrl: \"+url);\n              return url;\n          } catch (err){\n              console.log(err)\n          }\n      } else {\n        let fullURL = window.location.href;\n        let url = fullURL.split('?')[0];\n        url = url.split('#')[0];\n        return url;\n      }\n    }\n\n    static getCurrentLocationWithoutQueryParams(){\n      if(Platform.OS!==\"web\"){\n        let url = Linking.createURL(\"login\");\n        return url;\n      } else {\n        return URL_Helper.getLocationWithoutQueryParams(window.location.href);\n      }\n    }\n\n    static getLocationWithoutQueryParams(url){\n        return url.split('?')[0]; //https://stackoverflow.com/questions/5817505/is-there-any-method-to-get-the-url-without-query-string\n    }\n\n    // BEWARE ! I disabled lowerCase, this shit wasted me 3h of debugging\n    // https://www.sitepoint.com/get-url-parameters-with-javascript/\n    static getAllUrlParams(url) {\n\n        // get query string from url (optional) or window\n        let queryString = url ? url.split('?')[1] : \"\"\n\n        // we'll store the parameters here\n        let obj = {};\n\n        // if query string exists\n        if (queryString) {\n\n            // stuff after # is not part of query string, so get rid of it\n            queryString = queryString.split('#')[0];\n\n            // split our query string into its component parts\n            let arr = queryString.split('&');\n\n            for (let i = 0; i < arr.length; i++) {\n                // separate the keys and the values\n                let a = arr[i].split('=');\n\n                // set parameter name and value (use 'true' if empty)\n                let paramName = a[0];\n                let paramValue = typeof (a[1]) === 'undefined' ? true : a[1];\n\n                // (optional) keep case consistent\n                //paramName = paramName.toLowerCase();\n                //if (typeof paramValue === 'string') paramValue = paramValue.toLowerCase();\n\n                // if the paramName ends with square brackets, e.g. colors[] or colors[2]\n                if (paramName.match(/\\[(\\d+)?\\]$/)) {\n\n                    // create key if it doesn't exist\n                    let key = paramName.replace(/\\[(\\d+)?\\]/, '');\n                    if (!obj[key]) obj[key] = [];\n\n                    // if it's an indexed array e.g. colors[2]\n                    if (paramName.match(/\\[\\d+\\]$/)) {\n                        // get the index value and add the entry at the appropriate position\n                        let index = /\\[(\\d+)\\]/.exec(paramName)[1];\n                        obj[key][index] = paramValue;\n                    } else {\n                        // otherwise add the value to the end of the array\n                        obj[key].push(paramValue);\n                    }\n                } else {\n                    // we're dealing with a string\n                    if (!obj[paramName]) {\n                        // if it doesn't exist, create property\n                        obj[paramName] = paramValue;\n                    } else if (obj[paramName] && typeof obj[paramName] === 'string'){\n                        // if property does exist and it's a string, convert it to an array\n                        obj[paramName] = [obj[paramName]];\n                        obj[paramName].push(paramValue);\n                    } else {\n                        // otherwise add the property\n                        obj[paramName].push(paramValue);\n                    }\n                }\n            }\n        }\n\n        return obj;\n    }\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from 'react';\nimport {Flex, FormControl, Input, Text, View} from \"native-base\";\nimport {Login} from \"./Login\";\nimport {FormButton} from \"../components/buttons/FormButton\";\nimport ServerAPI from \"../ServerAPI\";\nimport {URL_Helper} from \"../helper/URL_Helper\";\nimport {InternalLink} from \"../navigation/InternalLink\";\n\nexport const RequestResetPasswordForm: FunctionComponent = (props) => {\n\n\tconst [email, setEmail] = useState(\"\")\n\tconst [validEmail, setValidEmail] = useState(undefined)\n\tconst [resetInitiated, setResetInitiated] = useState(false)\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [])\n\n\tasync function requestPasswordReset(){\n\t\tconsole.log(\"requestPasswordReset\");\n\t\tif(!resetInitiated){\n\t\t\tawait setResetInitiated(true);\n\t\t\ttry{\n\t\t\t\tconsole.log(\"Send reset request\");\n\t\t\t\tlet directus = ServerAPI.getPublicClient();\n\t\t\t\tlet url = URL_Helper.getCurrentLocationWithoutQueryParams();\n\t\t\t\turl = \"https://localhost:19006/myapp/app/reset-password\";\n\t\t\t\tlet answer = await directus.auth.password.request(\n\t\t\t\t\temail,\n\t\t\t\t\turl // In this case, the link will be https://myapp.com?token=FEE0A...\n\t\t\t\t);\n\t\t\t} catch (err){\n\t\t\t\tconsole.log(err);\n\t\t\t} finally {\n\t\t\t\tawait setResetInitiated(false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<View>\n\t\t\t<Text fontSize=\"2xl\" fontWeight={800}>\n\t\t\t\t{\"Reset Password\"}\n\t\t\t</Text>\n\t\t\t<FormControl isRequired>\n\t\t\t\t<View style={{marginVertical: 10}}>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tonChange={(event) => { // @ts-ignore\n\t\t\t\t\t\t\tsetEmail(event.target.value)}}\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\tsize=\"lg\" />\n\t\t\t\t</View>\n\t\t\t</FormControl>\n\t\t\t<Flex flexDirection={\"row\"} justify={\"space-between\"}>\n\t\t\t\t<FormButton disabled={resetInitiated} onPress={() => {requestPasswordReset()}}>\n\t\t\t\t\t{\"Reset\"}\n\t\t\t\t</FormButton>\n\t\t\t\t<InternalLink destination={Login}>{\"Sign In\"}</InternalLink>\n\t\t\t</Flex>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from 'react';\nimport {Flex, FormControl, Input, Text, View} from \"native-base\";\nimport {Login} from \"./Login\";\nimport {FormButton} from \"../components/buttons/FormButton\";\nimport {InternalLink} from \"../navigation/InternalLink\";\n\nexport const ResetPasswordForm: FunctionComponent = (props) => {\n\n\tconst token=props.token;\n\tlet email = \"yourEmail\";\n\n\tconst [resetInitiated, setResetInitiated] = useState(false)\n\tconst [password, setPassword] = useState(\"\")\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [p])\n\n\tfunction resetPassword(){\n\n\t}\n\n\treturn (\n\t\t<View>\n\t\t\t<Text fontSize=\"2xl\" fontWeight={800}>\n\t\t\t\t{\"Reset Password\"}\n\t\t\t</Text>\n\t\t\t<FormControl isRequired>\n\t\t\t\t<View style={{marginVertical: 10}}>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tisDisabled={true}\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tsize=\"lg\" />\n\t\t\t\t</View>\n\t\t\t</FormControl>\n\t\t\t<FormControl isRequired>\n\t\t\t\t<View style={{marginVertical: 10}}>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tisDisabled={resetInitiated}\n\t\t\t\t\t\tonChange={(event) => { // @ts-ignore\n\t\t\t\t\t\t\tsetPassword(event.target.value)}}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\tsize=\"lg\" />\n\t\t\t\t</View>\n\t\t\t</FormControl>\n\t\t\t<Flex flexDirection={\"row\"} justify={\"space-between\"}>\n\t\t\t\t<FormButton loading={resetInitiated} disabled={resetInitiated} onPress={() => {resetPassword()}}>\n\t\t\t\t\t{\"Reset\"}\n\t\t\t\t</FormButton>\n\t\t\t\t<InternalLink destination={Login}>{\"Sign In\"}</InternalLink>\n\t\t\t</Flex>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {RequestResetPasswordForm} from \"./RequestResetPasswordForm\";\nimport {ResetPasswordForm} from \"./ResetPasswordForm\";\n\nexport const ResetPassword: FunctionComponent = (props) => {\n\n\tconst params = props?.route?.params;\n\tlet token = params?.token;\n\n\tlet content = <RequestResetPasswordForm navigation={props.navigation} />;\n\tif(!!token){\n\t\tcontent = <ResetPasswordForm navigation={props.navigation} token={token} />;\n\t}\n\n\treturn (\n\t\tcontent\n\t)\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {Platform} from \"react-native\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {keyof} from \"ts-keyof\";\nimport {Button, Flex, FormControl, Input, View, Text} from \"native-base\";\nimport {FormButton} from \"../components/buttons/FormButton\";\nimport {InternalLink} from \"../navigation/InternalLink\";\nimport {Login} from \"./Login\";\nimport ServerAPI from \"../ServerAPI\";\nimport {handleLoginWithCredentials} from \"./EmailLogin\";\nimport {TranslationKeys} from \"../translations/TranslationKeys\";\n\nexport const Register = (props) => {\n\n\tlet hideDrawer = false;\n\n  const [registerInitiated, setRegisterInitiated] = useState(false)\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\")\n\n  const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n  const translation_email = useTranslation(TranslationKeys.email);\n  const translation_register = useTranslation(TranslationKeys.register);\n  const translation_password = useTranslation(TranslationKeys.password);\n  const translation_password_show = useTranslation(TranslationKeys.password_visible);\n  const translation_password_hide = useTranslation(TranslationKeys.password_hidden);\n  const translation_confirm_password = useTranslation(TranslationKeys.confirm_password);\n  const translation_sign_in = useTranslation(TranslationKeys.sign_in);\n\n\tif(!ConfigHolder.instance.isDrawerHidden()){\n\t\t//console.log(\"Login calls hide drawer\");\n\t\thideDrawer = true;\n\t}\n\tif(Platform.OS!==\"web\"){\n\t\thideDrawer = false;\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t\tif(hideDrawer){\n\t\t\tConfigHolder.instance.setHideDrawer(true);\n\t\t}\n\n\t}, [props?.route?.params])\n\n\tif(hideDrawer){\n\t\treturn null;\n\t}\n\n\tasync function registerUser(){\n    if(!registerInitiated){\n      await setRegisterInitiated(true);\n\n      if(password===passwordConfirm){\n        try{\n          let directus = ServerAPI.getPublicClient();\n\n          let answer = await directus.users.createOne({\n            email: email,\n            password: password\n          })\n\n          console.log(\"Send login request\");\n          await handleLoginWithCredentials(email, password);\n        } catch (err){\n          console.log(err);\n        } finally {\n          await setRegisterInitiated(false);\n        }\n      }\n    }\n  }\n\n\n  return (\n    <View style={{flex: 1}}>\n      <Text fontSize=\"2xl\" fontWeight={800}>\n        {translation_register}\n      </Text>\n      <FormControl isRequired>\n        <View style={{marginVertical: 10}}>\n          <Input\n            isDisabled={registerInitiated}\n            onChange={(event) => { // @ts-ignore\n              setEmail(event.target.value)}}\n            type=\"email\"\n            value={email}\n            placeholder={translation_email}\n            size=\"lg\" />\n        </View>\n      </FormControl>\n      <FormControl isRequired>\n        <View style={{marginVertical: 10}} >\n          <Input\n            isDisabled={registerInitiated}\n            nativeID={\"password\"}\n            type={\"password\"}\n            onChange={(event) => { // @ts-ignore\n              setPassword(event.nativeEvent.text)\n            }} placeholder={translation_password} size=\"lg\" />\n        </View>\n      </FormControl>\n      <FormControl isRequired>\n        <View style={{marginVertical: 10}} >\n          <Input\n            isDisabled={registerInitiated}\n            nativeID={\"password\"}\n            type={\"password\"}\n            onChange={(event) => { // @ts-ignore\n              setPasswordConfirm(event.nativeEvent.text)\n            }} placeholder={translation_confirm_password} size=\"lg\" />\n        </View>\n      </FormControl>\n      <Flex flexDirection={\"row\"} justify={\"space-between\"}>\n        <FormButton disabled={registerInitiated} onPress={() => {registerUser()}}>\n          {translation_register}\n        </FormButton>\n        <InternalLink destination={Login}>{translation_sign_in}</InternalLink>\n      </Flex>\n    </View>\n  )\n}\n\nRegister.displayName = keyof({ Register });\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Box, useColorModeValue, useTheme} from \"native-base\";\nimport {IBoxProps} from \"native-base/lib/typescript/components/primitives/Box/types\";\n\nexport function useThemedShade(level){\n  const theme = useTheme();\n  const colors = theme?.colors;\n\n  const maxLevel = 9;\n  const minLevel = 0;\n  level = Math.min(maxLevel, Math.max(minLevel, level))\n\n  function getShadeByLevel(level){\n    if(level===0) return 50;\n    return level*100;\n  }\n\n  let themeLevel = useColorModeValue(level, maxLevel-level)\n  let _myThemeShade = getShadeByLevel(themeLevel);\n  let colorGroup = useColorModeValue('coolGray', 'blueGray');\n  return colors[colorGroup][\"\"+_myThemeShade]\n}\n\nexport interface AppState {\n\t_shadeLevel?: number\n\tactiveOnHover?: boolean\n}\nexport const MyThemedBox: FunctionComponent<AppState & IBoxProps> = (props) => {\n\n\tlet level = props._shadeLevel || 0;\n\tlet _myThemeShade = useThemedShade(level);\n\n\tconst childrenWithProps = React.Children.map(props.children, child => {\n\t\t// Checking isValidElement is the safe way and avoids a typescript\n\t\t// error too.\n\t\tif (React.isValidElement(child)) {\n\t\t\t// @ts-ignore\n\t\t\treturn React.cloneElement(child, { _shadeLevel: level+1 });\n\t\t}\n\t\treturn child;\n\t});\n\n\treturn(\n\t\t<Box\n\t\t\t bg={_myThemeShade}\n\t\t\t {...props}\n\t\t>\n\t\t\t{childrenWithProps}\n\t\t</Box>\n\t)\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from 'react';\nimport ServerAPI from \"../ServerAPI\";\nimport {Login} from \"./Login\";\nimport EnviromentHelper from \"../EnviromentHelper\";\nimport {Button, Flex, FormControl, Input, Tooltip, View, Text} from \"native-base\";\nimport {InternalLink} from \"../navigation/InternalLink\";\nimport {ResetPassword} from \"./ResetPassword\";\nimport {FormButton} from \"../components/buttons/FormButton\";\nimport {ConfigHolder} from \"./../ConfigHolder\";\nimport {Register} from \"./Register\";\nimport {Icon} from \"../components/Icon\";\nimport {Navigation} from \"../navigation/Navigation\";\nimport {TranslationKeys} from \"../translations/TranslationKeys\";\nimport ColorCodeHelper from \"../theme/ColorCodeHelper\";\nimport {useThemedShade} from \"../helper/MyThemedBox\";\nimport {useMyContrastColor} from \"../theme/useMyContrastColor\";\n\nconst showResetPassword = false;\nconst showEmailLogin = true;\n\nexport interface WebViewLoginFormState {\n\n}\nexport const handleLoginWithCredentials = async (email, password) => {\n  let directus = ServerAPI.getPublicClient();\n  let response = await directus.auth.login({\n    email: email, //'admin@example.com',\n    password: password //'d1r3ctu5',\n  });\n  let token = response?.refresh_token;\n  if(!!token){\n    Navigation.navigateTo(Login, {[EnviromentHelper.getDirectusAccessTokenName()]: token})\n    return true;\n  }\n  return false;\n}\n\nexport const EmailLogin: FunctionComponent<WebViewLoginFormState> = (props) => {\n\n\tconst [loginInitiated, setLoginInitiated] = useState(false)\n  const [loginIncorrect, setLogginIncorrect] = useState(false)\n  const [showPassword, setShowPassword] = useState(false)\n  const [email, setEmail] = useState(\"\")\n\tconst [password, setPassword] = useState(\"\")\n\n\tconst isDarkMode = ColorCodeHelper.isDarkMode()\n\tconst backgroundColor = useThemedShade(6);\n\tconst textColor = useMyContrastColor(backgroundColor)\n\n  const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n  const translation_email = useTranslation(TranslationKeys.email);\n  const translation_register = useTranslation(TranslationKeys.register);\n  const translation_password = useTranslation(TranslationKeys.password);\n  const translation_password_show = useTranslation(TranslationKeys.password_visible);\n  const translation_password_hide = useTranslation(TranslationKeys.password_hidden);\n  const translation_forgot_password = useTranslation(TranslationKeys.forgot_password);\n  const translation_sign_in = useTranslation(TranslationKeys.sign_in);\n\n\tasync function handleLoginWithEmail(){\n\t\tawait setLoginInitiated(true);\n\t\ttry{\n      await handleLoginWithCredentials(email, password)\n\t\t} catch (err){\n\t\t\tconsole.log(err);\n\t\t\tsetLoginInitiated(false);\n      setLogginIncorrect(true);\n      setPassword(\"\");\n\t\t} finally {\n\t\t}\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [])\n\n\n\tfunction renderResetPasswordButton(){\n\t\tif(showResetPassword){\n\t\t\treturn (\n\t\t\t\t<InternalLink destination={ResetPassword}>{translation_forgot_password}</InternalLink>\n\t\t\t)\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction navigateToRegister(){\n    Navigation.navigateTo(Register)\n  }\n\n\n\tfunction renderRegisterButton(){\n    if(ConfigHolder?.authConfig?.mail?.registerVisible){\n      return(\n        <FormButton style={{backgroundColor: backgroundColor}} accessibilityLabel={translation_register} loading={loginInitiated} disabled={loginInitiated} onPress={navigateToRegister}>\n\t\t\t<Text color={textColor}>{translation_register}</Text>\n        </FormButton>\n      )\n    }\n    return null;\n  }\n\n\tfunction renderEmailLogin(){\n    const toggleShowPasswordIcon = showPassword ? \"eye\" : \"eye-off\";\n    const accessibilityLabel = showPassword ? translation_password_show : translation_password_hide\n\n    let rightElement = (\n      <Tooltip label={accessibilityLabel} >\n        <Button style={{backgroundColor: backgroundColor}} accessibilityLabel={accessibilityLabel} roundedLeft=\"0\" onPress={() => {setShowPassword(!showPassword)}}>\n          <Icon color={textColor} name={toggleShowPasswordIcon} size=\"sm\" />\n        </Button>\n      </Tooltip>\n    )\n\n\n\t\tif(showEmailLogin){\n\t\t\treturn(\n\t\t\t\t<>\n\t\t\t\t\t<FormControl isRequired>\n\t\t\t\t\t\t<View style={{marginVertical: 10}}>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tisDisabled={loginInitiated}\n\t\t\t\t\t\t\t\tnativeID={\"username\"}\n\t\t\t\t\t\t\t\ttype={translation_email}\n\t\t\t\t\t\t\t\t//TODO extract the on change method to an extra class to call the callback\n\t\t\t\t\t\t\t\tonChange={async (event) => { // @ts-ignore\n\t\t\t\t\t\t\t\t\tsetEmail(event.nativeEvent.text)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tplaceholder={translation_email} size=\"lg\" />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<FormControl isInvalid={loginIncorrect}  isRequired>\n\t\t\t\t\t\t<View style={{marginVertical: 10}} >\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tisDisabled={loginInitiated}\n                value={password}\n\t\t\t\t\t\t\t\tnativeID={\"password\"}\n                type={showPassword ? \"text\" : \"password\"}\n                InputRightElement={rightElement}\n\t\t\t\t\t\t\t\tonChange={(event) => { // @ts-ignore\n\t\t\t\t\t\t\t\t\tsetPassword(event.nativeEvent.text)\n\t\t\t\t\t\t\t\t}} placeholder={translation_password} size=\"lg\" />\n              <FormControl.ErrorMessage>\n                Incorrect email or password\n              </FormControl.ErrorMessage>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<Flex flexDirection={\"row\"} justify={\"space-between\"} >\n\t\t\t\t\t\t<FormButton style={{backgroundColor: backgroundColor}} accessibilityLabel={translation_sign_in} loading={loginInitiated} disabled={loginInitiated} onPress={() => {handleLoginWithEmail()}}>\n\t\t\t\t\t\t\t<Text color={textColor}>{translation_sign_in}</Text>\n\t\t\t\t\t\t</FormButton>\n            {renderRegisterButton()}\n\t\t\t\t\t</Flex>\n          <Flex flexDirection={\"row\"} justify={\"space-between\"} >\n            {renderResetPasswordButton()}\n          </Flex>\n\t\t\t\t</>\n\t\t\t)\n\t\t}\n\t\treturn null;\n\t}\n\n\treturn (renderEmailLogin())\n}\n","import {Text, View} from \"native-base\";\nimport React from \"react\";\n\nexport class StringHelper{\n\n  static EMPTY_SPACE = \"\\u200b\"\n  static NONBREAKING_SPACE = \"\\u00a0\"\n\n  static renderZeroSpaceHeight(amount?: number){\n    if(amount===undefined){\n      amount=1;\n    }\n\n    let content = [];\n    for(let i=0; i<amount; i++){\n      // @ts-ignore\n      content.push(<Text key={\"zeroSpace_\"+i}>{StringHelper.EMPTY_SPACE}</Text>);\n    }\n\n    return(\n      // @ts-ignore\n      <View style={{flexDirection: \"column\"}}>\n        {content}\n      </View>\n    )\n  }\n\n  /**\n   * Converts CamelCase to kebab-case\n   * https://stackoverflow.com/questions/63116039/camelcase-to-kebab-case-in-javascript\n   * @param str\n   * @returns {*}\n   */\n  static kebabize(str){\n    return str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? \"-\" : \"\") + $.toLowerCase())\n  }\n\n  static toCapitalizedWords(name) {\n    const words = name.match(/[A-Za-z][a-z]*/g) || [];\n    return words.map(StringHelper.capitalizeFirstLetter).join(\" \");\n  }\n\n  static capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  static enableReplaceAllOnOldDevices(){\n    if(typeof String.prototype.replaceAll === \"undefined\") {\n      String.prototype.replaceAll = function(match, replace) {\n        return this.replace(new RegExp(match, 'g'), () => replace);\n      }\n    }\n  }\n\n}\n","import CSSOM from \"cssom\";\n\nexport class CSS_Helper{\n\n    static parseCssToSelectorMap(custom_css) {\n        let ast = CSSOM.parse(custom_css)\n\n        let selectorsMap = {};\n\n//        value = value.replaceAll(\" !important\", \"\");\n        let rules = ast?.cssRules || [];\n        for(let rule of rules){\n            /**\n             * Example parse\n             selectorText: \".sso-icon\"\n             style: CSSStyleDeclaration{\n                 0: \"background\"\n                 background: \"#AC0634\"\n                 length: 1\n                 parentRule: CSSStyleRule {parentRule: null, parentStyleSheet: CSSStyleSheet, selectorText: '.sso-icon', style: CSSStyleDeclaration, __starts: 0, …}\n                 __starts: 10\n                 _importants: {background: 'important'}\n                 cssText: \"background: #AC0634 !important;\"\n             }\n             */\n            let selectorText = rule.selectorText;\n            let style = rule.style;\n            let styleForSelectorText = {};\n\n            let lengthRaw = style.length || \"0\";\n            let length = parseInt(lengthRaw);\n            for(let i=0; i<length; i++){\n                let selectorProperty = style[i+\"\"];\n                let selectorValue = style[selectorProperty];\n                styleForSelectorText[selectorProperty] = selectorValue;\n            }\n\n            selectorsMap[selectorText] = styleForSelectorText\n        }\n\n        return selectorsMap;\n    }\n\n}","import EnviromentHelper from \"../EnviromentHelper\";\nimport {ServerInfo} from \"@directus/sdk\";\nimport ServerAPI from \"../ServerAPI\";\nimport {CSS_Helper} from \"./CSS_Helper\";\nimport {useMyContrastColor} from \"../theme/useMyContrastColor\";\n\nexport class ServerInfoHelper {\n\n    static getProjectName(serverInfo: ServerInfo){\n        return serverInfo?.project?.project_name;\n    }\n\n    static getProjectColor(serverInfo: ServerInfo){\n        return serverInfo?.project?.project_color;\n    }\n\n    static getProjectLogoAssetId(serverInfo: ServerInfo){\n        return serverInfo?.project?.project_logo;\n    }\n    static getProjectLogoURL(serverInfo: ServerInfo){\n        return ServerAPI.getAssetImageURL(ServerInfoHelper.getProjectLogoAssetId(serverInfo));\n    }\n\n    static getProjectBackgroundAssetId(serverInfo: ServerInfo){\n        return serverInfo?.project?.public_background;\n    }\n    static getProjectBackgroundURL(serverInfo: ServerInfo){\n        return ServerAPI.getAssetImageURL(ServerInfoHelper.getProjectBackgroundAssetId(serverInfo));\n    }\n\n    static getProjectVersion(): string {\n        let manifest = EnviromentHelper.getAppManifest();\n        return manifest?.version || \"\";\n    }\n\n    static getSsoIconStyle(serverInfo: ServerInfo){\n\n        let custom_css = serverInfo?.project?.custom_css || \"\"; // custom_css:\n\n        let parsed_css = CSS_Helper.parseCssToSelectorMap(custom_css);\n        let customSsoIconStyle = parsed_css?.[\".sso-icon\"] || {};\n\n        let project_color = ServerInfoHelper.getProjectColor(serverInfo);\n        customSsoIconStyle.background = customSsoIconStyle?.background || project_color;\n        customSsoIconStyle.color = customSsoIconStyle?.color;\n        if(!customSsoIconStyle.color){\n          customSsoIconStyle.color = useMyContrastColor(customSsoIconStyle.background);\n        }\n\n\n        return customSsoIconStyle;\n    }\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Flex, Link, Text, useColorMode, View,} from \"native-base\";\nimport {MaterialIcons} from \"@expo/vector-icons\"\nimport EnviromentHelper from \"../EnviromentHelper\";\nimport {StringHelper} from \"../helper/StringHelper\";\nimport ServerAPI from \"../ServerAPI\";\nimport {Provider} from \"./Provider\";\nimport {TouchableOpacity} from \"react-native\";\nimport {ServerInfoHelper} from \"../helper/ServerInfoHelper\";\nimport {Icon} from \"../components/Icon\";\nimport * as ExpoLinking from \"expo-linking\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {URL_Helper} from \"../helper/URL_Helper\";\nimport {TranslationKeys} from \"../translations/TranslationKeys\";\nimport ColorCodeHelper from \"../theme/ColorCodeHelper\";\nimport {useThemedShade} from \"../helper/MyThemedBox\";\nimport {useMyContrastColor} from \"../theme/useMyContrastColor\";\nimport {ServerInfo} from \"@directus/sdk\";\n\ninterface AppState {\n\tserverInfo: ServerInfo;\n\tloading?: boolean,\n\tprovider: Provider;\n\tbuttonText?: any;\n\tcallback?: any;\n}\n\nexport const AuthProvider: FunctionComponent<AppState> = ({serverInfo, provider, buttonText, callback}) => {\n\n  const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n  const translation_log_in_with = useTranslation(TranslationKeys.log_in_with);\n\n\tconst isDarkMode = ColorCodeHelper.isDarkMode()\n\tconst backgroundColor = useThemedShade(6);\n\tconst textColor = useMyContrastColor(backgroundColor)\n//\tconst backgroundColor = isDarkMode ? \"#A9A9A9FF\" : \"#F0F4F9FF\"\n\n\tfunction getUrlToProvider(provider: string){\n\t\tprovider= provider.toLowerCase();\n\t\tconsole.log(\"getUrlToProvider: \"+provider);\n\t\tlet redirectURL = URL_Helper.getURLToBase();\n\t\tconsole.log(\"RedirectURL: \"+redirectURL)\n\t\tlet redirect_with_access_token = \"?redirect=\"+ServerAPI.getAPIUrl()+\"/redirect-with-token?redirect=\"+redirectURL+\"?\"+EnviromentHelper.getDirectusAccessTokenName()+\"=\";\n\t\tlet totalURL = ServerAPI.getAPIUrl()+\"/auth/login/\"+provider+redirect_with_access_token;\n\t\treturn totalURL\n\t}\n\n\tfunction renderIcon(icon, color){\n\t  if(typeof icon!==\"string\"){\n\t    return icon(color);\n    }\n\n\t  let family = null;\n\n    if (MaterialIcons.glyphMap.hasOwnProperty(icon)) {\n      family = MaterialIcons;\n    }\n\n\t\treturn (\n\t\t\t<Icon\n\t\t\t\tname={icon}\n        as={family}\n\t\t\t\tcolor={color}\n\t\t\t\tstyle={{}}\n\t\t\t/>\n\t\t);\n\t}\n\n\n\tlet providerName = provider?.name || \"\";\n\tlet icon = provider?.icon;\n\n\tif(!!icon && icon!==\"incognito-circle\"){\n\t  // replace all _ with - for icon names\n    icon = icon.replace(/_/g, \"-\");\n  }\n\n\tlet ssoIconStyle = ServerInfoHelper.getSsoIconStyle(serverInfo);\n\n\tlet iconBackgroundColor = ssoIconStyle?.background;\n\n\tlet url = getUrlToProvider(providerName);\n\tlet providerNameReadable = StringHelper.capitalizeFirstLetter(providerName);\n\tif(!!provider?.label){\n\t      providerNameReadable = provider?.label;\n  }\n\n\tlet text = buttonText || translation_log_in_with+\" \"+providerNameReadable;\n\n\tlet content = (\n\t\t<Flex flexDirection={\"row\"} style={{borderRadius: 6, flex: 1, backgroundColor: backgroundColor}}>\n\t\t\t<View style={{height: 50, width: 50, alignItems: \"center\", justifyContent: \"center\", backgroundColor: iconBackgroundColor, borderRadius: 6}}>\n\t\t\t\t{renderIcon(icon, ssoIconStyle.color)}\n\t\t\t</View>\n\t\t\t<View style={{justifyContent: \"center\", flex: 1, paddingLeft: 20}}>\n\t\t\t\t<Text color={textColor}>{text}</Text>\n\t\t\t</View>\n\t\t</Flex>\n\t);\n\n\tlet touchableContent = null;\n\n\tif(!!callback){\n\t\ttouchableContent = (\n      <TouchableOpacity onPress={callback} >\n        {content}\n      </TouchableOpacity>\n    )\n\t} else {\n\t  touchableContent = (\n      <Link key={\"Link\"+providerName} href={url} >\n        {content}\n      </Link>\n    )\n  }\n\n\treturn (\n\t  <View style={{marginVertical: 6, width: \"100%\"}}>\n      {touchableContent}\n    </View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from 'react';\nimport ServerAPI from \"../ServerAPI\";\nimport {AuthProvider} from \"./AuthProvider\";\nimport {View} from \"native-base\";\nimport {AuthProviderAnonymous} from \"./AuthProviderAnonymous\";\nimport {ConfigHolder} from \"./../ConfigHolder\";\n\nexport const AuthProvidersLoginOptions: FunctionComponent = (props) => {\n\n\tconst [firstFetch, setfirstFetch] = useState(true)\n\tconst [authProviders, setAuthProviders] = useState(undefined)\n\tconst [reloadnumber, setReloadnumber] = useState(0)\n  \tconst serverInfo = ServerAPI.tempStore.serverInfo;\n\n\tasync function fetchAuthProviders(){\n\t\ttry{\n\t\t\tlet providers = await ServerAPI.getAuthProviders();\n\t\t\tsetAuthProviders(providers);\n\t\t\tsetReloadnumber(reloadnumber+1);\n\t\t} catch (err){\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n\n\tfunction renderAuthProvider(provider: any){\n\t\treturn <AuthProvider key={\"externalProvider\"+provider?.name} provider={provider} serverInfo={serverInfo} />;\n\t}\n\n\tfunction renderAuthProviders(){\n\t\tlet output = [];\n\n    if(!!ConfigHolder.plugin.renderCustomAuthProviders){\n      let customProviders = ConfigHolder.plugin.renderCustomAuthProviders(serverInfo);\n      if(!!customProviders){\n        for(let customProvider of customProviders){\n          output.push(customProvider);\n        }\n      }\n    }\n\n\t\t\tif(!!authProviders){\n\t\t\t\tfor(let provider of authProviders){\n\t\t\t\t\toutput.push(renderAuthProvider(provider))\n\t\t\t\t}\n\t\t\t}\n\n\t\treturn (\n\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t{output}\n\t\t\t</View>\n\t\t);\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t\tfetchAuthProviders();\n\t}, [])\n\n\n\treturn (\n\t\t<View style={{width: \"100%\"}}>\n\t\t\t{renderAuthProviders()}\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {AuthProvider} from \"./AuthProvider\";\nimport {Provider} from \"./Provider\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {Navigation} from \"./../navigation/Navigation\";\nimport {TranslationKeys} from \"../translations/TranslationKeys\";\nimport ServerAPI from \"../ServerAPI\";\nimport {MyActionsheet} from \"../helper/MyActionsheet\";\n\ninterface AppState {\n\tloading?: boolean,\n}\n\nexport const AuthProviderAnonymous: FunctionComponent<AppState> = () => {\n  const serverInfo = ServerAPI.tempStore.serverInfo;\n\n  const actionsheet = MyActionsheet.useActionsheet();\n\n\tlet provider: Provider = {\n\t\tname: \"Guest\",\n\t\ticon: \"incognito-circle\"\n\t};\n\n  const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n  const translation_continue_as_guest = useTranslation(TranslationKeys.continue_as_anonymous);\n\n  async function handleContinue(){\n    await ConfigHolder.instance.setUserAsAnonymous();\n    await ConfigHolder.instance.setHideDrawer(false, Navigation.DEFAULT_ROUTE_HOME);\n  }\n\n\tasync function handleOpened(){\n    let callbackBefore = ConfigHolder?.authConfig?.anonymous?.callbackBefore;\n    if(!!callbackBefore){\n      await callbackBefore(handleContinue, actionsheet)\n    } else {\n      await handleContinue();\n    }\n\t}\n\n\treturn (\n\t\t<AuthProvider serverInfo={serverInfo} provider={provider} buttonText={translation_continue_as_guest} callback={handleOpened} />\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect} from 'react';\nimport {Divider, Flex, Spinner, Text, View} from \"native-base\";\nimport {FormButton} from \"../components/buttons/FormButton\";\nimport {UserItem} from \"@directus/sdk\";\nimport {SignOutButton} from \"./SignOutButton\";\nimport {EmailLogin} from \"./EmailLogin\";\nimport {AuthProvidersLoginOptions} from \"./AuthProvidersLoginOptions\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {TranslationKeys} from \"../translations/TranslationKeys\";\nimport {AuthProviderAnonymous} from \"./AuthProviderAnonymous\";\n\nexport interface WebViewLoginFormState {\n\tuser?: UserItem;\n\trefresh: () => void,\n\tloaded: boolean,\n  handleContinue: any\n}\nexport const WebViewLogin: FunctionComponent<WebViewLoginFormState> = (props) => {\n\n  const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n  const translation_sign_in = useTranslation(TranslationKeys.sign_in);\n  const translation_continue = useTranslation(TranslationKeys.continue);\n  const translation_is_currently_authenticated_remember_this_account = useTranslation(TranslationKeys.is_currently_authenticated_remember_this_account);\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props])\n\n\tfunction renderSignInText(){\n\t\treturn(\n\t\t\t<View>\n\t\t\t\t<Text fontSize=\"2xl\" fontWeight={800}>\n\t\t\t\t\t{translation_sign_in}\n\t\t\t\t</Text>\n\t\t\t</View>\n\t\t)\n\t}\n\n  function renderLoading(){\n    return(\n      <View style={{flex: 1}}>\n        <View style={{marginVertical: 20}}></View>\n        <Spinner />\n        <View style={{marginVertical: 20}}></View>\n      </View>\n    )\n  }\n\n  function renderRememberThisAccount(user){\n    let identifier = user.email || user.first_name;\n    return(\n      <View style={{flex: 1}}>\n        <View style={{marginVertical: 20}}></View>\n        <Text><Text bold={true} >{identifier}</Text> {translation_is_currently_authenticated_remember_this_account}</Text>\n        <View style={{marginVertical: 20}}></View>\n        <Flex flexDirection={\"row\"} justify={\"space-between\"}>\n          <SignOutButton />\n          <FormButton onPress={async () => {\n            await props.handleContinue();\n            //\n          }}>\n            {translation_continue}\n          </FormButton>\n        </Flex>\n      </View>\n    )\n  }\n\n  function renderLoginOptions() {\n    const loginOptions = [];\n\n    // Push Mail login option\n    if (ConfigHolder?.authConfig?.mail?.visible) {\n      loginOptions.push({\n        position: ConfigHolder?.authConfig?.mail?.position || 0,\n        component: (\n          <>\n            <View style={{ marginVertical: 20 }}>\n              <Divider />\n            </View>\n            <EmailLogin />\n            <View style={{ marginVertical: 20 }}>\n              <Divider />\n            </View>\n          </>\n        )\n      });\n    }\n\n    // Push Anonymous login option\n    if (ConfigHolder?.authConfig?.anonymous?.visible) {\n      loginOptions.push({\n        position: ConfigHolder?.authConfig?.anonymous?.position || 0,\n        component: <AuthProviderAnonymous key={\"guest\"} />\n      });\n    }\n\n    // Push External login option\n    if (ConfigHolder?.authConfig?.external?.visible) {\n      loginOptions.push({\n        position: ConfigHolder?.authConfig?.external?.position || 0,\n        component: <AuthProvidersLoginOptions />\n      });\n    }\n\n    // Sort login options by their position\n    loginOptions.sort((a, b) => a.position - b.position);\n\n    // Render sorted login options\n    let rendered = [];\n    loginOptions.map((option, index) => (\n      rendered.push(option.component)\n    ))\n\n    return (rendered);\n  }\n\n\n  function renderLoginInformations(){\n\t\tlet user = props.user;\n\t\tif(!props.loaded){\n\t\t\treturn renderLoading();\n\t\t}\n\t\tif(!!user){\n\t\t  if(!!user.isGuest){\n        return renderRememberThisAccount(user);\n\t\t  } else {\n        return renderRememberThisAccount(user);\n      }\n\t\t} else {\n\t\t\treturn renderLoginOptions();\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{renderSignInText()}\n      <View style={{height: 24}}></View>\n\t\t\t{renderLoginInformations()}\n\t\t</>\n\t)\n}\n","import {Navigation} from \"./Navigation\";\nimport React, {FunctionComponent} from \"react\";\n\nexport class RouteHelper {\n\n  static getNameOfComponent(component: FunctionComponent): string{\n    let bestName = component.displayName || component.name;\n    return bestName+\"\";\n  }\n\n  static getInitialRouteName(startURL: string){\n    // startURL = \"https://kitchenhelper.app/#/app/recipes\";\n    // get everything after the # and the prefix\n    let hash = RouteHelper.getHashRouteWithSearchParams(startURL);\n    let search = RouteHelper.getSearchParamString(startURL);\n    let routeName = hash.replace(\"?\"+search, \"\");\n    if(!routeName || routeName === \"\"){\n      routeName = Navigation.DEFAULT_ROUTE_HOME;\n    }\n\n    return routeName;\n  }\n\n  static getSearchParam(startURL){\n    let search = RouteHelper.getSearchParamString(startURL);\n    // parse for search params in url to dict\n    let searchParams = new URLSearchParams(search);\n    let searchDict = {};\n    for (let [key, value] of searchParams) {\n      searchDict[key] = value;\n    }\n    return searchDict;\n  }\n\n  static getHashRouteWithSearchParams(startURL){\n    let hash = startURL?.split(Navigation.ROUTE_HASH_PREFIX)[1] || \"\";\n    if(hash.startsWith(Navigation.ROUTE_PATH_PREFIX)){\n      hash = hash.substr(1);\n    }\n    return hash;\n  }\n\n  static getSearchParamString(startURL){\n    let search = startURL?.split(\"?\")[1] || \"\";\n    // parse for search params in url to dict\n    return search;\n  }\n\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {WebViewLogin} from \"./WebViewLogin\";\nimport EnviromentHelper from \"../EnviromentHelper\";\nimport ServerAPI from \"../ServerAPI\";\nimport {NavigatorHelper} from \"../navigation/NavigatorHelper\";\nimport {Platform} from \"react-native\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {keyof} from \"ts-keyof\";\nimport {Navigation} from \"./../navigation/Navigation\";\nimport {RouteHelper} from \"../navigation/RouteHelper\";\n\nlet lastAccessToken = null;\n\nexport const Login = (props) => {\n\n  //console.log(\"Login passed drawer Check\")\n\n\tconst user = ConfigHolder.instance.getUser();\n\n\tconst params = NavigatorHelper.getRouteParams(props);\n\tlet directus_access_token = params[EnviromentHelper.getDirectusAccessTokenName()];\n\n\tasync function fetchAccessTokenInUrl(){\n\t  try{\n\t\t\tlet data = await ServerAPI.loginWithAccessDirectusAccessToken(directus_access_token);\n\t\t\tlet directus = ServerAPI.getClient();\n\t\t\tlet me = await ServerAPI.getMe(directus);\n\t\t\tawait ConfigHolder.instance.setUser(me);\n\t\t\treturn true;\n\t\t} catch (err){\n\t\t\tconsole.log(err);\n\t\t\tconsole.log(Object.keys(err));\n\t\t\tif(err.code === 401){\n\t\t\t\tconsole.log(\"Not allowed\");\n\t\t\t}\n\t\t\tNavigation.navigateTo(Navigation.DEFAULT_ROUTE_LOGIN);\n\t\t}\n\t\treturn false;\n\t}\n\n  async function handleContinue(){\n\t  Navigation.navigateHome();\n    await ConfigHolder.instance.setHideDrawer(false, Navigation.DEFAULT_ROUTE_HOME);\n  }\n\n\tasync function fetchAccessToken(){\n\t\t//console.log(\"fetchAccessToken\");\n\t\tif(!!directus_access_token){\n\t\t  if(lastAccessToken === directus_access_token){\n\t\t    return;\n      } else {\n        lastAccessToken = directus_access_token;\n\t\t    if(!user){\n\t\t     let successWithUrlToken = await fetchAccessTokenInUrl();\n       }\n      }\n\t\t} else {\n\t\t\t//console.log(\"No access token in url, finish loading\")\n\t\t}\n\t}\n\n  let drawerNeedsToBeHidden = !ConfigHolder.instance.isDrawerHidden();\n\n  const isWeb = Platform.OS === \"web\";\n\n  let isBrowserUrlCorrect = true;\n  let currentRouteName = undefined;\n  if(isWeb){\n    let currentURL = window.location.href;\n    currentRouteName = RouteHelper.getInitialRouteName(currentURL);\n    isBrowserUrlCorrect = currentRouteName.startsWith(Navigation.DEFAULT_ROUTE_LOGIN);\n  }\n\n  async function handleUseEffect(){\n    if(!isBrowserUrlCorrect){\n      if(!!directus_access_token){ // There is an access token in the url, but the browser url is not correct\n        let realInitialRouteName = window.location.href;\n        realInitialRouteName = realInitialRouteName.split(\"?\")[0];\n        realInitialRouteName += \"#\"+Navigation.ROUTE_PATH_PREFIX+Navigation.DEFAULT_ROUTE_LOGIN+\"?\"+EnviromentHelper.getDirectusAccessTokenName()+\"=\"+directus_access_token;\n        window.location.href = realInitialRouteName;\n        return;\n      } else {\n        Navigation.navigateTo(Navigation.DEFAULT_ROUTE_LOGIN);\n        return;\n      }\n    }\n    if(drawerNeedsToBeHidden){ // if drawer is not hidden yet and we need to hide it first\n      let nextInitialRouteName = Navigation.DEFAULT_ROUTE_LOGIN+\"?\"+Navigation.paramsToURLSearch(params);\n      ConfigHolder.instance.setHideDrawer(true, nextInitialRouteName); // hide drawer first\n      return; // and return\n    }\n    if(!!user){\n      handleContinue();\n      return null;\n    }\n    fetchAccessToken();\n    return;\n  }\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n    handleUseEffect();\n\t}, [props?.route?.params])\n\n  if(!isBrowserUrlCorrect){\n    return null;\n  }\n\n\tif(drawerNeedsToBeHidden){ // if drawer needs to be hidden first we show a blank screen\n\t  return null;\n\t}\n\n  if(!!user){\n    return null;\n  }\n\n  let finishedLoading = true;\n  if(!!directus_access_token){\n    finishedLoading = false;\n  }\n\n\treturn <WebViewLogin loaded={finishedLoading} user={user} handleContinue={handleContinue} />;\n}\n\nLogin.displayName = keyof({ Login });\n","// @ts-nocheck\nimport React from \"react\";\nimport {LoremIpsum} from \"lorem-ipsum\";\n// const LoremIpsum = require(\"lorem-ipsum\").LoremIpsum;\n\nconst lorem = new LoremIpsum({\n\tsentencesPerParagraph: {\n\t\tmax: 8,\n\t\tmin: 4\n\t},\n\twordsPerSentence: {\n\t\tmax: 16,\n\t\tmin: 4\n\t}\n});\n\nexport default class TextGenerator{\n\n\tstatic generateTextLong(){\n\t\tlet output = \"\";\n\t\tfor(let i=1; i<10; i++){ //chapters\n\t\t\toutput += i+\": \"+lorem.generateWords(2); //title\n\t\t\toutput += lorem.getLineEnding();\n\t\t\toutput += \" \";\n\t\t\toutput += lorem.getLineEnding();\n\t\t\toutput += lorem.generateParagraphs(14);\n\t\t\toutput += lorem.getLineEnding();\n\t\t\toutput += \" \";\n\t\t\toutput += lorem.getLineEnding();\n\t\t\toutput += \" \";\n\t\t\toutput += lorem.getLineEnding();\n\t\t}\n\t\treturn output\n\t}\n\n}\n","// @ts-nocheck\nimport React, {useEffect} from \"react\";\nimport {Text} from \"native-base\";\nimport TextGenerator from \"../../helper/TextGenerator\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\nimport {keyof} from \"ts-keyof\";\nimport {RouteHelper} from \"../../navigation/RouteHelper\";\n\nexport const AboutUs = (props) => {\n\n\tConfigHolder.instance.setHideDrawer(false, RouteHelper.getNameOfComponent(AboutUs));\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t\t//console.log(\"About Us useEffect\");\n\t}, [props?.route?.params])\n\n\tlet component = ConfigHolder.plugin.getAboutUsComponent();\n\n\tif(!!component){\n\t\treturn component\n\t}\n\n\treturn(\n\t\t<>\n\t\t\t<Text>{TextGenerator.generateTextLong()}</Text>\n\t\t</>\n\t)\n}\n\nAboutUs.displayName = keyof({ AboutUs });\n","// @ts-nocheck\nimport React, {useEffect} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\n\nimport {RenderHTML} from \"../../utils/RenderHTML\";\nimport TextGenerator from \"../../helper/TextGenerator\";\nimport {License} from \"./License\";\nimport {keyof} from \"ts-keyof\";\nimport {RouteHelper} from \"../../navigation/RouteHelper\";\n\nexport const PrivacyPolicy = (props) => {\n\n  ConfigHolder.instance.setHideDrawer(false, RouteHelper.getNameOfComponent(PrivacyPolicy));\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props?.route?.params])\n\n\tlet component = ConfigHolder.plugin.getPrivacyPolicyComponent();\n\n\tif(!!component){\n\t\treturn component\n\t}\n\n\treturn(\n\t\t\t<View>\n\t\t\t\t<Text>{TextGenerator.generateTextLong()}</Text>\n\t\t\t</View>\n\t)\n}\n\nPrivacyPolicy.displayName = keyof({ PrivacyPolicy });\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from 'react';\nimport {DrawerContentScrollView} from \"@react-navigation/drawer\";\nimport {TouchableOpacity} from \"react-native\";\nimport {Text, View} from \"native-base\";\nimport {MyThemedBox} from \"../helper/MyThemedBox\";\n\nimport {Icon} from \"../components/Icon\";\nimport {MenuItem} from \"./../navigation/MenuItem\";\n\nexport interface AppState {\n    menu: MenuItem,\n    level: number\n}\nexport const ExpandableDrawerItem: FunctionComponent<AppState> = (props) => {\n\n    let menu = props?.menu;\n\n    const [expanded, setExpanded] = useState(menu?.expanded)\n    let nextExpandState = !expanded;\n\n    let menuChilds = [];\n    if(menu?.getChildItems){\n        menuChilds = menu?.getChildItems();\n    }\n    let hasChildren = menuChilds?.length>0;\n\n    function renderExpandIcon(){\n        if(!!menu.icon){\n          if(typeof menu?.icon === \"string\"){\n            return <Icon name={menu.icon}/>;\n          } else {\n            return menu.icon(menu, hasChildren, expanded, props.level);\n          }\n        }\n\n        if(!hasChildren){\n            return <Icon name={\"circle-small\"}/>;\n        }\n        if(expanded){\n            return <Icon name={\"chevron-down\"}/>\n        } else {\n            return <Icon name={\"chevron-right\"}/>\n        }\n    }\n\n    async function handleOnPressIcon(){\n        menu.expanded = nextExpandState;\n        setExpanded(nextExpandState);\n        if(!hasChildren){\n          await menu.handleOnPress(nextExpandState);\n        }\n    }\n\n    async function handleOnPressContent(){\n      if(hasChildren && !expanded){\n        let nextExpandState = !expanded;\n        menu.expanded = nextExpandState;\n        setExpanded(nextExpandState);\n        await menu.handleOnPress(nextExpandState);\n      } else {\n        await menu.handleOnPress(expanded);\n      }\n    }\n\n    function renderSubMenuContent(){\n        if(!expanded){\n            return null;\n        }\n\n      let renderedChilds = [];\n      for(let childMenu of menuChilds){\n        renderedChilds.push(<ExpandableDrawerItem key={childMenu?.key} menu={childMenu} level={props.level+1} />);\n      }\n\n        return(\n            <View style={{paddingLeft: 15}}>\n                <DrawerContentScrollView contentContainerStyle={{paddingTop: 0}}>\n                    {renderedChilds}\n                </DrawerContentScrollView>\n            </View>\n        )\n    }\n\n\n    function renderContent(){\n      let content = menu.content;\n      if(!content){\n        content = (\n          <View style={{width: \"100%\"}}>\n            <Text fontSize={\"md\"}>{menu.label}</Text>\n          </View>\n        )\n      }\n      return content;\n    }\n\n    let boxShadeLevel = props.level;\n    if(expanded && hasChildren){\n      boxShadeLevel+=1;\n    }\n\n    const padding = 8;\n\n    return(\n        <View style={{width: \"100%\"}}>\n            <MyThemedBox _shadeLevel={boxShadeLevel} style={{width: \"100%\"}} >\n                <View style={{paddingVertical: padding, paddingRight: padding}}>\n                    <View style={{flexDirection: \"row\", alignItems: \"center\", width: \"100%\"}}>\n                      <TouchableOpacity onPress={handleOnPressIcon} >\n                        {renderExpandIcon()}\n                      </TouchableOpacity>\n                      <TouchableOpacity onPress={handleOnPressContent} style={{width: \"100%\", flex: 1}} >\n                        {renderContent()}\n                      </TouchableOpacity>\n                    </View>\n                </View>\n                {renderSubMenuContent()}\n            </MyThemedBox>\n        </View>\n    )\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {RegisteredRoutesMap} from \"./RegisteredRoutesMap\";\nimport {NavigatorHelper} from \"./NavigatorHelper\";\nimport {Text, View} from \"native-base\";\nimport {Navigation, RouteProps} from \"./Navigation\";\n\nexport interface MenuItemProps {\n  key: string;\n  customRender?: ((MenuItem) => any),\n  label?: string | ((MenuItem) => any),\n  route?: RouteProps,\n  command?: Function,\n  position?: number,\n  icon?: string | ((MenuItem, boolean, boolean, number) => any),\n  expanded?: boolean,\n}\nexport class MenuItem implements MenuItemProps {\n    key: string;\n    private items: {string: MenuItem};\n    position: number;\n    public route;\n\n    static fromRoutes(routes: RouteProps[]){\n        let items = [];\n        for(let route of routes){\n            items.push(MenuItem.fromRoute(route));\n        }\n        return items;\n    }\n\n    static fromRoute(route: RouteProps){\n      return new MenuItem({\n        key: route.path,\n        label: route.title,\n        route: route,\n      });\n    }\n\n    constructor(props: MenuItemProps) {\n      this.items = {};\n         this.key = props?.key;\n        this.label = props?.label;\n        this.route = props?.route;\n        this.content = props?.content;\n        this.command = props?.command;\n        this.expanded = props?.expanded;\n        this.icon = props?.icon;\n        this.position = props?.position;\n\n        if(!this?.command && !!this?.route){\n            this.command = () => {Navigation.navigateTo(this?.route?.component)};\n        }\n    }\n\n    getChildItems(){\n        let list = [];\n        let keys = Object.keys(this.items);\n        for(let i=0; i<keys.length; i++){\n            let key = keys[i];\n            list.push(this.items[key]);\n        }\n        return list;\n    }\n\n  handleOnPress(nextExpandState: boolean){\n        if(!!this.command){\n            this.command(nextExpandState);\n        }\n    }\n\n\n\n    addChildMenuItem(childItem: MenuItem){\n      if(!!childItem){\n        this.items[childItem.key] = childItem\n      }\n    }\n\n    addChildMenuItems(childItems: MenuItem[]){\n        for(let item of childItems){\n          this.addChildMenuItem(item);\n        }\n    }\n\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {Link, Skeleton, Text, View} from \"native-base\";\nimport {ExpandableDrawerItem} from \"../../navigation/ExpandableDrawerItem\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\nimport {MenuItem} from \"./../../navigation/MenuItem\";\n\nexport const PackagesWithLicenses = (props) => {\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [])\n\n\tfunction getUrlToPackageInformation(dependencyKey){\n\t\treturn \"https://www.npmjs.com/package/\"+dependencyKey;\n\t}\n\n\tfunction renderAllPackages(){\n\t\tlet output = [];\n\t\tlet dependencies = ConfigHolder.currentpackageJson?.dependencies || {};\n\t\tlet lockPackageDependencies = ConfigHolder.currentpackageJsonLock?.packages || {};\n\n\t\tlet dependencyKeys = Object.keys(dependencies);\n\t\tfor(let dependencyKey of dependencyKeys){\n\t\t\tlet upperVersion = dependencies[dependencyKey];\n\n\t\t\tlet keyInPackageLockDependency = \"node_modules/\"+dependencyKey;\n\t\t\tlet packageLockDependency = lockPackageDependencies[keyInPackageLockDependency] || {};\n\t\t\tlet currentVersion = packageLockDependency?.version;\n\n\t\t\tlet thirdpartyDependency = ConfigHolder.thirdpartyLicense[dependencyKey+\"@\"+currentVersion];\n\n\t\t\toutput.push(renderPackage(dependencyKey, upperVersion, currentVersion, thirdpartyDependency));\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction getSubMenuRow(icon, label, text){\n\t  if(!text){\n\t    return null;\n    }\n\n    let content = <Text></Text>;\n\n\t\tif(!!text){\n      content = <Text><Text bold={true}>{label+\": \"}</Text>{text}</Text>;\n\t\t}\n\n\t\treturn new MenuItem({\n      key: label,\n      content: content,\n      icon: icon,\n    });\n\t}\n\n\tfunction getSubMenuWithLink(icon, label, url){\n    let content = (\n      <Text>\n      </Text>\n    );\n\n\t\tif(!!url){\n      content = (\n        <Text>\n          <Text bold={true}>{label+\": \"}</Text>\n          <Link href={url} >\n            <Text>{url}</Text>\n          </Link>\n        </Text>\n      );\n\t\t}\n\n\n    return new MenuItem({\n      key: url,\n      content: content,\n      icon: icon,\n    });\n\t}\n\n\tfunction getPackageChildrenMenu(dependencyKey, upperVersion, currentVersion, thirdpartyDependency){\n\t\tlet repositoryUrl = thirdpartyDependency?.repository;\n    let url = thirdpartyDependency?.url;\n    let backupUrl = url || repositoryUrl;\n\n    let packageUrl = getUrlToPackageInformation(dependencyKey);\n\t\tlet license = thirdpartyDependency?.licenses\n\t\tlet publisher = thirdpartyDependency?.publisher\n\t\tlet email = thirdpartyDependency?.email\n\n    return [\n      getSubMenuWithLink(\"web\", \"Website\",url || repositoryUrl),\n      getSubMenuRow(\"license\", \"License\", license),\n      getSubMenuRow(\"account-circle\", \"Publisher\", publisher),\n      getSubMenuRow(\"email\", \"Email\", email),\n      getSubMenuWithLink(\"github\", \"GitHub\",repositoryUrl || backupUrl),\n    ]\n\t}\n\n\tfunction renderPackage(dependencyKey, upperVersion, currentVersion, thirdpartyDependency){\n\t  let label = dependencyKey;\n\t  let key = dependencyKey;\n\n\t  let menuItem = new MenuItem({\n      key: dependencyKey,\n      label: label,\n    });\n\t  let subMenus = getPackageChildrenMenu(dependencyKey, upperVersion, currentVersion, thirdpartyDependency);\n    menuItem.addChildMenuItems(subMenus)\n\n\t\treturn (\n\t\t\t<View key={dependencyKey} style={{paddingBottom: 10, width: \"100%\"}}>\n\t\t\t\t<ExpandableDrawerItem\n          key={key}\n\t\t\t\t\tlevel={2}\n          menu={menuItem}>\n\t\t\t\t</ExpandableDrawerItem>\n\t\t\t</View>\n\t\t);\n\t}\n\n\treturn(\n\t\t<>\n\t\t\t{renderAllPackages()}\n\t\t</>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {StringHelper} from \"../../helper/StringHelper\";\n\ninterface AppState {\n\n}\nexport const SettingsSpacer: FunctionComponent<AppState> = (props) => {\n\n    return(\n        <View><Text>{StringHelper.renderZeroSpaceHeight(1)}</Text></View>\n    )\n}\n","// @ts-nocheck\nimport React, {useEffect} from \"react\";\nimport {PackagesWithLicenses} from \"./PackagesWithLicenses\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\nimport {keyof} from \"ts-keyof\";\nimport {RouteHelper} from \"../../navigation/RouteHelper\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\n\nexport const License = (props) => {\n\n  ConfigHolder.instance.setHideDrawer(false, RouteHelper.getNameOfComponent(License));\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props?.route?.params])\n\n  let component = ConfigHolder.plugin.getLicenseComponent();\n\n\treturn(\n\t\t<>\n      {component}\n      <SettingsSpacer />\n\t\t\t<PackagesWithLicenses />\n\t\t</>\n\t)\n}\n\nLicense.displayName = keyof({ License });\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {InternalLink} from \"../../navigation/InternalLink\";\nimport {MenuItem} from \"../../navigation/MenuItem\";\nimport {Navigation} from \"../../navigation/Navigation\";\nimport {View} from \"native-base\";\nimport {RequiredSynchedStates} from \"../../synchedstate/RequiredSynchedStates\";\nimport {useSynchedJSONState, useSynchedState} from \"../../synchedstate/SynchedState\";\n\ninterface AppState {\n  requiredMenuKey?: string;\n}\nexport const LegalRequiredInternalLink : FunctionComponent<AppState> = (props) => {\n\n  let requiredMenuKey = props?.requiredMenuKey;\n  let menuItem: MenuItem = Navigation.requiredMenuItems[requiredMenuKey];\n  let label = menuItem?.label;\n\n  let [isOpen, setIsOpen] = useSynchedJSONState(RequiredSynchedStates.showCookies)\n\n  return (\n    <View>\n      <InternalLink beforeNavigateCallback={() => {\n        setIsOpen(false) // close the cookie banner when navigating to a legal page\n      }} accessibilityLabel={label} destination={menuItem?.route?.path} fontSize={\"sm\"}>{label}</InternalLink>\n    </View>\n  )\n\n  //\n}\n","// @ts-nocheck\nimport React from \"react\";\nimport {Text, View} from \"native-base\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\nimport {TranslationKeys} from \"../../translations/TranslationKeys\";\nimport {TransparentButton} from \"../../components/buttons/TransparentButton\";\nimport {RequiredSynchedStates} from \"../../synchedstate/RequiredSynchedStates\";\nimport {useSynchedJSONState} from \"../../synchedstate/SynchedState\";\n\nexport const LegalRequiredCookieLink = (props) => {\n\n  let [isOpen, setIsOpen] = useSynchedJSONState(RequiredSynchedStates.showCookies)\n\n  const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n\n  const translation_cookies = useTranslation(TranslationKeys.cookies);\n\n  return (\n    <View>\n      <TransparentButton accessibilityLabel={translation_cookies} onPress={async () => {\n        setIsOpen(true);\n      }}>\n        <Text underline={true} fontSize={\"sm\"}>\n          {translation_cookies}\n        </Text>\n      </TransparentButton>\n    </View>\n  )\n}\n","// @ts-nocheck\nimport React from \"react\";\nimport {LegalRequiredInternalLink} from \"./LegalRequiredInternalLink\";\nimport {Navigation} from \"../../navigation/Navigation\";\nimport {LegalRequiredCookieLink} from \"./LegalRequiredCookieLink\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\n\nexport const LegalRequiredLinks = (props) => {\n\n  let renderedCookieLink = <LegalRequiredCookieLink />\n  if(!ConfigHolder.useCookiePolicy){\n    renderedCookieLink = null;\n  }\n\n  return(\n    <>\n      <LegalRequiredInternalLink requiredMenuKey={Navigation.DEFAULT_MENU_KEY_ABOUT_US} />\n      <LegalRequiredInternalLink requiredMenuKey={Navigation.DEFAULT_MENU_KEY_PRIVACY_POLICY} />\n      <LegalRequiredInternalLink requiredMenuKey={Navigation.DEFAULT_MENU_KEY_LICENSE} />\n      {renderedCookieLink}\n        <LegalRequiredInternalLink requiredMenuKey={Navigation.DEFAULT_MENU_KEY_ACCESSIBILITY} />\n    </>\n  )\n\n}\n","// @ts-nocheck\nimport React, {useEffect} from \"react\";\nimport {View} from \"native-base\";\nimport {keyof} from \"ts-keyof\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\nimport {LegalRequiredLinks} from \"../legalRequirements/LegalRequiredLinks\";\nimport {SignOutButton} from \"../../auth/SignOutButton\";\n\nexport const Settings = (props) => {\n\n  let customComponent = ConfigHolder.plugin.getSettingsComponent();\n  if(!!customComponent){\n    return customComponent;\n  }\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props?.route?.params])\n\n\treturn(\n\t\t<View style={{width: \"100%\"}}>\n      <View style={{flex: 1, flexDirection: \"row-reverse\"}} key={\"signOutButton\"}>\n        <SignOutButton onlyIcon={true} />\n      </View>\n      <View style={{\n        flex: 1,\n        width: '100%',\n        alignItems: \"center\", justifyContent: \"center\",\n        flexDirection: 'row',\n        flexWrap: 'wrap', // Enable wrapping of items\n      }} key={\"legalRequiredLinks\"}>\n        <LegalRequiredLinks />\n      </View>\n\t\t</View>\n\t)\n}\n\nSettings.displayName = keyof({ Settings });\n\n","// @ts-nocheck\nimport React, {useEffect} from \"react\";\nimport {PackagesWithLicenses} from \"./PackagesWithLicenses\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\nimport {keyof} from \"ts-keyof\";\nimport {RouteHelper} from \"../../navigation/RouteHelper\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\n\nexport const Accessibility = (props) => {\n\n  ConfigHolder.instance.setHideDrawer(false, RouteHelper.getNameOfComponent(Accessibility));\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props?.route?.params])\n\n  let component = ConfigHolder.plugin.getAccessibilityComponent();\n\n\treturn(\n\t\t<>\n      {component}\n\t\t</>\n\t)\n}\n\nAccessibility.displayName = keyof({ Accessibility });\n","import {RequiredSynchedStates} from \"../synchedstate/RequiredSynchedStates\";\nimport {useSynchedJSONState} from \"../synchedstate/SynchedState\";\nimport {NavigatorHelper} from \"./NavigatorHelper\";\nimport {FunctionComponent} from \"react\";\nimport {Home} from \"../screens/home/Home\";\nimport {Login} from \"../auth/Login\";\nimport {CommonActions, DrawerActions, DrawerActionHelpers} from \"@react-navigation/native\";\n\nimport {RouteHelper} from \"./RouteHelper\";\nimport {MenuItem} from \"./MenuItem\";\nimport {AboutUs} from \"../screens/legalRequirements/AboutUs\";\nimport {PrivacyPolicy} from \"../screens/legalRequirements/PrivacyPolicy\";\nimport {License} from \"../screens/legalRequirements/License\";\nimport {Settings} from \"../screens/settings/Settings\";\nimport {CookiePolicy} from \"../screens/legalRequirements/CookiePolicy\";\nimport {Accessibility} from \"../screens/legalRequirements/Accessibility\";\n\n// todo Update to newest ReactNavigation\n// https://reactnavigation.org/docs/navigating-without-navigation-prop/\n\nexport interface RouteProps {\n  path?: string;\n  title?: string;\n  // params are a dictionary of key: string /value: any pairs that will be sent to the screen\n  params?: {[key: string]: any};\n  component: FunctionComponent;\n  template?: FunctionComponent;\n}\n\nexport class Navigation {\n\n    static DEFAULT_ROUTE_HOME = RouteHelper.getNameOfComponent(Home);\n    static DEFAULT_ROUTE_LOGIN = RouteHelper.getNameOfComponent(Login);\n\n    static DEFAULT_MENU_KEY_ABOUT_US = RouteHelper.getNameOfComponent(AboutUs);\n    static DEFAULT_MENU_KEY_PRIVACY_POLICY = RouteHelper.getNameOfComponent(PrivacyPolicy);\n    static DEFAULT_MENU_KEY_LICENSE = RouteHelper.getNameOfComponent(License);\n    static DEFAULT_MENU_KEY_ACCESSIBILITY = RouteHelper.getNameOfComponent(Accessibility);\n    static DEFAULT_MENU_KEY_SETTINGS = RouteHelper.getNameOfComponent(Settings);\n\n    static ROUTE_PATH_PREFIX = \"/\";\n    static ROUTE_HASH_PREFIX = \"#\";\n\n    // a dict with string to Route\n    private static registeredComponents : {[key: string]: RouteProps} = {};\n\n    private static registeredMenuItems : {[key: string]: MenuItem} = {};\n    public static requiredMenuItems : {[key: string]: MenuItem} = {};\n\n    static useNavigationHistory(){\n      return useSynchedJSONState(RequiredSynchedStates.navigationHistory)\n    }\n\n    static drawerToggle(){\n        console.log(\"drawerToggle\");\n        console.log(\"NavigatorHelper.getCurrentNavigation(): \"+NavigatorHelper.getCurrentNavigation());\n        console.log(NavigatorHelper.getCurrentNavigation());\n        console.log(Object.keys(NavigatorHelper.getCurrentNavigation()))\n      NavigatorHelper.getCurrentNavigation()?.dispatch(DrawerActions.toggleDrawer());\n    }\n    static drawerOpen(){\n        console.log(\"drawerOpen\");\n      NavigatorHelper.getCurrentNavigation()?.dispatch(DrawerActions.openDrawer());\n    }\n    static drawerClose(){\n        console.log(\"drawerClose\");\n      NavigatorHelper.getCurrentNavigation()?.dispatch(DrawerActions.closeDrawer());\n    }\n\n    static routesResetRegistered(){\n      Navigation.registeredComponents = {};\n    }\n\n    static routeGetRegistered(){\n      return Navigation.registeredComponents;\n    }\n\n    static routesRegisterMultipleFromComponents(funComponents: FunctionComponent[], template?): RouteProps[]{\n      let routes: RouteProps[] = [];\n      for(let i=0; i<funComponents.length; i++){\n        let funComponent = funComponents[i];\n        let route = Navigation.routeRegister({\n          component: funComponent,\n          template: template\n        });\n        routes.push(route);\n      }\n      return routes;\n    }\n\n    static routeRegister(route: RouteProps): RouteProps{\n      let path = route.path;\n      if(!path){\n        path = RouteHelper.getNameOfComponent(route.component);\n      }\n      let componentName = RouteHelper.getNameOfComponent(route.component);\n      let newRoute = {\n        path: path,\n        title: route?.title || componentName,\n        component: route?.component,\n        template: route?.template\n      };\n      Navigation.registeredComponents[componentName] = newRoute\n      return newRoute;\n    }\n\n//    static routeUnregister(){} // also unregisteres menu?\n\n    static menuRegister(menuItem: MenuItem){\n      Navigation.registeredMenuItems[menuItem?.key] = menuItem;\n    }\n\n    static menusResetRegistered(){\n      Navigation.registeredMenuItems = {};\n      Navigation.requiredMenuItems = {};\n    }\n\n    static menuGetRegisteredDict(){\n      return Navigation.registeredMenuItems;\n    }\n\n    static menuGetRequiredMenuDict(){\n      return Navigation.requiredMenuItems;\n    }\n\n  static menuGetRegisteredList(){\n      let menuDict = Navigation.menuGetRegisteredDict();\n      let menuList = Object.values(menuDict);\n      return menuList;\n  }\n\n    //static navigateBack(){}\n\n    static navigateHome(){\n      Navigation.navigateTo(Navigation.DEFAULT_ROUTE_HOME);\n    }\n\n    static navigateBack(){\n      let history = NavigatorHelper.getHistory();\n\n      if(history===null){\n        Navigation.navigateHome()\n      } if(history.length===1){ // well then we can't go back, since we are on our current page\n        Navigation.navigateHome()\n      } else {\n        NavigatorHelper.getCurrentNavigation()?.dispatch(CommonActions.goBack());\n      }\n    }\n\n    static getCurrentRouteName(){\n      let history = NavigatorHelper.getHistory();\n      if(history && history.length>0){\n        return history[history.length-1].name;\n      }\n      return null;\n    }\n\n    static paramsToURLSearch(params?){\n      let navigateSearch = \"\";\n      if(params){\n        let keys = Object.keys(params);\n        for(let i=0; i<keys.length; i++){\n          let key = keys[i];\n          let value = params[key];\n          if(value!==undefined && value!==null){\n            if(i>0){\n              navigateSearch += \"&\";\n            }\n            navigateSearch += key+\"=\"+value;\n          }\n        }\n      }\n      return navigateSearch;\n    }\n\n    static navigateTo(routePathOrComponent, params?, hashChanged?){\n      let routeName = \"Home\";\n      if(typeof routePathOrComponent === \"string\"){\n        routeName = routePathOrComponent;\n      } else if(typeof routePathOrComponent === \"function\"){\n        routeName = RouteHelper.getNameOfComponent(routePathOrComponent);\n      }\n\n      /**\n      if(PlatformHelper.isWeb() && !hashChanged){\n          //console.log(\"-- isWeb but the hash is not changed, so we do it now\");\n          let navigateSearch = Navigation.paramsToURLSearch(params);\n          if(navigateSearch){\n            navigateSearch = \"?\"+navigateSearch;\n          }\n          //console.log(\"After changing the hash, the hook will be called again, so we do not need to call navigateTo again\");\n          //@ts-ignore\n          window.location.hash = Navigation.ROUTE_PATH_PREFIX+routeName+navigateSearch;\n          return; // we do not need to call navigateTo again, because the hash change will trigger the hook\n      } else {\n        NavigatorHelper.navigateToRouteName(routeName, params)\n      }\n      */\n\n      NavigatorHelper.navigateToRouteName(routeName, params)\n    }\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Tooltip} from \"native-base\";\nimport {AccessibilityState, TouchableOpacity} from \"react-native\";\n\nexport interface AppState{\n\tdisabled?: boolean,\n\taccessibilityLabel: string,\n\taccessibilityRole?: string,\n\taccessibilityState?: any\n\tstyle?: any\n}\nexport const MyTouchableOpacity: FunctionComponent<AppState> = ({disabled, accessibilityState, accessibilityRole, accessibilityLabel, style ,...props}) => {\n\n\tlet mergedStyle = []\n\tif(Array.isArray(style)){\n\t\tmergedStyle = style\n\t} else {\n\t\tmergedStyle.push(style)\n\t}\n\tif(disabled){\n\t\tmergedStyle.push({\n\t\t\tcursor: \"not-allowed\",\n\t\t\topacity: 0.5\n\t\t});\n\t}\n\n\tconst content = (\n\t\t<TouchableOpacity accessibilityState={accessibilityState} accessibilityRole={accessibilityRole ?? 'button'} accessibilityLabel={accessibilityLabel} disabled={disabled} style={mergedStyle} {...props}>\n\t\t\t{props?.children}\n\t\t</TouchableOpacity>\n\t)\n\n\tif(accessibilityLabel) {\n\n\t\treturn (\n\t\t\t<Tooltip label={accessibilityLabel}>\n\t\t\t\t{content}\n\t\t\t</Tooltip>\n\t\t)\n\t} else {\n\t\treturn content;\n\t}\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\n\nimport {Icon} from \"../components/Icon\";\nimport {Navigation} from \"../navigation/Navigation\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {TranslationKeys} from \"../translations/TranslationKeys\";\nimport {MyTouchableOpacity} from \"../components/buttons/MyTouchableOpacity\";\nimport {useMyContrastColor} from \"../theme/useMyContrastColor\";\nimport {View} from \"native-base\";\n\nexport interface AppState{\n  color?: string;\n  closeDrawer?: boolean\n  useTextColor?: boolean\n  backgroundColor?: string\n  hidden?: boolean\n}\nexport const DrawerButton: FunctionComponent<AppState> = ({color, useTextColor, closeDrawer, ...props}) => {\n\n  let usedColor = color;\n  const isHidden = props?.hidden;\n\n  const headerBackgroundColor = props?.backgroundColor;\n  if(!usedColor && !!headerBackgroundColor){\n    usedColor = useMyContrastColor(headerBackgroundColor);\n  }\n\n  const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n  const accessibilityLabel = useTranslation(TranslationKeys.sidebar_menu);\n\n  function onPress(){\n    if(closeDrawer){\n      Navigation.drawerClose();\n    } else {\n      Navigation.drawerToggle();\n    }\n  }\n\n  let icon = <Icon name={\"menu\"} color={usedColor} selectable={!isHidden} />;\n  if(closeDrawer){\n    icon = <Icon name={\"close\"} color={usedColor} selectable={!isHidden} />;\n  }\n\n  if(isHidden){\n    return(\n        <View\n            aria-hidden={isHidden ? \"true\" : \"false\"}\n            importantForAccessibility={isHidden ? 'no' : 'auto'}\n            accessibilityLabel={isHidden ? undefined : \"Menu\"} style={{padding: 12}} onPress={onPress} >\n          {icon}\n        </View>\n    )\n  } else {\n    return(\n        <MyTouchableOpacity\n            aria-hidden={isHidden ? \"true\" : \"false\"}\n            importantForAccessibility={isHidden ? 'no' : 'auto'}\n            accessibilityLabel={isHidden ? undefined : \"Menu\"} style={{padding: 12}} onPress={onPress} >\n          {icon}\n        </MyTouchableOpacity>\n    )\n  }\n};\n","// @ts-nocheck\nimport React from 'react';\nimport {Button,} from 'native-base';\nimport {Icon} from \"../components/Icon\";\nimport {Navigation} from \"../navigation/Navigation\";\n\nexport const BackButton = ({color, ...props}: any) => {\n\n  let usedColor = color;\n\n  return(\n    <Button style={{backgroundColor: \"transparent\"}} onPress={Navigation.navigateBack} >\n      <Icon name={\"chevron-left\"} color={usedColor} />\n    </Button>\n  )\n};\n","// @ts-nocheck\nimport React from 'react';\nimport ServerAPI from \"../ServerAPI\";\nimport {ServerInfoHelper} from \"../helper/ServerInfoHelper\";\n\nexport function useProjectColor(props?) {\n  const serverInfo = props?.serverInfo || ServerAPI.tempStore.serverInfo;\n  let ssoBackgroundColor = undefined;\n  if(!!serverInfo){\n    const ssoIconStyle = ServerInfoHelper.getSsoIconStyle(serverInfo);\n    ssoBackgroundColor = ssoIconStyle?.background;\n  }\n\n  let output = ssoBackgroundColor || \"transparent\"\n  return output;\n}\n","import {useBreakpointValue} from \"native-base\";\n\nexport class Layout {\n\n  static padding = 16;\n\n\tstatic WIDTH_MD = 768;\n\tstatic WIDTH_LG = 992;\n\tstatic WIDTH_XL = 1218;\n\n  private static getRawWidthValues(){\n    return {\n      \"base\": '100%',\n      \"md\": Layout.WIDTH_MD,\n      \"lg\": Layout.WIDTH_LG,\n      \"xl\": Layout.WIDTH_XL,\n    }\n  }\n\n  private static transformWithValuesToPxIfPossible(widthValues){\n    //transform \"md\": number,\n    let keys = Object.keys(widthValues);\n    for(let key of keys){\n      let value = widthValues[key];\n      if(!(value+\"\").endsWith(\"%\")){\n        widthValues[key] = value+\"px\"\n        //to \t  //transform \"md\": number+\"px\",\n      }\n    }\n    return widthValues;\n  }\n\n\tstatic getWidthValues(){\n\t  let widthValues = Layout.getRawWidthValues();\n\t  return Layout.transformWithValuesToPxIfPossible(widthValues)\n\t}\n\n\n\tstatic getBaseTemplateContentWidth(){\n    let baseTemplateWidthValues = Layout.getRawWidthValues();\n    let keys = Object.keys(baseTemplateWidthValues);\n    for(let key of keys){\n      let value = baseTemplateWidthValues[key];\n      if(!(value+\"\").endsWith(\"%\")){\n        baseTemplateWidthValues[key] = value\n      }\n    }\n\n    return Layout.transformWithValuesToPxIfPossible(baseTemplateWidthValues)\n  }\n\n  static useBaseTemplateContentWidth(){\n    return useBreakpointValue(Layout.getBaseTemplateContentWidth());\n  }\n\n\tstatic getSmallDeviceValues(){\n\t\treturn {\n\t\t\tbase: true,\n\t\t\tmd: false,\n\t\t}\n\t}\n\n\tstatic usesSmallDevice(){\n\t\treturn useBreakpointValue(Layout.getSmallDeviceValues())\n\t}\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {DrawerButton} from \"./DrawerButton\";\nimport {BackButton} from \"./BackButton\";\n\nimport {Heading, Text, View} from \"native-base\";\nimport {useSynchedDrawerConfig} from \"../synchedstate/SynchedState\";\nimport {Navigation} from \"../navigation/Navigation\";\nimport {useMyContrastColor} from \"../theme/useMyContrastColor\";\nimport {useProjectColor} from \"./useProjectColor\";\nimport {useThemedShade} from \"../helper/MyThemedBox\";\nimport {Layout} from \"../templates/Layout\";\n\n\nexport interface AppState{\n\trenderActions?: () => any;\n\trenderCustomTitle?: () => any;\n\ttitle?: any;\n\trenderCustomBottom?: () => any;\n\tshowbackbutton?: boolean;\n  backgroundColor?: string\n  textColor?: string,\n  headerShadeLevel?: number\n  useProjectHeaderBackgroundColor?: boolean\n}\nexport const HeaderWithActions: FunctionComponent<AppState> = (props) => {\n\n  let isSmallDevice = Layout.usesSmallDevice();\n\n  const projectColor = useProjectColor();\n  let headerShadeLevel = props?.headerShadeLevel\n  if(headerShadeLevel===undefined) {\n    headerShadeLevel = 1;\n  }\n  const themedBackgroundColor = useThemedShade(headerShadeLevel);\n  let headerBackgroundColor = props?.backgroundColor;\n\n  if(!headerBackgroundColor){\n    if(props?.useProjectHeaderBackgroundColor){\n      headerBackgroundColor = projectColor;\n    } else {\n      headerBackgroundColor = themedBackgroundColor\n    }\n  }\n\n  let headerTextColor = props?.textColor;\n  if(!headerTextColor){\n    headerTextColor = useMyContrastColor(headerBackgroundColor);\n  }\n\tconst textColor = headerTextColor\n\n  const [drawerConfig, setDrawerConfig] = useSynchedDrawerConfig();\n  let drawerPosition = drawerConfig?.drawerPosition || 'left';\n  let flexDirection: \"row\" | \"row-reverse\" | \"column\" | \"column-reverse\" = drawerPosition === 'left' ? \"row\" : \"row-reverse\";\n  let textAlign = drawerPosition === 'left' ? \"left\" : \"right\";\n\n  const [history, setHistory] = Navigation.useNavigationHistory();\n\n\tconst showBackButton = props?.showbackbutton\n\n\tfunction renderDrawerButton(){\n\t\tif(!showBackButton){\n\t\t  const isHidden = !isSmallDevice;\n\t\t  let additionalStyle = {};\n\t\t  if(isHidden){\n\t\t    additionalStyle[\"opacity\"] = 0\n\t\t  }\n\n\t\t\treturn(\n\t\t\t\t<View\n\t\t\t\t\taria-hidden={isHidden ? \"true\" : \"false\"}\n\t\t\t\t\timportantForAccessibility={isHidden ? 'no' : 'auto'}\n\t\t\t\t\taccessibilityLabel={isHidden ? \"\" : \"Menu\"} style={additionalStyle}>\n\t\t\t\t\t<DrawerButton hidden={isHidden} color={textColor} />\n\t\t\t\t</View>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<View accessibilityLabel={\"Back\"}>\n\t\t\t\t\t<BackButton color={textColor} />\n\t\t\t\t</View>\n\t\t\t)\n\t\t}\n\t}\n\n\tfunction renderTitle(){\n\t\tif(props?.renderCustomTitle){\n\t\t\treturn props.renderCustomTitle();\n\t\t} else if(props?.title){\n\t\t\treturn(\n          <Heading\n            textAlign={textAlign}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n            }}\n          >\n            <Text color={textColor}>{props?.title}</Text>\n          </Heading>\n\t\t\t)\n\t\t}\n\t}\n\n\tfunction renderActions(){\n\t\tif(props?.renderActions){\n\t\t\treturn props.renderActions();\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction renderBottomRow(){\n\t\tif(props?.renderCustomBottom){\n\t\t\treturn props.renderCustomBottom();\n\t\t}\n\t}\n\n\tfunction renderHeader(){\n\t\treturn(\n\t\t\t<View style={{width: \"100%\", backgroundColor: headerBackgroundColor}}>\n\t\t\t\t<View style={{flexDirection: flexDirection, width: \"100%\", alignItems: \"center\"}}>\n\t\t\t\t\t{renderDrawerButton()}\n\t\t\t\t\t<View style={{flex: 1,justifyContent: \"flex-start\"}}>\n\t\t\t\t\t\t{renderTitle()}\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{justifyContent: \"flex-end\", flexDirection: \"row\", alignItems: \"center\"}}>\n\t\t\t\t\t\t{renderActions()}\n\t\t\t\t\t</View>\n          <View style={{width: 4}} />\n\t\t\t\t</View>\n\t\t\t\t<View style={{flexDirection: \"row\", width: \"100%\", alignItems: \"center\"}}>\n\t\t\t\t\t{renderBottomRow()}\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t)\n\t}\n\n\treturn(\n\t\trenderHeader()\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Skeleton, View} from \"native-base\";\nimport {KitchenSkeleton} from \"./KitchenSkeleton\";\n\nexport const LoadingView: FunctionComponent = (props) => {\n\tconst styles = {\n\t\tposition: \"absolute\",\n\t\tleft: 0,\n\t\tright: 0,\n\t\ttop: 0,\n\t\tbottom: 0,\n\t\topacity: 0.7,\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t}\n\n\treturn (\n\t\t<KitchenSkeleton style={styles} />\n\t);\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useRef, useState} from 'react';\nimport {View} from \"native-base\";\nimport ServerAPI from \"../ServerAPI\";\nimport {LoadingView} from \"./LoadingView\";\nimport {Image, TouchableOpacity} from \"react-native\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {encode} from 'base-64'\n\ninterface AppState {\n\tassetId: string;\n\talt?: string;\n  url?: string;\n\tstyle?: any;\n\tshowLoading?: boolean\n\tuseUnsafeAccessTokenInURL?: boolean,\n  fallbackElement?: any,\n//  useBase64Cache?: boolean\n\tonPress?: () => {}\n}\n\nexport const getDirectusImageUrl = (props: AppState) => {\n  if(!!props.assetId || !!props.url) {\n    let url = props.url;\n\n    if (!!props.assetId) {\n      let imageURL = ServerAPI.getAssetImageURL(props.assetId);\n      url = imageURL;\n      if (!props?.isPublic && props?.useUnsafeAccessTokenInURL) {\n        let token = ConfigHolder.instance.storage.get_auth_access_token();\n        if (!!url && !!token) {\n          if (!url.includes(\"?\")) {\n            url += \"?\";\n          }\n          url += \"&access_token=\" + token;\n        }\n      }\n    }\n    return url;\n  }\n  return null;\n}\n\nexport const DirectusImage: FunctionComponent<AppState> = (props) => {\n\n  const assetId = props?.assetId;\n  const useCache = props?.useBase64Cache;\n  const useUnsafeAccessTokenInURL = props?.useUnsafeAccessTokenInURL;\n  const isPublic = props?.isPublic;\n\n  let url = getDirectusImageUrl(props);\n\n\tconst [notCachedBase64, setNotCachedBase64] = useState(null);\n//\tconst [cachedBase64Image, setCachedBase64Image] = SynchedState.useCachedBase64Image(assetId, useCache, useUnsafeAccessTokenInURL);\n//\tconst usedBase64Image = useCache ? cachedBase64Image : notCachedBase64;\n\tconst usedBase64Image = notCachedBase64;\n\n  const uri = useUnsafeAccessTokenInURL ? url : usedBase64Image;\n  const [loading, setLoading] = useState(true);\n  const mountedRef = useRef(true)\n\n\tconst axios = ServerAPI.getAxiosInstance();\n\n\t// TODO: https://docs.directus.io/configuration/project-settings/#files-thumbnails\n\t// add key, fit, width, etc. as parameters here also\n\n\tlet content = null;\n\n  async function loadBase64ImageWithAxios(url){\n    let token = ConfigHolder.instance.storage.get_auth_access_token();\n    const headers = {\n\n    }\n    if(!isPublic && !!token){\n      headers[\"Authorization\"] = \"Bearer \" + token;\n    }\n\n    return axios.get(url, {\n      responseType: 'arraybuffer',\n      headers: headers\n    })\n      .then((response) => {\n        let image = encode(\n          new Uint8Array(response.data)\n            .reduce((data, byte) => data + String.fromCharCode(byte), '')\n        );\n        return `data:${response.headers['content-type'].toLowerCase()};base64,${image}`;\n      });\n  }\n\n\tasync function loadBase64WithAuthorization(url) {\n    let token = ConfigHolder.instance.storage.get_auth_access_token();\n    const tokenOrPublic = isPublic ? true : !!token;\n\n    try{\n      if (!!url && tokenOrPublic) {\n        return await loadBase64ImageWithAxios(url);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n    return null;\n  }\n\n  async function loadImage() {\n    if (!!url) {\n      let data = await loadBase64WithAuthorization(url);\n      if (!mountedRef.current) return null\n      if (!!data) {\n        if(useCache) {\n          setCachedBase64Image(data);\n        } else {\n          setNotCachedBase64(data);\n        }\n      } else {\n        setLoading(false);\n      }\n    } else {\n      setLoading(false);\n    }\n  }\n\n\tuseEffect(() => {\n\t  if(!props?.useUnsafeAccessTokenInURL){\n      loadImage();\n    }\n    return () => {\n      mountedRef.current = false\n    }\n  } , [props?.assetId, props?.url, uri]);\n\n\tif(!!uri) {\n\t\tlet source={\n\t\t\turi: uri,\n\t\t}\n\n\t\tcontent = <>\n      <Image source={source} alt={props?.alt || \"Image\"} style={props.style}/>\n      </>\n\t} else {\n\t  if(loading){\n      content = <LoadingView />\n    } else {\n\t    content = props?.fallbackElement;\n    }\n  }\n\n\tlet pressWrapper = content;\n\n\tif(!!props.onPress){\n\t\tpressWrapper = (\n\t\t\t<TouchableOpacity onPress={props.onPress} style={props.style} >\n\t\t\t\t{content}\n\t\t\t</TouchableOpacity>\n\t\t)\n\t}\n\n\treturn(\n\t\t<View style={props.style}>\n\t\t\t{pressWrapper}\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from 'react';\nimport {View, Text} from \"native-base\";\nimport {UserItem} from \"@directus/sdk\";\nimport ServerAPI from \"../ServerAPI\";\nimport {DirectusImage} from \"./DirectusImage\";\n\nimport {Icon} from \"../components/Icon\";\nimport {ConfigHolder} from \"./../ConfigHolder\";\nimport {MyTouchableOpacity} from \"../components/buttons/MyTouchableOpacity\";\n\nconst titleBoxHeight = 48;\n\ninterface AppState {\n\tuser?: UserItem;\n\taccessibilityLabel?: string;\n\tcolor?: string,\n\tonPress?: () => void\n\theightAndWidth?: string\n}\nexport const UserProfileAvatar: FunctionComponent<AppState> = (props) => {\n\n\tconst [displayUser, setUser] = useState(props.user || null);\n\tconst [reloadnumber, setReloadnumber] = useState(0)\n\n\tconst directus = ServerAPI.getClient();\n\n  let usedColor = props?.color\n\n\tasync function loadUserInformation(){\n\t\tlet me = await ServerAPI.getMe(directus);\n\t\tsetUser(me);\n\t\tsetReloadnumber(reloadnumber+1);\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t\tif(!props.user){\n\t\t\tloadUserInformation();\n\t\t}\n\t}, [])\n\n\tlet avatarAssetId = displayUser?.avatar;\n\n\tlet content = (\n\t\t<Icon\n\t\t\tname={\"account-circle\"}\n      color={usedColor}\n\t\t\tstyle={{}}\n\t\t/>\n\t)\n\n\tif(!!avatarAssetId){\n\t\tcontent = <DirectusImage reloadnumber={reloadnumber+\"\"} showLoading={true} assetId={avatarAssetId} style={{height: \"100%\", width: \"100%\"}} />;\n\t}\n\n\tlet customUserAvatar = ConfigHolder.plugin?.renderCustomUserAvatar(displayUser);\n\tif(!!customUserAvatar){\n\t  content = customUserAvatar;\n  }\n\n\tlet dimension = props?.heightAndWidth || titleBoxHeight;\n\n\tif(!!props.onPress){\n\t\treturn(\n\t\t\t// @ts-ignore\n\t\t\t<MyTouchableOpacity accessibilityLabel={props?.accessibilityLabel} onPress={props.onPress} style={{height: dimension, width: dimension, borderRadius: 6, alignItems: \"center\", justifyContent: \"center\"}}>\n\t\t\t\t{content}\n\t\t\t</MyTouchableOpacity>\n\t\t)\n\t} else {\n\t\treturn(\n\t\t\t// @ts-ignore\n\t\t\t<View style={{height: dimension, width: dimension, borderRadius: 6, alignItems: \"center\", justifyContent: \"center\"}}>\n\t\t\t\t{content}\n\t\t\t</View>\n\t\t)\n\t}\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Navigation} from \"./../../navigation/Navigation\";\nimport {UserProfileAvatar} from \"../../project/UserProfileAvatar\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\nimport {MenuItem} from \"../../navigation/MenuItem\";\nimport {TranslationKeys} from \"../../translations/TranslationKeys\";\nimport {useMyContrastColor} from \"../../theme/useMyContrastColor\";\n\nexport interface AppState{\n  backgroundColor?: string\n  textColor?: string,\n}\nexport const RequiredSettingsButton: FunctionComponent<AppState> = ({...props}: any) => {\n\n  const headerBackgroundColor = props?.backgroundColor;\n  let headerTextColor = props?.textColor;\n  if(!headerTextColor){\n    headerTextColor = useMyContrastColor(headerBackgroundColor);\n  }\n  const textColor = headerTextColor\n\n  let user = ConfigHolder.instance.getUser()\n\n  let usedColor = textColor;\n\n  function handleAvatarPress(){\n    //Navigation.navigateTo(Users, {id: user.id});\n    let menuItem: MenuItem = Navigation.requiredMenuItems[Navigation.DEFAULT_MENU_KEY_SETTINGS];\n    Navigation.navigateTo(menuItem?.route?.path);\n  }\n\n  const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n  const accessibilityLabel = useTranslation(TranslationKeys.profile_and_settings);\n\n  return (\n    <UserProfileAvatar accessibilityLabel={accessibilityLabel} user={user} color={usedColor} onPress={handleAvatarPress} />\n  )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useContext} from 'react';\nimport {Text, Box, Button, Heading, HStack, useBreakpointValue, useColorMode, View,} from 'native-base';\nimport {Layout} from \"./Layout\";\n\nexport const BreakPointLayout = ({\n\tchildren,\n\tnavigation,\n\ttitle,\n\tdoclink,\n\tnavigateTo,\n\t_status,\n\t_hStack,\n\t...props\n}: any) => {\n\n\tlet widthValues = !!props.breakPointWidthValues ? props.breakPointWidthValues : Layout.getWidthValues();\n\tconst boxWidth = useBreakpointValue(widthValues);\n\n\treturn (\n\t\t\t<Box\n\t\t\t\tstyle={{padding: 0, flex: 1, margin: 0 ,alignItems: \"flex-start\"}}\n\t\t\t\t{...props}\n\t\t\t\tflex={1}\n\t\t\t\tpx={0}\n\t\t\t\tmx=\"auto\"\n\t\t\t\tpt={navigation ? '70px' : 0}\n\t\t\t\twidth={boxWidth}\n\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t</Box>\n\t);\n\n\t// { base: '100%', lg: '768px', xl: '1080px' }\n};\n","import {View} from \"native-base\";\nimport React from \"react\";\n\nexport const ParentSpacer = (props) => {\n\n\tconst children = props?.children?.length ? props.children : [props.children]; //if only one child pass into array\n\n\tconst space = props?.style?.space || props?.space;\n\treturn (\n\t\t// @ts-ignore\n\t\t<View\n\t\t\tstyle={[{\n\t\t\t\tflex: 1,\n\t\t\t\tflexDirection: props?.style?.direction || props?.direction,\n\t\t\t}, props?.style]}>\n\t\t\t{children.map((child, index, arr) => (\n\t\t\t\t<>\n\t\t\t\t\t{child}\n\t\t\t\t\t{index < arr.length - 1 && <View style={{width: space, height: space}} />}\n\t\t\t\t</>\n\t\t\t))}\n\t\t</View>\n\t)\n\n}\n","import {View} from 'native-base';\nimport React from 'react';\nimport {ParentSpacer} from \"./ParentSpacer\";\n\nexport const GridLayout = ({\n                                   amountColoumn,\n                                   children,\n                                    divider,\n                                   ...props\n                               }) => {\n\n    if(!children){\n        return null;\n    }\n\n    let amountChildren = children.length;\n    if(amountChildren===0){\n        return null;\n    }\n\n    let amountRows = Math.ceil(amountChildren/amountColoumn);\n    let rows = [];\n    for(let rowIndex =0; rowIndex<amountRows; rowIndex++){\n        let row = [];\n        for(let columnIndex = 0; columnIndex<amountColoumn; columnIndex++){\n            let child = children[rowIndex*amountColoumn+columnIndex];\n            row.push(<View key={\"gridlayout_\"+rowIndex+\"_\"+columnIndex} style={{flex: 1}}>{child}</View>);\n        }\n        rows.push(<ParentSpacer space={props?.paddingHorizontalValue} key={\"gridlayout_\"+rowIndex} style={{flexDirection: \"row\"}}>{row}</ParentSpacer>);\n        if(divider!==undefined){\n            rows.push(divider)\n        }\n    }\n\n    return (\n        <View style={{flex: 1}}>\n            {rows}\n        </View>\n    );\n\n};\n","import React, {useEffect} from \"react\";\nimport {useBreakpointValue, View} from \"native-base\";\nimport {GridLayout} from \"./GridLayout\";\n\nexport const GridList = ({children, beakpointsColumns, paddingHorizontal, paddingVertical, divider,...props}: any) => {\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props])\n\n\tlet paddingVerticalValue = paddingVertical || \"3%\";\n\tlet paddingHorizontalValue = paddingHorizontal || \"2%\";\n\n\tlet renderedCards = [];\n\tif(!!children){\n\t\tlet index = 0;\n\t\tfor(let child of children){\n\t\t\trenderedCards.push(<View style={{paddingVertical: paddingVerticalValue, flex: 1}} key={index}>{child}</View>)\n\t\t\tindex++;\n\t\t}\n\t}\n\n\tlet defaultBreakpoints = {\n\t\tbase: 2,\n\t\tsm: 3,\n\t\tmd: 4,\n\t\tlg: 5,\n\t\txl: 6,\n\t}\n\tlet beakpoints = beakpointsColumns || defaultBreakpoints\n\n\treturn(\n\t\t<View style={[{width: \"100%\"}, {...props?.style}]}>\n\t\t\t<GridLayout\n\t\t\t\tpaddingVerticalValue={paddingVerticalValue}\n\t\t\t\tpaddingHorizontalValue={paddingHorizontalValue}\n\t\t\t\tamountColoumn={useBreakpointValue(beakpoints)}\n\t\t\t\tdivider={divider}\n\t\t\t>\n\t\t\t\t{renderedCards}\n\t\t\t</GridLayout>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from \"react\";\nimport { View } from \"react-native\";\n\ninterface AppState {\n    setDimension?: (x, y, width, height) => any;\n    style?: any;\n}\nexport const ParentDimension: FunctionComponent<AppState> = (props) => {\n\n    return(\n        <View style={props.style} onLayout={(event) => {\n                const {x, y, width, height} = event.nativeEvent.layout;\n                if(!!props.setDimension){\n                    props.setDimension(x, y, width, height);\n                }\n        }}>\n            {props.children}\n        </View>\n    )\n}\n","// @ts-nocheck\nimport React from \"react\";\nimport {Box, View} from \"native-base\";\nimport {Ionicons} from \"@expo/vector-icons\";\nimport {Icon} from \"../components/Icon\";\n\nexport const ShowMoreGradientPlaceholder = (props) => {\n\n\t\treturn (\n\t\t\t<View style={{opacity: 0}}>\n\t\t\t\t\t<Box style={{padding: 12}} >\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tas={Ionicons}\n\t\t\t\t\t\t\t_dark={{ name: 'sunny', color: 'orange.400' }}\n\t\t\t\t\t\t\t_light={{ name: 'moon', color: 'blueGray.100' }}\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tas={Ionicons}\n\t\t\t\t\t\t\t_dark={{ name: 'sunny', color: 'orange.400' }}\n\t\t\t\t\t\t\t_light={{ name: 'moon', color: 'blueGray.100' }}\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t</View>\n    );\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect} from \"react\";\nimport {useColorModeValue, useToken, View} from \"native-base\";\nimport {LinearGradient} from \"expo-linear-gradient\";\nimport {ShowMoreGradientPlaceholder} from \"./ShowMoreGradientPlaceholder\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {ScrollViewProps} from \"react-native\";\n\ninterface AppState {\n  horizontal?: boolean\n}\nexport const ShowMoreGradient: FunctionComponent<AppState> = (props) => {\n  const horizontal = props?.horizontal;\n\n\tconst [lightBg, darkBg] = useToken(\n\t\t'colors',\n\t\t[ConfigHolder.styleConfig.backgroundColor.light, ConfigHolder.styleConfig.backgroundColor.dark],\n\t\t'blueGray.900',\n\t);\n\tconst bgColor = useColorModeValue(lightBg, darkBg);\n\tconst gradColors = [bgColor+'00', bgColor+'FF'];\n\n  useEffect(() => {\n    let isMounted = true;  // mutable flag\n\n    return () => { isMounted = false };  // cleanup toggles value, if unmounted\n  }, []);  // adjust dependencies to your needs\n\n  function renderGradient(){\n    /**\n     * Removed due to cleanUp Bugs in Linear Gradient\n    return (\n      <LinearGradient\n        style={{flex: 4}}\n        colors={gradColors}\n        pointerEvents={'none'}\n      />\n    )\n\n     */\n\n    const heightWidthStyle = horizontal ? {height: \"100%\"} : {width: \"100%\"};\n\n    // Custom LinearGradient\n    const steps = new Array(5).fill(0);\n    return(\n      <>\n        {steps.map((_, i) => (\n          <View\n            pointerEvents={'none'}\n            key={i}\n            style={{\n              flex: 1,\n              backgroundColor: bgColor,\n              opacity: i / steps.length,  // Increase the opacity for each step\n              ...heightWidthStyle\n            }}\n          />\n        ))}\n      </>\n    )\n  }\n\n  const heightWidthStyle = horizontal ? {height: \"100%\", width: \"auto\"} : {width: \"100%\", height: \"auto\", };\n  const flexDirection = horizontal ? \"row\" : \"column\";\n\n\treturn (\n\t\t<View pointerEvents=\"none\" style={{position: \"absolute\", right: 0, bottom: 0, ...heightWidthStyle}}>\n\t\t\t<ShowMoreGradientPlaceholder />\n\t\t\t<View style={{position: \"absolute\", flexDirection: flexDirection, height: \"100%\", width: \"100%\", bottom: 0, right: 0}}>\n        {renderGradient()}\n\t\t\t\t<View style={{flex: 1, backgroundColor: bgColor}} />\n\t\t\t</View>\n\t\t</View>\n\t);\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {ScrollView, ScrollViewProps} from 'react-native';\nimport {ShowMoreGradient} from \"./ShowMoreGradient\";\nimport {View} from \"native-base\";\nimport {ShowMoreGradientPlaceholder} from \"./ShowMoreGradientPlaceholder\";\n\ninterface AppState {\n\thideGradient?: boolean\n  scrollViewProps?: ScrollViewProps\n}\nexport const ScrollViewWithGradient: FunctionComponent<AppState & ScrollViewProps> = (props) => {\n\n  let horizontal = props?.scrollViewProps?.horizontal;\n\n\tlet hideGradient = props.hideGradient;\n\tlet renderedGradient = hideGradient ? null : <ShowMoreGradient horizontal={horizontal} />\n  let renderedPlaceholder = hideGradient ? null : <ShowMoreGradientPlaceholder />\n\n\n\tlet flexDirection = horizontal ? \"row\" : \"column\";\n\n\treturn(\n\t\t<View style={{width: \"100%\", flex: 1, flexDirection: flexDirection}} onLayout={props.onLayout}>\n\t\t\t<ScrollView\n\t\t\t\tstyle={props.style}\n\t\t\t\tcontentContainerStyle={{ width: '100%', alignItems: \"center\", ...props?.contentContainerStyle }}\n\t\t\t\tshowsVerticalScrollIndicator={true}\n        {...props.scrollViewProps}\n\t\t\t>\n\t\t\t\t{props.children}\n        {renderedPlaceholder}\n\t\t\t</ScrollView>\n\t\t\t{renderedGradient}\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {AuthProvider} from \"./AuthProvider\";\nimport {Provider} from \"./Provider\";\nimport {NavigatorHelper} from \"../navigation/NavigatorHelper\";\nimport {Home} from \"../screens/home/Home\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {ServerInfo} from \"@directus/sdk\";\n\ninterface AppState {\n\tserverInfo: ServerInfo;\n\tloading?: boolean,\n  buttonText: string,\n  name: string,\n  icon: any,\n  onPress: any,\n}\n\nexport const AuthProviderCustom: FunctionComponent<AppState> = (props) => {\n\n\tlet provider: Provider = {\n\t\tname: props.name,\n\t\ticon: props.icon\n\t};\n\n\treturn (\n\t\t<AuthProvider serverInfo={props?.serverInfo} provider={provider} buttonText={props.buttonText} callback={props.onPress} />\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {View, Text} from \"native-base\";\nimport {KitchenSkeleton} from \"./../../project/KitchenSkeleton\";\nimport {StringHelper} from \"../../helper/StringHelper\";\n\nexport const MarkdownSkeleton = (props) => {\n\n    function renderTextRow(rows: number){\n        return (\n            <>\n                <Text>{StringHelper.renderZeroSpaceHeight(1)}</Text>\n                <View style={{flexDirection: \"row\"}}>\n                    <Text>{StringHelper.renderZeroSpaceHeight(rows)}</Text>\n                    <KitchenSkeleton style={{width: \"100%\", height: \"100%\", position: \"absolute\"}} >\n                    </KitchenSkeleton>\n                </View>\n            </>\n        )\n    }\n\n    return(\n        <View style={{width: \"100%\"}}>\n            <View style={{width: \"50%\"}} >\n                {renderTextRow(2)}\n            </View>\n            {renderTextRow(1)}\n            {renderTextRow(1)}\n            {renderTextRow(1)}\n            {renderTextRow(1)}\n        </View>\n    )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, useColorMode, useTheme} from \"native-base\";\nimport RenderHtml from 'react-native-render-html';\n\nimport {MarkdownSkeleton} from \"./MarkdownSkeleton\";\nimport {useWindowDimensions} from \"react-native\";\n\nconst MarkdownIt = require('markdown-it');\n\ninterface AppState {\n\tdarkmode?: boolean,\n  hideSkeleton?: boolean,\n  debug?: boolean,\n  markdown?: string,\n  color?: string\n}\nexport const ThemedMarkdown: FunctionComponent<AppState> = (props) => {\n\n  let sourceContent: string = props?.markdown || props.children as string;\n\n  if(sourceContent===undefined && !props.hideSkeleton){\n    return <MarkdownSkeleton />\n  }\n\n\tconst { colorMode, toggleColorMode } = useColorMode();\n\tlet darkMode = colorMode!==\"light\";\n\tif(props.darkmode !== undefined){\n\t\tdarkMode = props.darkmode\n\t}\n\n\tconst theme = useTheme();\n\n\tlet darkModeTextColor = theme[\"colors\"][\"lightText\"]; //darkText is used in lightmode !\n\tlet lightModeTextColor = theme[\"colors\"][\"darkText\"];\n\n\tlet textColor = darkMode ? darkModeTextColor : lightModeTextColor;\n\tif(props?.color){\n\t  textColor = props?.color;\n    }\n\tlet fontSize = theme[\"fontSizes\"][\"lg\"]\n\n  const emToPixel = (em: number) => {\n\t      return em * fontSize;\n  }\n\n  const fontWeightNormal = theme[\"fontWeights\"]?.normal;\n\tconst lineHeightNormalInEm = theme[\"lineHeights\"]?.lg;\n\tconst lineHeightNormal = emToPixel(parseFloat(lineHeightNormalInEm)) || 0;\n\n  const md = new MarkdownIt();\n\n  let option_find_linebreaks = true;\n  if(option_find_linebreaks){\n    sourceContent = sourceContent.replaceAll(\"<br/>\", \"\\n\");\n    sourceContent = sourceContent.replaceAll(\"</br>\", \"\\n\");\n    sourceContent = sourceContent.replaceAll(\"<br>\", \"\\n\");\n    sourceContent = sourceContent.replaceAll(\"<p/>\", \"\\n\");\n    sourceContent = sourceContent.replaceAll(\"</p>\", \"\\n\");\n    sourceContent = sourceContent.replaceAll(\"<p>\", \"\\n\");\n  }\n\n\n  const result = md.render(sourceContent);\n\n  const source = {\n    html: result || \"\"\n  };\n\n  const { width } = useWindowDimensions();\n\n  const tagsStyles = {\n    \"blockquote\": {\n      fontStyle: \"italic\",\n    },\n    \"td\": {\n      borderColor: \"gray\",\n      borderWidth: 1,\n    },\n    \"th\": {\n      borderColor: \"gray\",\n      borderWidth: 1,\n    },\n    \"a\": {\n      color: textColor\n    }\n  }\n\n  const defaultTextProps = {\n    selectable: true,\n    color: textColor,\n    fontSize: fontSize+\"px\",\n    fontStyle: \"normal\",\n    fontWeight: fontWeightNormal+\"px\", // as string because of iOS: NSNumber cannot be converted NSString\n    lineHeight: lineHeightNormal+\"px\", // as string because of iOS: NSNumber cannot be converted NSString\n  };\n\n  if(props?.debug) {\n    return (\n      // @ts-ignore\n      <Text selectable={true}>\n        {result}\n      </Text>\n    )\n  } else {\n    return(\n      <RenderHtml\n        contentWidth={width}\n        // @ts-ignore\n        baseStyle={defaultTextProps}\n        // @ts-ignore\n        defaultTextProps={defaultTextProps}\n        // @ts-ignore\n        tagsStyles={tagsStyles}\n        source={source}\n      />\n    )\n  }\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {ThemedMarkdown} from \"./ThemedMarkdown\";\n\nexport interface AppState{\n    data: any,\n    fieldname: string,\n    color?: string\n}\nexport const DirectusMarkdown: FunctionComponent<AppState> = (props) => {\n\n    let markdown = props.data?.[props?.fieldname]\n\n    return (\n      <ThemedMarkdown color={props?.color}>\n          {markdown}\n      </ThemedMarkdown>\n    )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Text, View} from \"native-base\";\nimport ServerAPI from \"./../../ServerAPI\";\nimport {DirectusMarkdown} from \"./DirectusMarkdown\";\n\nexport interface AppState{\n    collection: string,\n    fieldname: string\n}\nexport const DirectusSingletonMarkdown: FunctionComponent<AppState> = (props) => {\n\n    const [information, setInformations] = useState(undefined);\n\n    async function load(){\n        const directus = ServerAPI.getClient();\n        let answer = await directus.items(props.collection).readByQuery({});\n        console.log(answer)\n        let data = answer?.data;\n        setInformations(data);\n    }\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        load();\n    }, [])\n\n    return (\n      <View style={{width: \"100%\"}}>\n          <DirectusMarkdown data={information} fieldname={props.fieldname} />\n      </View>\n    )\n}\n","// @ts-nocheck\nimport React from \"react\";\nimport {Dimensions, PixelRatio} from 'react-native';\nimport DeviceInfo from 'react-native-device-info'\n//import * as DeviceInfo from 'expo-device';\nimport FingerprintJS from '@fingerprintjs/fingerprintjs'\nimport {PlatformHelper} from \"./PlatformHelper\";\n\nexport interface DeviceInformation{\n  display_width: any,\n  display_height: any,\n  display_scale: any,\n  display_pixelratio: any,\n  display_fontscale: any,\n  isSimulator: boolean,\n  isTablet: boolean,\n  isLandscape: boolean,\n  brand: string,\n  platform: string,\n  systemVersion: string,\n  isIOS: boolean,\n  isAndroid: boolean,\n  isWeb: boolean,\n}\n\nexport class DeviceHelper {\n\n  /** Removed due to privacy policy problems on google\n  private static async getDeviceFingerprint(): Promise<string> {\n    let internalId = await DeviceInfo.getUniqueId();\n    if (PlatformHelper.isWeb()) {\n      try {\n        const fpPromise = FingerprintJS.load()\n        const fp = await fpPromise\n        const result = await fp.get()\n        console.log(result?.visitorId)\n        internalId = result?.visitorId;\n      } catch (e) {\n        console.log(\"Error while getting fingerprint\");\n        console.error(e)\n        internalId = \"unknown-browser-fingerprint\";\n      }\n    }\n    return internalId;\n  }\n   */\n\n  private static async getBrand(): Promise<string> {\n    let brand = await DeviceInfo.getBrand();\n    if(PlatformHelper.isWeb()){\n      const baseOs = await DeviceInfo.getBaseOs();\n      brand = baseOs;\n    }\n    return brand;\n  }\n\n  static async getInformations(): Promise<DeviceInformation> {\n    const windowWidth = Dimensions.get('screen').width;\n    const windowHeight = Dimensions.get('screen').height;\n    const windowScale = Dimensions.get('screen').scale;\n    const isSimulator = await DeviceInfo.isEmulator();\n    const isTablet = await DeviceInfo.isTablet();\n    const brand = await DeviceHelper.getBrand();\n    const platform = PlatformHelper.getPlatformDisplayName();\n    const systemVersion = await DeviceInfo.getSystemVersion();\n    let isLandscape = await DeviceInfo.isLandscape();\n    if(PlatformHelper.isWeb()){\n      isLandscape = windowWidth > windowHeight;\n    }\n\n    return {\n      display_width: windowWidth,\n      display_height: windowHeight,\n      display_scale: windowScale,\n      display_pixelratio: PixelRatio.get(),\n      display_fontscale: PixelRatio.getFontScale(),\n      isSimulator: isSimulator,\n      isTablet: isTablet,\n      isLandscape: isLandscape,\n      brand: brand,\n      platform: platform,\n      systemVersion: systemVersion,\n      isIOS: PlatformHelper.isIOS(),\n      isAndroid: PlatformHelper.isAndroid(),\n      isWeb: PlatformHelper.isWeb(),\n    }\n  }\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from \"react\";\nimport {PixelRatio, ViewProps} from \"react-native\";\nimport {View} from \"native-base\";\n\nexport const ViewPixelRatio: FunctionComponent<ViewProps> = (props) => {\n\n    let mergedStyle = {};\n    if(Array.isArray(props.style)){\n        for(let style of props.style){\n            mergedStyle = {...mergedStyle, ...style};\n        }\n    } else {\n        mergedStyle = props.style\n    }\n\n    let copiedStyle = JSON.parse(JSON.stringify(mergedStyle || {}));\n\n    function fixAbsoluteValues(copiedValue){\n        if(!!copiedValue && !isNaN(copiedValue) && !copiedValue.endsWith(\"%\")){\n            let absoluteValue = parseInt(copiedValue);\n            return PixelRatio.getPixelSizeForLayoutSize(absoluteValue)\n        }\n        return copiedValue;\n    }\n\n    function fixStyleForFields(style, ...fieldnames){\n        for(let fieldname of fieldnames){\n            style[fieldname] = fixAbsoluteValues(style[fieldname]);\n        }\n        return style;\n    }\n\n    function getFieldVariations(basefield){\n        return [basefield, basefield+\"Vertical\", basefield+\"Horizontal\", basefield+\"Left\", basefield+\"Right\", basefield+\"Top\", basefield+\"Bottom\"]\n    }\n\n    function getFieldsVariations(...basefields){\n        let variations = [];\n        for(let basefield of basefields){\n            variations = variations.concat(getFieldVariations(basefield));\n        }\n        return variations;\n    }\n\n    copiedStyle = fixStyleForFields(copiedStyle, getFieldsVariations(\"padding\", \"margin\"))\n\n\n\n    return(\n        <View style={copiedStyle}>\n            {props.children}\n        </View>\n    )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useRef, useState} from \"react\";\nimport {ViewProps} from \"react-native\";\nimport {View} from \"native-base\";\n\nexport const ViewPercentageBorderradius: FunctionComponent<ViewProps> = ({style, children, ...props}) => {\n\n    const [dimension, setDimension] = useState({x: undefined, y: undefined, width: undefined, height: undefined, reloadNumber: 0});\n\n  const isMounted = useRef(true);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n    let copiedStyle = JSON.parse(JSON.stringify(style || {}));\n\n  function fixPercentage(copiedValue){\n    if(!!copiedValue && typeof copiedValue===\"string\" && copiedValue.endsWith(\"%\")){\n      let percentage = parseInt(copiedValue);\n      let width = dimension.width;\n      if(!!width && !!percentage){\n        let radiusAsInt = parseInt(\"\"+(percentage*width/100))\n        return radiusAsInt;\n      } else {\n        return 0; // null works for ios & web but not on android: \"android.graphics.Path.isEmpty()\"\n      }\n    }\n    return copiedValue;\n  }\n\n    function fixStyleForFields(styles, ...fieldnames){\n        let mergedStyle = {};\n        if(!!styles){\n            if(!styles?.length){\n                mergedStyle = styles;\n            } else if(styles?.length > 1) {\n                styles.forEach(style => {\n                    mergedStyle = {...mergedStyle, ...style};\n                });\n            }\n        }\n\n        for(let fieldname of fieldnames){\n            mergedStyle[fieldname] = fixPercentage(mergedStyle[fieldname]);\n        }\n        return mergedStyle;\n    }\n\n    copiedStyle = fixStyleForFields(copiedStyle, \"borderRadius\", \"borderRadius\", \"borderTopRightRadius\", \"borderTopLeftRadius\", \"borderBottomRightRadius\", \"borderBottomLeftRadius\")\n\n    let outerStyle = {...copiedStyle, ...{}};\n    if(!dimension?.width ||  !dimension?.height){\n        outerStyle.opacity = 0; // render first time invisible, since we dont know the size yet\n    }\n\n    return(\n        <View {...props} style={[outerStyle]} onLayout={(event) => {\n                const {x, y, width, height} = event.nativeEvent.layout;\n          if (isMounted.current) {\n            setDimension({x: x, y: y, width: width, height: height, reloadNumber: dimension.reloadNumber+1});\n          }\n        }}>\n            {children}\n        </View>\n    )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {Icon} from \"../Icon\";\nimport {ViewPixelRatio} from \"../ViewPixelRatio\";\nimport {ViewPercentageBorderradius} from \"../ViewPercentageBorderradius\";\n\nexport interface SettingsRowProps {\n    leftContent: any | string | number,\n    rightContent?: any | string,\n    contentShouldGrow?: boolean,\n    rightIcon?: any,\n    leftIcon?: any,\n    color?: any\n    flex?: number,\n    debug?: boolean\n}\nexport const SettingsRowInner: FunctionComponent<SettingsRowProps> = (props) => {\n\n    const debug = props?.debug;\n\n    let outerBackgroundColor = !!debug ? \"#FF0000\" : \"transparent\";\n    let leftBackgroundColor = !!debug ? \"#FF6600\" : \"transparent\";\n    let rightBackgroundColor = !!debug ? \"#FFAA00\" : \"transparent\";\n\n\n    let leftContent = props?.leftContent;\n    if(typeof leftContent === \"string\" || typeof leftContent === \"number\"){\n        leftContent = <Text>{props.leftContent+\"\"}</Text>\n    }\n\n    let rightContent = props?.rightContent;\n    if(typeof rightContent === \"string\" || typeof leftContent === \"number\"){\n        rightContent = <Text>{props.rightContent}</Text>\n    }\n\n    function renderLeftIcon(){\n        if(props?.leftIcon){\n            return(\n                <ViewPixelRatio style={{paddingRight: 10}}>\n                    <ViewPercentageBorderradius style={{backgroundColor: props.color, paddingHorizontal: 5, borderRadius: \"20%\", justifyContent: \"center\"}}>\n                        {props.leftIcon}\n                    </ViewPercentageBorderradius>\n                </ViewPixelRatio>\n            )\n        }\n        return null;\n    }\n\n    function renderRightIcon(){\n        let rightIcon = props?.rightIcon\n        if(rightIcon===undefined){\n            rightIcon = <View style={{opacity: 0}}><Text selectable={false}><Icon name={\"chevron-right\"}  /></Text></View>;\n        }\n        if(rightIcon===null){\n            return null;\n        }\n\n            return(\n                <ViewPixelRatio style={{marginLeft: 0}}>\n                    <ViewPercentageBorderradius style={{backgroundColor: props.color, paddingHorizontal: 5, borderRadius: \"20%\", justifyContent: \"center\"}}>\n                        {rightIcon}\n                    </ViewPercentageBorderradius>\n                </ViewPixelRatio>\n            )\n    }\n\n    let innerFlexStyle = {flex: props?.flex}\n\n    let renderedLeftContent = null;\n    if(leftContent){\n        renderedLeftContent = (\n            <View style={{justifyContent: \"flex-start\", flexWrap: \"wrap\", alignItems: \"flex-start\", backgroundColor: leftBackgroundColor, ...innerFlexStyle}}>\n                {leftContent}\n            </View>\n        )\n    }\n\n    let renderedRightContent = null;\n    if(rightContent){\n        renderedRightContent = (\n            <View style={{flexWrap: \"wrap-reverse\" ,marginLeft: 5,justifyContent: \"flex-start\", alignItems: \"flex-start\", backgroundColor: rightBackgroundColor, ...innerFlexStyle}}>\n                {rightContent}\n            </View>\n        )\n    }\n\n    return(\n        <View style={{flexDirection: \"row\", justifyContent: \"flex-start\", paddingHorizontal: 10, paddingVertical: 10, flexGrow: 1, backgroundColor: outerBackgroundColor}}>\n            {renderLeftIcon()}\n            {renderedLeftContent}\n            {renderedRightContent}\n            <View style={{alignSelf: \"flex-start\", alignItems: \"flex-end\", flexDirection: \"row\"}}>\n                {renderRightIcon()}\n            </View>\n        </View>\n    )\n}\n","// @ts-nocheck\n\nexport enum AccessibilityRoles {\n    none = 'none',\n    button = 'button',\n    link = 'link',\n    search = 'search',\n    image = 'image',\n    keyboardkey = 'keyboardkey',\n    text = 'text',\n    adjustable = 'adjustable',\n    imagebutton = 'imagebutton',\n    header = 'header',\n    summary = 'summary',\n    alert = 'alert',\n    checkbox = 'checkbox',\n    combobox = 'combobox',\n    menu = 'menu',\n    menubar = 'menubar',\n    menuitem = 'menuitem',\n    progressbar = 'progressbar',\n    radio = 'radio',\n    radiogroup = 'radiogroup',\n    scrollbar = 'scrollbar',\n    spinbutton = 'spinbutton',\n    switch = 'switch',\n    tab = 'tab',\n    tablist = 'tablist',\n    timer = 'timer',\n    toolbar = 'toolbar'\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {TouchableOpacity} from \"react-native\";\nimport {SettingsRowInner} from \"./settings/SettingsRowInner\";\nimport {SettingsSpacer} from \"./settings/SettingsSpacer\";\nimport {ScrollViewWithGradient} from \"../utils/ScrollViewWithGradient\";\nimport {useProjectColor} from \"../templates/useProjectColor\";\nimport {useMyContrastColor} from \"../theme/useMyContrastColor\";\nimport {AccessibilityRoles} from \"../helper/AccessibilityRoles\";\n\nexport type DetailsComponentMenuType = {\n  color?: string,\n  activeColor?: string,\n  onPress?: (menuKey: string) => Promise<boolean | undefined>, // an async onPress function that returns a boolean or undefined\n  element?: JSX.Element,\n  menuButtonContent?: any | string,\n  menuButtonText?: string,\n  icon?: JSX.Element,\n  amount?: number,\n}\n\nexport interface AppState {\n  // menus are a dict with DetailsComponentMenuType as value and a string as key\n  menus: Record<string, DetailsComponentMenuType>,\n  spacer?: any,\n  size?: string,\n  defaultMenuKey?: string,\n  defaultColor?: string,\n  defaultActiveColor?: string,\n  defaultTextColor?: string,\n  defaultActiveTextColor?: string,\n  hideSelection?: boolean,\n  style?: any,\n  flex?: number,\n  useScrollViewForHeader?: boolean,\n}\n\nexport const DetailsComponentMenus: FunctionComponent<AppState> = (props) => {\n\n  let projectColor = useProjectColor()\n\n  let defaultButtonColor = props?.defaultColor || projectColor || \"orange\";\n  let defaultTextColor = props?.defaultTextColor || useMyContrastColor(defaultButtonColor) || \"white\";\n  let defaultActiveTextColor = props?.defaultActiveColor || defaultTextColor;\n\n  if (props?.hideSelection) {\n    defaultActiveTextColor = defaultTextColor;\n  }\n\n  const useScrollViewForHeader = props?.useScrollViewForHeader || false;\n\n  const menus = props.menus || {};\n  const menuKeys = Object.keys(menus);\n  const defaultMenuKey = props?.defaultMenuKey || menuKeys[0];\n\n  const [selectedMenuKey, setSelectedMenuKey] = useState(defaultMenuKey);\n  let selectedMenu = menus[selectedMenuKey];\n  let element = selectedMenu?.element;\n\n  function renderMenuButton(menuKey) {\n    let menu = menus[menuKey];\n    let isSelected = selectedMenuKey === menuKey;\n\n    let color = menu?.color || defaultButtonColor;\n\n    let buttonContent = menu?.menuButtonContent;\n    let buttonText = menu?.menuButtonText;\n    const onPressMenu = menu?.onPress;\n\n    let amount = menu?.amount;\n    let amountText = \"\";\n    if (amount !== undefined) {\n      amountText = \" (\" + amount + \")\";\n    }\n\n    let icon = menu?.icon;\n    let renderedIcon = null;\n    if (!!icon) {\n      renderedIcon = icon;\n    }\n\n    let additionalStyle = {};\n    let fontColor = defaultTextColor;\n    let activeColorHighlight = undefined\n    if (isSelected && !props?.hideSelection) {\n      activeColorHighlight = defaultActiveTextColor;\n    }\n\n    let usedMenuButtonContent = null;\n    if (buttonText !== undefined) {\n      usedMenuButtonContent = <Text color={fontColor}>{buttonText}</Text>\n    }\n    if (buttonContent !== undefined) {\n      usedMenuButtonContent = buttonContent;\n    }\n\n    let heightHighlight = 2;\n\n    let leftContent = (\n      <View style={{flexDirection: \"column\", alignItems: \"center\"}}>\n        <View style={{flexDirection: \"row\", alignItems: \"center\"}}>\n          {usedMenuButtonContent}<Text color={fontColor}>{amountText}</Text>\n        </View>\n        <View style={{width: \"100%\", backgroundColor: activeColorHighlight, height: heightHighlight}}></View>\n      </View>\n    )\n\n    return (\n      <View style={{marginHorizontal: 5, marginTop: 5, marginBottom: 0}} key={menuKey}>\n        <TouchableOpacity\n            accessibilityState={{expanded: isSelected}}\n            accessibilityRole={AccessibilityRoles.tab}\n            style={[{\n          borderColor: \"transparent\",\n          borderWidth: 0,\n          justifyContent: \"center\",\n          flexDirection: \"row\",\n          backgroundColor: color,\n          borderRadius: 10\n        }, additionalStyle]}\n                          onPress={async () => {\n                            let proceed = true;\n                            if (onPressMenu) {\n                              let result = await onPressMenu(menuKey);\n                              if (result !== undefined && result !== null) {\n                                proceed = result;\n                              }\n                            }\n                            if (proceed) {\n                              setSelectedMenuKey(menuKey)\n                            }\n                          }}\n        >\n          <SettingsRowInner leftContent={leftContent} leftIcon={renderedIcon} rightIcon={null}/>\n        </TouchableOpacity>\n      </View>\n    )\n  }\n\n  function renderMenuButtons() {\n    let menuKeys = Object.keys(menus);\n    let output = [];\n    for (let menuKey of menuKeys) {\n      if (menus[menuKey]) {\n        output.push(renderMenuButton(menuKey))\n      }\n    }\n\n    let style = props?.style || {\n      width: \"100%\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    };\n\n    let content: any = output;\n    if (useScrollViewForHeader) {\n      content = (\n        <ScrollViewWithGradient\n          scrollViewProps={{\n            horizontal: true,\n          }}\n        >\n          {output}\n        </ScrollViewWithGradient>\n      )\n    }\n\n    return (\n      <View style={style}>\n        {content}\n      </View>\n    )\n  }\n\n  const spacer = props?.spacer !== undefined ? props?.spacer : <SettingsSpacer/>;\n\n  return (\n    <View style={{width: \"100%\", flex: props?.flex}}>\n      {renderMenuButtons()}\n      {spacer}\n      {element}\n    </View>\n  )\n\n}\n","// @ts-nocheck\nimport React from 'react';\nimport {useTheme,} from 'native-base';\nimport ColorCodeHelper from \"./ColorCodeHelper\";\n\nexport function useDefaultButtonColor() {\n  const theme = useTheme();\n  const isDarkMode = ColorCodeHelper.isDarkMode()\n  if(isDarkMode) {\n    return theme?.components?.Button?.defaultProps._dark?.backgroundColor\n  } else {\n    return theme?.components?.Button?.defaultProps._light.backgroundColor\n  }\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {Divider, View} from \"native-base\";\nimport {Icon} from \"../Icon\";\nimport {MyThemedBox} from \"../../helper/MyThemedBox\";\nimport {SettingsRowInner} from \"./SettingsRowInner\";\nimport {MyTouchableOpacity} from \"../buttons/MyTouchableOpacity\";\nimport {AccessibilityState} from \"react-native\";\n\nexport interface SettingsRowProps {\n    leftContent: string | any,\n    rightContent?: string | any,\n    leftIcon?: any | string,\n    rightIcon?: any,\n    onPress?: any,\n    color?: any\n    hideLeftContent?: boolean,\n    expandable?: boolean,\n    expanded?: boolean,\n    customDivider?: any,\n    accessibilityLabel?: string,\n    accessibilityRole?: string,\n    accessibilityState?: any,\n    flex?: number,\n    disabled?: boolean\n}\nexport const SettingsRow: FunctionComponent<SettingsRowProps> = (props) => {\n\n    const expanded = props.expanded;\n\n    let onPress = props?.onPress;\n\n    const [expandedState, setExpandedState] = React.useState(expanded);\n\n    let expandable = props?.children !== undefined;\n    if(props?.expandable !== undefined){\n        expandable = props.expandable\n    }\n\n    let defaultAccessibilityState = undefined;\n\n    if(expandable){\n        onPress = () => {\n            setExpandedState(!expandedState);\n            if(props?.onPress){\n                props.onPress()\n            }\n        }\n        defaultAccessibilityState = {expanded: expandedState}\n    }\n\n    let accessibilityLabel = props?.accessibilityLabel\n    if (accessibilityLabel === undefined) {\n        accessibilityLabel = \"\";\n        let leftContent = props?.leftContent;\n        if(typeof leftContent === \"string\"){\n            accessibilityLabel += leftContent\n        }\n        if(!!accessibilityLabel && accessibilityLabel.length > 0){\n            accessibilityLabel += \" \"\n        }\n        let rightContent = props?.rightContent;\n        if(typeof rightContent === \"string\"){\n            accessibilityLabel += rightContent\n        }\n    }\n\n    function renderLeftIcon(){\n        if(props?.leftIcon){\n            if(typeof props?.leftIcon === \"string\"){\n                return <Icon name={props.leftIcon} />\n            }\n            return props.leftIcon\n        }\n        return null;\n    }\n\n    function renderInner(showPress){\n        let rightIcon = props?.rightIcon\n        if(showPress && !rightIcon){\n            rightIcon = <Icon name={\"chevron-right\"}  />;\n            if(expandedState){\n                rightIcon = <Icon name={\"chevron-down\"}  />;\n            }\n        }\n\n\n        const flex = props.flex!==undefined ? props.flex : 1;\n\n        return(\n            <>\n                <SettingsRowInner flex={flex} leftContent={props?.leftContent} leftIcon={renderLeftIcon()} rightContent={props?.rightContent} rightIcon={rightIcon} />\n            </>\n        )\n    }\n\n    function renderOuter(){\n        let children = expandedState ? props.children : null\n\n      const divider = props.customDivider!==undefined ? props.customDivider : <Divider />\n\n        if(!!onPress){\n            return(\n              // @ts-ignore\n                <>\n                  <MyTouchableOpacity accessibilityState={defaultAccessibilityState || props?.accessibilityState} disabled={props?.disabled} accessibilityLabel={accessibilityLabel} key={props?.key+props.leftIcon} onPress={onPress} >\n                    {renderInner(true)}\n                  </MyTouchableOpacity>\n                  {children}\n                  {divider}\n                </>\n            )\n        }\n        return(\n          // @ts-ignore\n            <View key={props?.key+props.leftIcon} >\n                {renderInner(false)}\n                {children}\n            </View>\n        )\n    }\n\n    return(\n        <MyThemedBox _shadeLevel={1}  >\n            {renderOuter()}\n        </MyThemedBox>\n    )\n}\n","import React, {FunctionComponent, useState} from \"react\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\nimport {TranslationKeys} from \"../../translations/TranslationKeys\";\nimport {SettingsRow, SettingsRowProps} from \"./SettingsRow\";\nimport {Layout} from \"../../templates/Layout\"\nimport {Switch, Text, View} from \"native-base\";\nimport {ViewPixelRatio} from \"../ViewPixelRatio\";\nimport {PlatformHelper} from \"../../helper/PlatformHelper\";\nimport {AccessibilityRoles} from \"../../helper/AccessibilityRoles\";\n\ninterface AppState {\n    value: boolean,\n    accessibilityLabel: string,\n    onPress?: (nextValue: boolean) => {},\n    onTrackColor?: string,\n    debug?: boolean,\n    disabled?: boolean\n\n}\nexport const SettingsRowBooleanSwitch: FunctionComponent<AppState & SettingsRowProps> = ({accessibilityLabel,...props}) => {\n\n    const debug = props?.debug\n\n    const [isCheckedRaw, setIsChecked] = useState(props?.value)\n    const isChecked = isCheckedRaw===true\n\n    const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n    const translationSwitch = useTranslation(TranslationKeys.switch);\n    const translationDisabled = useTranslation(TranslationKeys.button_disabled);\n\n    let accessibilityLabelWithFunction = accessibilityLabel ? accessibilityLabel+\": \"+translationSwitch : translationSwitch\n    if(props?.disabled){\n      accessibilityLabelWithFunction += \" (\"+translationDisabled+\")\";\n    }\n\n    let smallDevice = Layout.usesSmallDevice();\n    let size = smallDevice ? \"md\" : \"lg\"\n\n    function onPress(){\n        const nextValue = !isChecked;\n        if(nextValue){\n            setIsChecked(true);\n        } else {\n            setIsChecked(null);\n        }\n        if(!!props.onPress){\n            props.onPress(nextValue);\n        }\n    }\n\n    let debugContent = null;\n    if(debug){\n        debugContent = (\n          <View>\n            <Text>{\"isChecked: \"+JSON.stringify(isChecked)}</Text>\n            <Text>{\"props?.disabled: \"+JSON.stringify(props?.disabled)}</Text>\n          </View>\n        )\n    }\n\n    let rightContent = (\n        <ViewPixelRatio style={{paddingRight: 10}}>\n            {debugContent}\n            <Switch\n                    accessibilityRole={AccessibilityRoles.switch}\n                    disabled={props?.disabled}\n                    size={size}\n                    onTrackColor={props?.onTrackColor}\n                    isChecked={isChecked}\n                    onToggle={() => {\n                        if(PlatformHelper.isWeb()){\n                            //do nothing since, the touchable opacity overlays it on web\n                        } else {\n                            onPress();\n                        }\n                    }}  />\n        </ViewPixelRatio>\n    )\n\n    return(\n        <SettingsRow accessibilityLabel={accessibilityLabelWithFunction} accessibilityRole={\"switch\"} {...props} rightIcon={rightContent} onPress={onPress} />\n    )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Image, View} from \"native-base\";\nimport {ServerInfoHelper} from \"../helper/ServerInfoHelper\";\nimport {ServerInfo} from \"@directus/sdk\";\nimport {DirectusImage} from \"./DirectusImage\";\nimport ServerAPI from \"../ServerAPI\";\nimport {ConfigHolder} from \"../ConfigHolder\";\n\ninterface AppState {\n\tserverInfo?: ServerInfo;\n\trounded?: boolean\n  size?: string\n  titleBoxHeight?: number\n}\nexport const ProjectLogo: FunctionComponent<AppState> = (props) => {\n\n  let titleBoxHeight = props?.titleBoxHeight || 60;\n  if(props?.size === \"sm\"){\n    titleBoxHeight = 40;\n  }\n\n\tconst serverInfo = props.serverInfo || ServerAPI.tempStore.serverInfo;\n\tlet project_color = ServerInfoHelper.getProjectColor(serverInfo);\n\tlet project_logo_asset_id = ServerInfoHelper.getProjectLogoAssetId(serverInfo);\n\n\tconst heightAndWidth = titleBoxHeight || 10;\n\n\n\tif(!!ConfigHolder?.plugin?.renderCustomProjectLogo){\n\t  let rendered = ConfigHolder?.plugin?.renderCustomProjectLogo({\n      serverInfo: serverInfo,\n      height: heightAndWidth,\n      width: heightAndWidth,\n      backgroundColor: project_color,\n\t  });\n\t  if(!!rendered){\n\t    return rendered;\n    }\n  }\n\n\tlet fallbackElement = (\n    <View style={{height: heightAndWidth, width: heightAndWidth, backgroundColor: project_color, borderRadius: heightAndWidth/6, alignItems: \"center\", justifyContent: \"center\", overflow: \"hidden\"}}>\n\n    </View>\n  )\n\n\treturn(\n\t\t// @ts-ignore\n\t\t<View style={{height: heightAndWidth, width: heightAndWidth, alignItems: \"center\", justifyContent: \"center\", overflow: \"hidden\"}}>\n\t\t\t<DirectusImage alt={\"\"}\n\t\t\t\t\t\t   isPublic={true}\n\t\t\t\t\t\t   assetId={project_logo_asset_id}\n\t\t\t\t\t\t   style={{height: heightAndWidth, width: heightAndWidth}}\n               fallbackElement={fallbackElement}\n      />\n\t\t</View>\n\t)\n}\n","import React from \"react\";\nimport {StringHelper} from \"./StringHelper\";\n\nexport class DateHelper {\n\n\tstatic formatDateToReadable(offerDate, withYear?, withTime?){\n\t\tlet date = offerDate;\n\t\tif(!offerDate){\n\t\t\tdate = new Date();\n\t\t}\n\t\tif(typeof offerDate===\"string\"){\n\t\t\tdate = new Date(offerDate);\n\t\t}\n\t\tlet iso = date.toISOString();\n\t\tlet trimmed = iso.slice(0, \"YYYY-MM-DD\".length);\n\t\tlet splits = trimmed.split(\"-\");\n\t\tlet years = splits[0];\n\t\tlet month = splits[1];\n\t\tlet days = splits[2];\n\n\t\tlet firstPart = \"\";\n\t\tlet hours = date.getHours();\n\t\tlet minutes = date.getMinutes();\n\t\tif(withTime){\n\t\t\tlet hoursWithPad = hours < 10 ? \"0\"+hours : hours;\n\t\t\tlet minutesWithPad = minutes < 10 ? \"0\"+minutes : minutes;\n\t\t\tfirstPart = hoursWithPad+\":\"+minutesWithPad+\" \";\n\t\t}\n\n\t\tfirstPart+=days+\".\"+month+\".\"\n\t\tif(withYear){\n\t\t\treturn firstPart+years;\n\t\t} else {\n\t\t\treturn firstPart;\n\t\t}\n\t}\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {AlertDialog, Button, Heading, Modal, Text, View} from \"native-base\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\nimport {DetailsComponentMenus, DetailsComponentMenuType} from \"../../components/DetailsComponentMenus\";\nimport {TranslationKeys} from \"../../translations/TranslationKeys\";\nimport {RequiredSynchedStates} from \"../../synchedstate/RequiredSynchedStates\";\nimport {useSynchedCookieConfig, useSynchedJSONState} from \"../../synchedstate/SynchedState\";\nimport {Layout} from \"../../templates/Layout\";\nimport {useProjectColor} from \"../../templates/useProjectColor\";\nimport {useDefaultButtonColor} from \"../../theme/useDefaultButtonColor\";\nimport {SettingsRowBooleanSwitch} from \"../../components/settings/SettingsRowBooleanSwitch\";\nimport {LegalRequiredLinks} from \"../legalRequirements/LegalRequiredLinks\";\nimport {ScrollViewWithGradient} from \"../../utils/ScrollViewWithGradient\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\nimport {useBackgroundColor} from \"../../templates/useBackgroundColor\";\nimport {ProjectLogo} from \"../../project/ProjectLogo\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {KitchenSafeAreaView} from \"../../components/KitchenSafeAreaView\";\nimport {\n  CookieDetails,\n  CookieGroupEnum,\n  CookieHelper,\n  getAcceptAllCookieConfig,\n  getDefaultCookieConfig\n} from \"./CookieHelper\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {MyTouchableOpacity} from \"../../components/buttons/MyTouchableOpacity\";\nimport {Linking} from \"react-native\";\nimport {MyThemedBox} from \"../../helper/MyThemedBox\";\nimport {useMyContrastColor} from \"../../theme/useMyContrastColor\";\nimport {AccessibilityRoles} from \"../../helper/AccessibilityRoles\";\n\ninterface AppState {\n  autoOpenCookies?: boolean;\n}\nexport const CookieInformationInner: FunctionComponent<AppState> = ({autoOpenCookies, ...props}) => {\n\n  if(!ConfigHolder.useCookiePolicy){\n    return null;\n  }\n\n  const menu_key_cookie_consent = \"cookieConsent\";\n  const menu_key_cookie_details = \"cookieDetails\";\n  const menu_key_cookie_about = \"cookieAbout\";\n  const backgroundColor = useBackgroundColor();\n\n  const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n  let project_color = useProjectColor()\n  const project_color_contrast_color = useMyContrastColor(project_color);\n\n  const defaultButtonColor = useDefaultButtonColor();\n  const defaultButtonContrastColor = useMyContrastColor(defaultButtonColor);\n\n  const width = Layout.useBaseTemplateContentWidth()\n\n  const [cookieConfig, setCookieConfig] = useSynchedCookieConfig();\n  let [tempCookieConfig, setTempCookieConfig] = useState(cookieConfig);\n\n  const date_consent = cookieConfig?.date_consent;\n  const date_consent_human_readable = getHumanReadableDate(date_consent);\n  const date_cookie_policy_updated = undefined;\n  const date_cookie_policy_updated_human_readable = getHumanReadableDate(date_cookie_policy_updated);\n\n  function getHumanReadableDate(date: string | undefined): string {\n    if (!date) {\n      return \"/\";\n    }\n    return DateHelper.formatDateToReadable(new Date(date), true, true);\n  }\n\n  const translation_cookies = useTranslation(TranslationKeys.cookies);\n  const translation_cookie_policy_consent = useTranslation(TranslationKeys.cookie_policy_consent)\n  const translation_cookie_policy_details = useTranslation(TranslationKeys.cookie_policy_details)\n  const translation_cookie_policy_about = useTranslation(TranslationKeys.cookie_policy_about)\n\n  const translation_cookie_policy_button_accept_all = useTranslation(TranslationKeys.cookie_policy_button_accept_all)\n  const translation_cookie_policy_button_deny_all = useTranslation(TranslationKeys.cookie_policy_button_deny_all)\n  const translation_cookie_policy_button_allow_selected = useTranslation(TranslationKeys.cookie_policy_button_allow_selected)\n\n  const translation_cookie_policy_details_name = useTranslation(TranslationKeys.cookie_policy_details_name)\n  const translation_cookie_policy_details_purpose = useTranslation(TranslationKeys.cookie_policy_details_purpose)\n  const translation_cookie_policy_details_type = useTranslation(TranslationKeys.cookie_policy_details_type)\n  const translation_cookie_policy_details_expiry = useTranslation(TranslationKeys.cookie_policy_details_expiry)\n  const translation_cookie_policy_details_provider = useTranslation(TranslationKeys.cookie_policy_details_provider)\n\n  const translation_cookie_policy_consent_date = useTranslation(TranslationKeys.cookie_policy_consent_date)\n  const translation_cookie_policy_policy_date_updated = useTranslation(TranslationKeys.cookie_policy_policy_date_updated)\n\n  const translation_save_current_selection = translation_cookie_policy_button_allow_selected;\n\n  const [default_menu_key, setDefaultMenuKey] = useState(menu_key_cookie_consent);\n\n  let [isOpen, setIsOpen] = useSynchedJSONState(RequiredSynchedStates.showCookies)\n\n  function getMenu(translation_text, element): DetailsComponentMenuType {\n    return {\n      element: element,\n      menuButtonText: translation_text,\n      onPress: (menuKey) => {\n        setDefaultMenuKey(menuKey)\n      }\n    }\n  }\n\n  const menu_consent: DetailsComponentMenuType = getMenu(translation_cookie_policy_consent, renderCookiesConsent());\n  const menu_details: DetailsComponentMenuType = getMenu(translation_cookie_policy_details, renderCookieDetails());\n  const menu_about: DetailsComponentMenuType = getMenu(translation_cookie_policy_about, renderCookiesAbout());\n\n\n  const menus: Record<string, DetailsComponentMenuType> = {\n    [menu_key_cookie_consent]: menu_consent,\n    [menu_key_cookie_details]: menu_details,\n    [menu_key_cookie_about]: menu_about\n  }\n\n  // corresponding componentDidMount\n  useEffect(() => {\n\n  }, [])\n\n  function acceptCookiesSelected(){\n    handleDecision(tempCookieConfig);\n  }\n\n  function denyCookiesAll(){\n    tempCookieConfig = getDefaultCookieConfig();\n    handleDecision({...tempCookieConfig});\n  }\n\n  function acceptCookiesAll(){\n    tempCookieConfig = getAcceptAllCookieConfig();\n    handleDecision({...tempCookieConfig});\n  }\n\n  function handleDecision(cookie_config){\n    cookie_config.date_consent = new Date().getTime();\n    setCookieConfig({...cookie_config});\n    setTempCookieConfig({...cookie_config});\n    // add a small delay to make sure the user sees the change\n    setTimeout(() => {\n      setIsOpen(false);\n    } , 500);\n  }\n\n  function renderCookiesConsentScrollView(){\n    return (\n      <ScrollViewWithGradient>\n        <View style={{\n          flex: 1,\n          width: \"100%\",\n          alignItems: \"center\", justifyContent: \"center\",\n          flexDirection: 'row',\n          flexWrap: 'wrap', // Enable wrapping of items\n        }}>\n          <View style={{width: \"100%\"}}>\n            {ConfigHolder.plugin.getCookieComponentConsent()}\n          </View>\n          <LegalRequiredLinks />\n        </View>\n      </ScrollViewWithGradient>\n    )\n  }\n\n  function renderSwitchCookie(type: string, disabled: boolean = false){\n    let translation_text = ConfigHolder.plugin.getCookieGroupName(type);\n\n    return (\n      <SettingsRowBooleanSwitch\n        disabled={disabled}\n        key={\"renderSwitchCookie\"+type+tempCookieConfig.consent[type]}\n        value={tempCookieConfig.consent[type]} accessibilityLabel={translation_text}\n        leftContent={<Text>{translation_text}</Text>}\n        onValueChange={(value) => {\n          tempCookieConfig.consent[type] = value;\n          setTempCookieConfig({...tempCookieConfig});\n        }} />\n    )\n  }\n\n  function renderSwitchCookieForAdditionalGroups(){\n    const additional_groups = ConfigHolder.plugin.getCookieAdditionalGroups()\n    if(additional_groups.length===0){\n      return null;\n    } else {\n      let output = [];\n      for(let i=0; i<additional_groups.length; i++){\n        let group = additional_groups[i];\n        output.push(renderSwitchCookie(group, false));\n      }\n      return output;\n    }\n  }\n\n  function renderPolicyUpdatedDate(){\n    if(!date_cookie_policy_updated){\n      return null;\n    }\n\n    return(\n      <Text>{translation_cookie_policy_policy_date_updated+\": \"+date_cookie_policy_updated_human_readable}</Text>\n    )\n  }\n\n  function renderCookiesConsent(){\n      return (\n        <View style={{width: \"100%\", flex: 1}}>\n          <View style={{width: \"100%\", flex: 1}}>\n            {renderCookiesConsentScrollView()}\n          </View>\n          <ScrollViewWithGradient>\n            <View style={{\n              flex: 1,\n              width: \"100%\",\n              alignItems: \"center\", justifyContent: \"center\",\n              flexDirection: 'row',\n              flexWrap: 'wrap', // Enable wrapping of items\n            }}>\n              <View style={{width: \"100%\"}}>\n                <View style={{width: \"100%\"}}>\n                  <SettingsSpacer />\n                  {renderSwitchCookie(CookieGroupEnum.Necessary, true)}\n                  {renderSwitchCookieForAdditionalGroups()}\n                  <View style={{width: \"100%\"}}>\n                    <Text>{translation_cookie_policy_consent_date+\": \"+date_consent_human_readable}</Text>\n                    {renderPolicyUpdatedDate()}\n                  </View>\n                </View>\n              </View>\n            </View>\n          </ScrollViewWithGradient>\n        </View>\n      )\n  }\n\n  function renderSpecificCookieDetailsTableHeader(){\n    return(\n      <View style={{width: \"100%\", flex: 1}}>\n        <MyThemedBox _shadeLevel={2}>\n          <View style={{width: \"100%\", flexDirection: \"row\", flex: 1}}>\n            <View style={{flex: 2}}>\n              <Text fontSize={\"sm\"}>{translation_cookie_policy_details_name}</Text>\n            </View>\n            <View style={{flex: 2}}>\n              <Text fontSize={\"sm\"}>{translation_cookie_policy_details_provider}</Text>\n            </View>\n            <View style={{flex: 2}}>\n              <Text fontSize={\"sm\"}>{translation_cookie_policy_details_purpose}</Text>\n            </View>\n            <View style={{flex: 1}}>\n              <Text fontSize={\"sm\"}>{translation_cookie_policy_details_expiry}</Text>\n            </View>\n            <View style={{flex: 1}}>\n              <Text fontSize={\"sm\"}>{translation_cookie_policy_details_type}</Text>\n            </View>\n          </View>\n        </MyThemedBox>\n        <SettingsSpacer />\n      </View>\n    )\n  }\n\n  function renderSpecificCookieDetails(specificCookieName: string, cookieDetails: CookieDetails){\n    const providerLabel = cookieDetails?.provider || cookieDetails?.provider_url;\n    let renderedProvider = <Text fontSize={\"sm\"}>{providerLabel}</Text>\n    if(!!cookieDetails?.provider_url){\n      renderedProvider = (\n        <MyTouchableOpacity accessibilityRole={AccessibilityRoles.link} accessibilityLabel={cookieDetails?.provider_url} onPress={() => {\n          Linking.openURL(cookieDetails?.provider_url);\n        }}>\n          {renderedProvider}\n        </MyTouchableOpacity>\n      )\n    }\n\n    return(\n      <View style={{width: \"100%\", flex: 1}} key={\"renderSpecificCookieDetails\"+specificCookieName}>\n        <View style={{width: \"100%\", flexDirection: \"row\", flex: 1}}>\n          <View style={{flex: 2}}>\n            <Text selectable={true} fontSize={\"sm\"}>{specificCookieName}</Text>\n          </View>\n          <View style={{flex: 2}}>\n            {renderedProvider}\n          </View>\n          <View style={{flex: 2}}>\n            <Text fontSize={\"sm\"}>{cookieDetails?.purpose}</Text>\n          </View>\n          <View style={{flex: 1}}>\n            <Text fontSize={\"sm\"}>{cookieDetails?.expiry}</Text>\n          </View>\n          <View style={{flex: 1}}>\n            <Text fontSize={\"sm\"}>{cookieDetails?.storageType}</Text>\n          </View>\n        </View>\n        <SettingsSpacer />\n      </View>\n    )\n  }\n\n  function renderCookieTypeDetails(cookieType: string){\n\n    let totalCookieList = Object.keys(CookieHelper.CookieDictNameToDetails);\n    let cookiesFoundInType = [];\n\n    let renderedCookieDetails = [];\n    for(let i=0; i<totalCookieList.length; i++){\n      let specificCookieName = totalCookieList[i];\n      let specificCookieDetails = ConfigHolder.plugin.getCookieDetails(specificCookieName);\n      let specificCookieType = specificCookieDetails?.type;\n      if(specificCookieType===cookieType){\n        cookiesFoundInType.push(specificCookieName);\n        renderedCookieDetails.push(renderSpecificCookieDetails(specificCookieName, specificCookieDetails));\n      }\n    }\n    let amountCookiesFoundInType = cookiesFoundInType.length;\n\n    let leftIcon = (\n      <View>\n        <Text>{\"(\"+amountCookiesFoundInType+\")\"}</Text>\n      </View>\n    )\n\n    let translation_text = ConfigHolder.plugin.getCookieGroupName(cookieType)\n\n\n\n    return(\n      <View style={{width: \"100%\", flex: 1}} key={\"cookieTypeDetails\"+cookieType} >\n        <SettingsRow accessibilityLabel={translation_text} accessibilityRole={AccessibilityRoles.button} leftIcon={leftIcon} leftContent={<Text>{translation_text}</Text>}>\n          <View style={{width: \"100%\", flex: 1}}>\n            {renderSpecificCookieDetailsTableHeader()}\n            {renderedCookieDetails}\n          </View>\n        </SettingsRow>\n      </View>\n    )\n  }\n\n  function renderCookieDetailsForAdditionalGroups(){\n    const additional_groups = ConfigHolder.plugin.getCookieAdditionalGroups()\n    if(additional_groups.length===0){\n      return null;\n    } else {\n      let output = [];\n      for(let i=0; i<additional_groups.length; i++){\n        let group = additional_groups[i];\n        output.push(renderCookieTypeDetails(group));\n      }\n      return output;\n    }\n  }\n\n  function renderCookieDetails(){\n    return(\n      <View style={{width: \"100%\", flex: 1}}>\n        <ScrollViewWithGradient>\n          <View style={{\n            flex: 1,\n            width: \"100%\",\n            alignItems: \"center\", justifyContent: \"center\",\n            flexDirection: 'row',\n            flexWrap: 'wrap', // Enable wrapping of items\n          }}>\n            <View style={{width: \"100%\"}}>\n              <View style={{width: \"100%\"}}>\n                {renderCookieTypeDetails(CookieGroupEnum.Necessary)}\n                {renderCookieDetailsForAdditionalGroups()}\n              </View>\n            </View>\n          </View>\n        </ScrollViewWithGradient>\n      </View>\n    )\n  }\n\n\n  function renderCookiesAbout(){\n      return (\n        <View style={{width: \"100%\"}}>\n          <ScrollViewWithGradient>\n            <View style={{\n              flex: 1,\n              width: \"100%\",\n              alignItems: \"center\", justifyContent: \"center\",\n              flexDirection: 'row',\n              flexWrap: 'wrap', // Enable wrapping of items\n            }}>\n              <View style={{width: \"100%\"}}>\n                {ConfigHolder.plugin.getCookieComponentAbout()}\n              </View>\n            </View>\n          </ScrollViewWithGradient>\n        </View>\n      )\n  }\n\n  return (\n      <Modal isOpen={true} style={{width: \"100%\", height: \"100%\", padding: Layout.padding}}>\n        <KitchenSafeAreaView style={{width: width, height: \"100%\", borderRadius: Layout.padding, overflow: \"hidden\"}}>\n          <View style={{width: width, height: \"100%\"}}>\n            <AlertDialog.Header style={{padding: Layout.padding}}>\n              <View style={{flexDirection: \"row\"}}>\n                <ProjectLogo size={\"sm\"} rounded={true} />\n                <View style={{ marginLeft: 16}}>\n                  <Heading>\n                    {translation_cookies}\n                  </Heading>\n                </View>\n              </View>\n            </AlertDialog.Header>\n            <View style={{width: \"100%\", paddingHorizontal: Layout.padding, flex: 1, backgroundColor: backgroundColor}}>\n              <DetailsComponentMenus useScrollViewForHeader={true} size={\"xs\"} flex={1} menus={menus} defaultMenuKey={default_menu_key} key={default_menu_key} />\n            </View>\n            <AlertDialog.Footer\n              style={{\n                padding: Layout.padding,\n              }}\n            >\n              <View style={{\n                flexDirection: \"row\",\n                justifyContent: \"flex-end\",\n                alignItems: \"center\",\n                width: \"100%\",\n                flexWrap: \"wrap\",\n              }}>\n                <Button accessibilityLabel={translation_cookie_policy_button_deny_all} size={\"xs\"} onPress={denyCookiesAll} style={{backgroundColor: defaultButtonColor, marginTop: 4}}>\n                  <Text color={defaultButtonContrastColor}>\n                    {translation_cookie_policy_button_deny_all}\n                  </Text>\n                </Button>\n                <View style={{width: 4}} />\n                <Button accessibilityLabel={translation_save_current_selection} size={\"xs\"} style={{backgroundColor: project_color, marginTop: 4}} onPress={acceptCookiesSelected}>\n                  <Text color={project_color_contrast_color}>\n                    {translation_save_current_selection}\n                  </Text>\n                </Button>\n                <View style={{width: 4}} />\n                <Button accessibilityLabel={translation_cookie_policy_button_accept_all} size={\"xs\"} onPress={acceptCookiesAll} style={{backgroundColor: project_color, marginTop: 4}}>\n                  <Text color={project_color_contrast_color}>\n                    {translation_cookie_policy_button_accept_all}\n                  </Text>\n                </Button>\n              </View>\n            </AlertDialog.Footer>\n          </View>\n        </KitchenSafeAreaView>\n\n      </Modal>\n  );\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from \"react\";\nimport {ConfigHolder} from \"../../ConfigHolder\";\nimport {RequiredSynchedStates} from \"../../synchedstate/RequiredSynchedStates\";\nimport {useSynchedCookieConfig, useSynchedJSONState} from \"../../synchedstate/SynchedState\";\nimport {CookieInformationInner} from \"./CookieInformationInner\";\n\ninterface AppState {\n  autoOpenCookies?: boolean;\n}\nexport const CookieInformation: FunctionComponent<AppState> = ({autoOpenCookies, ...props}) => {\n\n  if(!ConfigHolder.useCookiePolicy){\n    return null;\n  }\n\n  let [isOpen, setIsOpen] = useSynchedJSONState(RequiredSynchedStates.showCookies)\n  const date_cookie_policy_updated = undefined;\n  const [cookieConfig, setCookieConfig] = useSynchedCookieConfig();\n  const date_consent = cookieConfig?.date_consent;\n\n  function cookieConsentUpToDate(){\n    if(!cookieConfig || !date_consent){\n      return false;\n    } else {\n      let isUpToDate = true;\n      if(!!date_cookie_policy_updated){\n        if(!!date_consent){\n          if(new Date(date_consent) < new Date(date_cookie_policy_updated)){\n            isUpToDate = false;\n          }\n        }\n      }\n\n      return isUpToDate;\n    }\n  }\n\n  if(!cookieConsentUpToDate() && autoOpenCookies!==false){\n    isOpen = true;\n  }\n\n  if(isOpen){\n    return <CookieInformationInner />\n  } else {\n    return null;\n  }\n\n}\n","import React, {useEffect, useState} from \"react\";\nimport {CookieInformation} from \"../screens/legalRequirements/CookieInformation\";\nimport {RequiredNavigationBar} from \"./RequiredNavigationBar\";\nimport {KeyboardAvoidingView, View} from \"native-base\";\n\nimport {Platform, StatusBar} from \"react-native\";\nimport {KitchenSafeAreaView} from \"../components/KitchenSafeAreaView\";\n\nconst EmptyTemplate = React.memo(({\n                                    children,\n                                    navigation,\n                                    title,\n                                    navigateTo,\n                                    serverInfo,\n                                    _status,\n                                    _hStack,\n                                    autoOpenCookies,\n                                    ...props}: any) => {\n\n/**\n  const [rendered, setRendered] = useState([]);\n\n\n  useEffect(() => {\n    setTimeout(() => {\n      const childrenWithProps = CloneChildrenWithProps.passProps(children, {dimension: dimension});\n      setRendered(childrenWithProps);\n    }, 0)\n  }, []);\n  */\n\n\n\n  const paddingTop = Platform.OS === \"android\" ? StatusBar.currentHeight : 0\n  const keyboardVerticalOffset = paddingTop;\n\n\n\n  return(\n    <KitchenSafeAreaView>\n      <KeyboardAvoidingView\n        keyboardVerticalOffset = {keyboardVerticalOffset} // adjust the value here if you need more padding\n        style = {{height: \"100%\", width: \"100%\"}}\n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"} >\n        <View style={{height: \"100%\", width: \"100%\"}}>\n            {children}\n          <CookieInformation autoOpenCookies={autoOpenCookies} />\n        </View>\n      </KeyboardAvoidingView>\n    </KitchenSafeAreaView>\n  )\n});\n\nexport { EmptyTemplate };\n","let MyDirectusStorage;\nMyDirectusStorage = require(\"./MyDirectusStorageWeb\").MyDirectusStorageWeb;\n\nexport { MyDirectusStorage }\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {Platform} from \"react-native\";\n\nlet LottiePlatformSpecific;\n\nif(Platform.OS===\"web\"){\n  LottiePlatformSpecific = require(\"./LottieWeb\").LottieWeb;\n} else {\n  LottiePlatformSpecific = require(\"./LottieNative\").LottieNative;\n}\n\nexport const CrossLottie = (props) => {\n\n    return <LottiePlatformSpecific {...props} />\n\n}\n","import React, { FunctionComponent, memo } from 'react';\nimport { Icon } from \"../components/Icon\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { InterfaceIconProps } from \"native-base/lib/typescript/components/primitives/Icon/types\";\n\ninterface DirectusIconProps extends InterfaceIconProps {\n  name?: string;\n}\n\nconst DirectusIconComponent: FunctionComponent<DirectusIconProps> = ({ name = \"\", ...rest }) => {\n  // Replace all underscores with hyphens for icon names\n  const iconName = name.replace(/_/g, \"-\");\n\n  // MaterialIcons is used as the default icon family\n  const family = MaterialIcons;\n\n  return <Icon as={family} name={iconName} {...rest} />;\n};\n\nexport const DirectusIcon = memo(DirectusIconComponent);\n","export default class CustomFloaters {\n\n    private static floaters: JSX.Element[] = [];\n\n    static add(floater: JSX.Element) {\n        CustomFloaters.floaters.push(floater);\n    }\n\n    static getFloaters(): JSX.Element[] {\n        return CustomFloaters.floaters;\n    }\n}\n","// @ts-nocheck\nimport React from 'react';\nimport {ScrollView, View} from 'native-base';\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {DrawerButton} from \"./DrawerButton\";\nimport {useProjectColor} from \"./useProjectColor\";\nimport {RequiredSettingsButton} from \"../screens/settings/RequiredSettingsButton\";\nimport {useSynchedDrawerConfig} from \"../synchedstate/SynchedState\";\nimport {Layout} from \"./Layout\";\n\nexport const RequiredNavigationBar = ({\n                                        children,\n                                        navigation,\n                                        title,\n                                        showbackbutton,\n                                        header,\n                                        doclink,\n                                        navigateTo,\n                                        _status,\n                                        _hStack,\n                                        ...props\n                                      }: any) => {\n\n  const backgroundColor = props?.backgroundColor;\n  const textColor = props?.textColor;\n\n  let isSmallDevice = Layout.usesSmallDevice();\n\n  const [drawerConfig, setDrawerConfig] = useSynchedDrawerConfig();\n  let drawerPosition = drawerConfig?.drawerPosition || 'left';\n  let flexDirection = drawerPosition === 'left' ? \"row\" : \"row-reverse\";\n\n  let childContent = ConfigHolder.plugin.getBottomNavbarComponent();\n\n  function renderChildren(childContent){\n    if(!childContent){\n        return null;\n    }\n\n    let childrenArray = []\n    // Check if childContent is a single React Element or a Fragment\n    if (React.Children.count(childContent.props.children) > 1) {\n      // Convert children into array if childContent is a Fragment\n      childrenArray = React.Children.toArray(childContent.props.children);\n    } else {\n      // Make an array with a single element if childContent is a single React Element\n      childrenArray = [childContent];\n    }\n\n    return childrenArray.map((child, index) => (\n      <View style={{paddingRight: 12}} key={index}>\n        {child}\n      </View>\n    ));\n  }\n\n  const isHidden = !isSmallDevice;\n  let additionalStyle = {};\n  if(isHidden){\n    additionalStyle[\"opacity\"] = 0\n  }\n\n  let leftContent = (\n    <View style={[{flexDirection: flexDirection, alignItems: \"center\"}, additionalStyle]}>\n    <DrawerButton color={textColor} backgroundColor={backgroundColor} />\n  </View>\n  )\n\n\treturn (\n    <View style={{width: \"100%\", backgroundColor: props?.backgroundColor}}>\n      <View style={{flexDirection: flexDirection, width: \"100%\", alignItems: \"center\"}}>\n        {leftContent}\n        <ScrollView\n          horizontal\n          contentContainerStyle={{flexGrow: 1, flexDirection: flexDirection}}\n          showsHorizontalScrollIndicator={false}\n        >\n          {renderChildren(childContent)}\n        </ScrollView>\n        <RequiredSettingsButton textColor={textColor} backgroundColor={backgroundColor} />\n      </View>\n\n    </View>\n\t);\n\n\t// { base: '100%', lg: '768px', xl: '1080px' }\n};\n","// @ts-nocheck\nimport React from \"react\";\n\nexport class CloneChildrenWithProps{\n\n    static passProps(children, props){\n        const childrenWithProps = React.Children.map(children, child => {\n            // Checking isValidElement is the safe way and avoids a typescript\n            // error too.\n            if (React.isValidElement(child)) {\n                return React.cloneElement(child, props);\n            }\n            return child;\n        });\n        return childrenWithProps\n    }\n\n}","// @ts-nocheck\nimport React, {useState} from 'react';\nimport {Box, HStack, View,} from 'native-base';\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {useProjectColor} from \"./useProjectColor\";\nimport {HeaderWithActions} from \"./HeaderWithActions\";\nimport {RequiredNavigationBar} from \"./RequiredNavigationBar\";\nimport {CloneChildrenWithProps} from \"../helper/CloneChildrenWithProps\";\nimport {useThemedShade} from \"../helper/MyThemedBox\";\n\nexport const BaseLayout = ({\n\t\t\t\t\t\t   children,\n\t\t\t\t\t\t   navigation,\n\t\t\t\t\t\t   title,\n               showbackbutton,\n               header,\n\t\t\t\t\t\t   doclink,\n              headerBackgroundColor,\n              headerShadeLevel,\n              useProjectHeaderBackgroundColor,\n              headerTextColor,\n\t\t\t\t\t\t   navigateTo,\n\t\t\t\t\t\t   _status,\n\t\t\t\t\t\t   _hStack,\n\t\t\t\t\t\t   ...props\n\t\t\t\t\t   }: any) => {\n\n  const [dimension, setDimenstion] = useState({width: undefined, height: undefined})\n  const projectColor = useProjectColor();\n  if(headerShadeLevel===undefined) {\n    headerShadeLevel = 1;\n  }\n  const themedBackgroundColor = useThemedShade(headerShadeLevel);\n\n  if(!headerBackgroundColor){\n    if(useProjectHeaderBackgroundColor){\n      headerBackgroundColor = projectColor;\n    } else {\n      headerBackgroundColor = themedBackgroundColor\n    }\n  }\n\n  const childrenWithProps = CloneChildrenWithProps.passProps(children, {dimension: dimension});\n  const rendered = childrenWithProps;\n\n  function setDimensions(event){\n    const {width, height} = event.nativeEvent.layout;\n    // We can set the state to allow for reference through the state property, and will also change\n    let adjustedHeight = undefined;\n    if(!!height){\n      adjustedHeight = parseInt(height); // since we have a small padding we want to remove the height\n    }\n\n    setDimenstion({width: width, height: adjustedHeight});\n  }\n\n\tfunction renderBaseLayoutContent(){\n\t  let pluginRenderBaseLayoutContent = ConfigHolder.plugin.renderBaseLayoutContent;\n\n\t  return (\n      pluginRenderBaseLayoutContent(\n        <View style={{width: \"100%\", flex: 1, alignItems: \"center\"}} onLayout={props.onLayout}>\n          {rendered}\n        </View>\n      )\n    )\n  }\n\n  function renderHeadingContent(){\n    if(header!==undefined){\n      return header;\n    } else {\n      return(\n        <HeaderWithActions\n          backgroundColor={headerBackgroundColor}\n          textColor={headerTextColor}\n          title={title}\n          showbackbutton={showbackbutton}\n        />\n      )\n    }\n  }\n\n\treturn (\n    <View style={{height: \"100%\", width: \"100%\", flexDirection: \"column-reverse\"}}>\n      <RequiredNavigationBar textColor={headerTextColor} backgroundColor={headerBackgroundColor} />\n      <View style={{flex: 1, width: \"100%\", height: \"100%\"}} onLayout={setDimensions} >\n        <>\n          <Box\n            style={{paddingHorizontal: 0, margin: 0}}\n            {...props}\n            flex={1}\n            px={0}\n            mx=\"auto\"\n            pt={navigation ? '70px' : 0}\n            width={\"100%\"}\n            // style={{\n            // \tbackdropFilter: 'blur(10px)',\n            // }}\n          >\n            <HStack\n              left={0}\n              top={0}\n              right={0}\n              px={0}\n              zIndex={-1}\n              {..._hStack}\n            >\n              <HStack py={0}\n                // alignItems=\"flex-end\"\n                      alignItems=\"center\"\n                      w=\"100%\"\n              >\n                {renderHeadingContent()}\n              </HStack>\n            </HStack>\n            <View style={{width: \"100%\", flex: 1, alignItems: \"center\"}} >\n              {renderBaseLayoutContent()}\n            </View>\n\n          </Box>\n        </>\n      </View>\n    </View>\n\t);\n\n\t// { base: '100%', lg: '768px', xl: '1080px' }\n};\n","import React, {FunctionComponent} from \"react\";\nimport {BaseLayout} from \"./BaseLayout\";\nimport ServerAPI from \"../ServerAPI\";\nimport {View, Text} from \"native-base\";\nimport {CloneChildrenWithProps} from \"../helper/CloneChildrenWithProps\";\nimport {NavigatorHelper} from \"./../navigation/NavigatorHelper\";\nimport {Platform, StatusBar} from \"react-native\";\nimport {EmptyTemplate} from \"./EmptyTemplate\";\nimport {KitchenSkeleton} from \"../project/KitchenSkeleton\";\nimport {ConfigHolder} from \"../ConfigHolder\";\n\nexport interface BaseNoScrollTemplateProps{\n  title?: string,\n  header?: JSX.Element,\n  serverInfo?: any,\n  autoOpenCookies?: boolean,\n  headerBackgroundColor?: string,\n  headerShadeLevel?: number,\n  useProjectHeaderBackgroundColor?: boolean,\n  headerTextColor?: string,\n}\n\nconst BaseNoScrollTemplate: FunctionComponent<BaseNoScrollTemplateProps> = React.memo(({\n                                                                                         children,\n                                                                                         title,\n                                                                                         header,\n                                                                                         headerBackgroundColor,\n                                                                                         headerShadeLevel,\n                                                                                         useProjectHeaderBackgroundColor,\n                                                                                         headerTextColor,\n                                                                                         _status,\n                                                                                         _hStack,\n                                                                                         ...props\n                                                                                       }: any) => {\n\n  const params = props?.route?.params;\n  const serverInfo = ServerAPI.tempStore.serverInfo;\n\n  let loadedHeaderInitialState = ConfigHolder.advancedSettings?.loadedHeaderInitialState || true;\n  let loadedContentInitialState = ConfigHolder.advancedSettings?.loadedContentInitialState;\n\n  const [renderHeader, setRenderHeader] = React.useState(loadedHeaderInitialState);\n  const [renderContent, setRenderContent] = React.useState(loadedContentInitialState);\n  const [showLoader, setShowLoader] = React.useState(false);\n\n  const childrenWithProps = CloneChildrenWithProps.passProps(children, {...props});\n\n  let showbackbutton = params?.showbackbutton;\n  if(NavigatorHelper.getHistory()?.length<=1){\n    showbackbutton = false;\n  }\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      setRenderHeader(true);\n    }, 1)\n    setTimeout(() => {\n      setShowLoader(true);\n    }, 1000)\n  }, []);\n\n  React.useEffect(() => {\n    if(renderHeader && !renderContent) {\n      setTimeout(() => {\n        setRenderContent(true);\n      }, 0)\n    }\n  }, [renderHeader]);\n\n  const paddingTop = Platform.OS === \"android\" ? StatusBar.currentHeight : 0\n  const keyboardVerticalOffset = paddingTop;\n\n  let renderedContent = null;\n  if(showLoader){\n    renderedContent = (\n      <KitchenSkeleton />\n    )\n  }\n  if(renderContent){\n    renderedContent = childrenWithProps\n  }\n\n  let renderedHeader = undefined;\n  if(renderHeader){\n    renderedHeader = header;\n  }\n\n  return (\n    <EmptyTemplate autoOpenCookies={props?.autoOpenCookies}>\n      <View flex={1} flexDirection={\"row\"}>\n        <BaseLayout\n          title={title}\n          serverInfo={serverInfo}\n          headerBackgroundColor={headerBackgroundColor}\n          headerShadeLevel={headerShadeLevel}\n          useProjectHeaderBackgroundColor={useProjectHeaderBackgroundColor}\n          headerTextColor={headerTextColor}\n          header={renderedHeader}\n          showbackbutton={showbackbutton} >\n          <View style={{width: \"100%\", height: \"100%\"}} >\n            {renderedContent}\n          </View>\n        </BaseLayout>\n      </View>\n    </EmptyTemplate>\n  )\n});\n\nexport { BaseNoScrollTemplate };\n","import React, {FunctionComponent} from \"react\";\nimport {Box} from \"native-base\";\nimport {BreakPointLayout} from \"./BreakPointLayout\";\nimport {Layout} from \"./Layout\";\nimport {CloneChildrenWithProps} from \"../helper/CloneChildrenWithProps\";\nimport {BaseNoScrollTemplate, BaseNoScrollTemplateProps} from \"./BaseNoScrollTemplate\";\nimport {ScrollViewWithGradient} from \"../utils/ScrollViewWithGradient\";\n\nexport interface BaseNoPaddingTemplateProps extends BaseNoScrollTemplateProps{\n\n}\n\nconst BaseNoPaddingTemplate: FunctionComponent<BaseNoPaddingTemplateProps> = React.memo(({\n                                                                                           children,\n                                                                                           title,\n                                                                                           header,\n                                                                                           _status,\n                                                                                           _hStack,\n                                                                                           ...props\n                                                                                         }: any) => {\n\n  const childrenWithProps = CloneChildrenWithProps.passProps(children, {...props});\n\n  return(\n    <BaseNoScrollTemplate {...props} title={title} header={header}>\n      <ScrollViewWithGradient hideGradient={true} style={{width: \"100%\", height: \"100%\"}} >\n        <BreakPointLayout >\n          <Box style={{height: \"100%\", alignItems: \"flex-start\", width: \"100%\"}}>\n            {childrenWithProps}\n          </Box>\n        </BreakPointLayout>\n      </ScrollViewWithGradient>\n    </BaseNoScrollTemplate>\n  )\n});\n\n(BaseNoPaddingTemplate as any).useBaseTemplateContentWidth = Layout.useBaseTemplateContentWidth;\n\n\nexport { BaseNoPaddingTemplate };\n","// @ts-nocheck\nimport React, {FunctionComponent, useContext} from 'react';\nimport {Text, Box, Button, Heading, HStack, useBreakpointValue, useColorMode, View,} from 'native-base';\nimport {Layout} from \"./Layout\";\n\nexport const BasePadding = ({\n\tchildren,\n\t...props\n}: any) => {\n\n\treturn (\n\t\t\t<Box\n\t\t\t\tstyle={{padding: Layout.padding, flex: 1, margin: 0 ,alignItems: \"flex-start\"}}\n\t\t\t\tflex={1}\n\t\t\t\twidth={\"100%\"}\n\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t</Box>\n\t);\n};\n","import React, {FunctionComponent} from \"react\";\nimport {Layout} from \"./Layout\";\nimport {CloneChildrenWithProps} from \"../helper/CloneChildrenWithProps\";\nimport {BaseNoPaddingTemplate, BaseNoPaddingTemplateProps} from \"./BaseNoPaddingTemplate\";\nimport {BasePadding} from \"./BasePadding\";\n\nexport interface BaseTemplateProps extends BaseNoPaddingTemplateProps{\n\n}\n\nconst BaseTemplate: FunctionComponent<BaseTemplateProps> = React.memo(({\n                                                                         children,\n                                                                         title,\n                                                                         header,\n                                                                         _status,\n                                                                         _hStack,\n                                                                         ...props\n                                                                       }: any) => {\n\n  /**\n  const [rendered, setRendered] = useState([]);\n\n  useEffect(() => {\n    setTimeout(() => {\n      const childrenWithProps = CloneChildrenWithProps.passProps(children, {...props});\n      setRendered(childrenWithProps);\n    }, 0)\n  }, []);\n  */\n\n  const childrenWithProps = CloneChildrenWithProps.passProps(children, {...props});\n  const rendered = childrenWithProps;\n\n\n  return(\n    <BaseNoPaddingTemplate {...props} title={title} header={header}>\n      <BasePadding>\n        {rendered}\n      </BasePadding>\n    </BaseNoPaddingTemplate>\n  )\n});\n\n(BaseTemplate as any).useBaseTemplateContentWidth = Layout.useBaseTemplateContentWidth;\n\nexport { BaseTemplate };\n","// @ts-nocheck\nimport React from \"react\";\nimport {ThemedMarkdown} from \"../../components/markdown/ThemedMarkdown\";\n\nexport class CookieDefaultComponents{\n\n  static getCookieComponentConsent(){\n    return <ThemedMarkdown markdown={`\n### Wir brauchen deine Zustimmung\n\nWir verwenden Cookies, um Inhalte und Anzeigen zu personalisieren, Funktionen für soziale Medien anbieten zu können und die Zugriffe auf unsere Website/App zu analysieren. Außerdem geben wir Informationen zu Ihrer Verwendung unserer Website/App an unsere Partner für soziale Medien, Werbung und Analysen weiter. Unsere Partner führen diese Informationen möglicherweise mit weiteren Daten zusammen, die Sie ihnen bereitgestellt haben oder die sie im Rahmen Ihrer Nutzung der Dienste gesammelt haben.\n    `}>\n    </ThemedMarkdown>\n  }\n\n\n  static getCookieComponentAbout(){\n    return <ThemedMarkdown>\n      {`\nCookies sind kleine Textdateien, die von Webseiten verwendet werden, um die Benutzererfahrung effizienter zu gestalten.\n\nLaut Gesetz können wir Cookies auf deinem Gerät speichern, wenn diese für den Betrieb dieser Seite unbedingt notwendig sind. Für alle anderen Cookie-Typen benötigen wir deine Erlaubnis.\n\nDiese Seite verwendet unterschiedliche Cookie-Typen. Einige Cookies werden von Drittparteien platziert, die auf unseren Seiten erscheinen.\n\nDu kannst deine Einwilligung jederzeit von der Cookie-Erklärung auf unserer Website ändern oder widerrufen.\n\nErfahre in unserer Datenschutzrichtlinie mehr darüber, wer wir sind, wie du uns kontaktieren kannst und wie wir personenbezogene Daten verarbeiten.\n    `}\n    </ThemedMarkdown>\n  }\n\n}\n","import {UserItem} from \"@directus/sdk\";\nimport {ColorMode, View} from 'native-base';\nimport {DefaultTranslator} from \"./translations/DefaultTranslator\";\nimport {CookieDefaultComponents} from \"./screens/legalRequirements/CookieDefaultComponents\";\nimport {CookieDetails, CookieGroupEnum, CookieStorageTypeEnum} from \"./screens/legalRequirements/CookieHelper\";\nimport {TranslationKeys} from \"./translations/TranslationKeys\";\nimport {SynchedState} from \"./synchedstate/SynchedState\";\nimport {RequiredStorageKeys} from \"./storage/RequiredStorageKeys\";\nimport React from \"react\";\nimport {StringHelper} from \"./helper/StringHelper\";\n\nexport abstract class PluginInterface{\n\n  // @ts-ignore\n  constructor(props) {\n    StringHelper.enableReplaceAllOnOldDevices() // Android does not support .replaceAll()\n  }\n\n  initApp(){\n\n    }\n    async registerRoutes(user: UserItem | null, role: any | undefined, permissions: any | undefined){\n      return null;\n    }\n\n    onLogout(error){\n\n    }\n    onLogin(user, role, permissions){\n\n    }\n\n    getSynchedStateKeysClass(){\n      return null;\n    }\n    getStorageKeysClass(){\n      return null;\n    }\n\n    getLoadingComponent(){\n      return null;\n    }\n\n    getSyncComponent(){\n        return null;\n    }\n\n    getAboutUsComponent(){\n      return null;\n    }\n\n    getLicenseComponent(){\n      return null;\n    }\n\n    getAccessibilityComponent(){\n      return null;\n    }\n\n    getCookieDetails(cookieName: string): CookieDetails{\n      let translationWe = DefaultTranslator.useTranslation(TranslationKeys.cookie_policy_provider_we);\n\n      let requiredCookiesNames = SynchedState.getRequiredStorageKeys();\n      let defaultDetails = {\n        name: cookieName,\n        provider: translationWe,\n        provider_url: undefined,\n        purpose: DefaultTranslator.useRequiredStorageKeysPurpose(undefined),\n        expiry: DefaultTranslator.useTranslation(TranslationKeys.cookie_policy_details_expiry_persistent),\n        type: CookieGroupEnum.Necessary,\n        storageType: CookieStorageTypeEnum.LocalStorage,\n      }\n\n      for(let requiredCookieName of requiredCookiesNames){\n        if(requiredCookieName === cookieName){\n          defaultDetails.purpose = DefaultTranslator.useRequiredStorageKeysPurpose(requiredCookieName as RequiredStorageKeys);\n          break;\n        }\n      }\n      // Default case\n      return defaultDetails;\n    }\n\n    getCookieGroupName(cookieGroup: string): string{\n      if(cookieGroup === CookieGroupEnum.Necessary){\n        return DefaultTranslator.useTranslation(TranslationKeys.cookie_policy_group_necessary);\n      }\n      return cookieGroup+\" (Missing description)\";\n    }\n\n    getCookieAdditionalGroups(){\n      return [];\n    }\n\n    getCookieComponentConsent(){\n      return CookieDefaultComponents.getCookieComponentConsent()\n    }\n\n    getCookieComponentAbout(){\n      return CookieDefaultComponents.getCookieComponentAbout()\n    }\n\n    getPrivacyPolicyComponent(){\n      return null;\n    }\n\n    getHomeComponent(){\n      return null;\n    }\n\n    getSettingsComponent(){\n      return null;\n    }\n\n    getRootComponent(props){\n      return null;\n    }\n\n    getRootWrapper(content){\n      return content;\n    }\n\n    getUseTranslationFunction(){\n      return DefaultTranslator.useTranslation;\n    }\n\n    getBottomNavbarComponent(){\n      return null;\n    }\n\n    renderCustomAuthProviders(serverInfo): []{\n      return null;\n    }\n\n    renderCustomUserAvatar(user: UserItem): JSX.Element{\n      return null;\n    }\n\n    getOverwriteTheme(): ColorMode {\n      return null;\n    }\n\n    renderLoginTemplateTopRight(){\n      return null;\n    }\n\n    renderBaseLayoutContent(content){\n      return (\n        <View style={{width: \"100%\", flex: 1, flexDirection: \"row\"}}>\n          {content}\n        </View>\n      )\n    }\n\n    customContrastColor(backgroundColor){\n      return null;\n    }\n\n    renderCustomProjectLogo({\n                              serverInfo,\n                              height,\n                              width,\n                              backgroundColor,\n                              borderRadius\n                            }): JSX.Element{\n      return null;\n    }\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\n\nimport {Icon} from \"./Icon\";\n\nexport interface AppState{\n  icon?: any | string | undefined,\n  content?: any | string | undefined,\n}\nexport const TextWithIcon: FunctionComponent<AppState> = (props) => {\n\n\tfunction renderRowInformation(icon, content){\n\n\t  let renderedIcon = null;\n\n\t  if(!!icon){\n      const isIconString = typeof icon === \"string\";\n      if(isIconString){\n        renderedIcon = <Text><Icon name={icon} /></Text>\n      } else {\n        renderedIcon = icon\n      }\n    }\n\n    renderedIcon = !!renderedIcon ? <View style={{marginRight: 15}}>{renderedIcon}</View> : null;\n\n\t  let renderedContent = null;\n\t  if(!!content){\n      if(typeof content === \"string\"){\n        renderedContent = <Text>{content}</Text>\n      } else {\n        renderedContent = content\n      }\n    }\n\n\t\treturn (\n\t\t\t<View style={{alignItems: \"center\", flexDirection: \"row\", margin: 3}}>\n\t\t\t\t{renderedIcon}<Text>{renderedContent}</Text>\n\t\t\t</View>\n\t\t)\n\t}\n\n\treturn (renderRowInformation(props?.icon, props?.content || props?.children))\n}\n","// @ts-nocheck\nimport React from 'react';\nimport {useColorMode, useColorModeValue, useToken, View} from 'native-base';\nimport {useBackgroundColor} from \"./useBackgroundColor\";\n\nexport const ViewWithBackgroundColor = (props) => {\n  const bgColor = useBackgroundColor()\n  return <View style={{flex: 1, width: \"100%\", backgroundColor: bgColor}}\n  >\n    {props.children}\n  </View>\n}\n","// @ts-nocheck\nimport React, {useEffect, useRef} from 'react';\nimport {NavigationContainer} from '@react-navigation/native';\nimport EnviromentHelper from \"../EnviromentHelper\";\nimport {navigationRef, isReadyRef, NavigatorHelper} from \"./NavigatorHelper\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {ViewWithBackgroundColor} from \"../templates/ViewWithBackgroundColor\";\nimport {useBackgroundColor} from \"../templates/useBackgroundColor\";\nimport {Navigation} from \"./Navigation\";\nimport {PlatformHelper} from \"../helper/PlatformHelper\";\nimport {RouteHelper} from \"./RouteHelper\";\n\nexport const Root = (props) => {\n\tconst bgColor = useBackgroundColor()\n\n  let ignoreNextHashChange = false;\n\n  const routeNameRef = useRef();\n\n\tReact.useEffect(() => {\n\t\treturn () => {\n\t\t\tisReadyRef.current = false\n\t\t};\n\t}, []);\n\n  useEffect(() => {\n    const handleHashChange = () => {\n      if (ignoreNextHashChange) {\n        ignoreNextHashChange = false;\n        return;\n      }\n      console.log(\"handleHashChange\");\n      let currentUrl = window.location.href;\n      console.log(\"currentUrl: \"+currentUrl);\n      let hash = window.location.hash;\n      console.log(\"hash:\"+hash);\n//      ConfigHolder.instance.setStartURL(currentUrl);\n\n      let initialRouteName = RouteHelper.getInitialRouteName(currentUrl);\n      let search = RouteHelper.getSearchParam(currentUrl);\n      console.log(\"initialRouteName: \"+initialRouteName);\n      console.log(\"search: \"+search);\n      NavigatorHelper.navigateToRouteName(initialRouteName, search, true);\n    }\n\n    if(PlatformHelper.isWeb()){\n      // add EventListener is url was manually changed or go back in history\n      window.addEventListener('hashchange', handleHashChange, false);\n\n      return () => {\n        // Cleanup\n        window.removeEventListener('hashchange', handleHashChange, false);\n      };\n    }\n  }, []);\n\n\n\tlet subroute = \"myapp/app/\";\n\ttry{\n\t\tlet basePath = EnviromentHelper.getBasePath();\n\t\tsubroute = basePath;\n\t} catch (err){\n\t\tconsole.log(\"Trying to get Basepath\");\n\t\tconsole.log(err)\n\t}\n\n  console.log(\"RootComponent render\");\n\n\treturn (\n\t\t<NavigationContainer\n\t\t\tref={navigationRef}\n\t\t\tonReady={() => {\n\t\t\t\tisReadyRef.current = true;\n\t\t\t\tconst currentNavigation = navigationRef?.current;\n\t\t\t\tif(currentNavigation){\n\t\t\t\t  if(currentNavigation.getCurrentRoute){\n\t\t\t\t    const name = currentNavigation.getCurrentRoute()?.name;\n            routeNameRef.current = name\n            NavigatorHelper.handleNavigationQueue();\n          }\n        }\n\t\t\t}}\n      onStateChange={async () => {\n        console.log(\"RootComponent onStateChange\")\n\n        let trackScreenView = () => {}\n\n        if(NavigatorHelper.isNavigationLoaded()){\n          const previousRouteName = routeNameRef?.current+\"\";\n          const currentNavigation = NavigatorHelper.getCurrentNavigation();\n          if(!!currentNavigation && !!currentNavigation.getCurrentRoute){\n            const currentRoute = currentNavigation.getCurrentRoute()\n            console.log(\"onStateChange\");\n            const currentRouteName = currentRoute?.name || \"\";\n            const currentRouteParams = currentRoute?.params || {};\n            trackScreenView = () => {\n              if(PlatformHelper.isWeb()){\n                let navigateSearch;\n                let navigateSearchParams = Navigation.paramsToURLSearch(currentRouteParams);\n                if(navigateSearchParams){\n                  navigateSearch = \"?\"+navigateSearchParams;\n                } else {\n                  navigateSearch = \"\";\n                }\n                //console.log(\"After changing the hash, the hook will be called again, so we do not need to call navigateTo again\");\n                //@ts-ignore\n\n                // This handle goBack and goForward in the browser, since the hashchange event is not triggered\n                let nextHash = Navigation.ROUTE_PATH_PREFIX+currentRouteName+navigateSearch;\n                let sameHash = Navigation.ROUTE_HASH_PREFIX+nextHash === window.location.hash;\n                if(sameHash){ // since goBack can triggers in handleHashChange (see above) we need to check if the hash is the same\n                  console.log(\"Same hash\")\n                  // do nothing\n                } else {\n                  console.log(\"Different hash\")\n                  ignoreNextHashChange = true;\n                  window.location.hash = nextHash;\n                }\n              }\n              // Your implementation of analytics goes here!\n\n            };\n            routeNameRef.current = currentRouteName;\n          }\n        }\n\n        await trackScreenView();\n\n        // Save the current route name for later comparison\n      }}\n\t\t\t// @ts-ignore //this is correct\n//      linking={linking}\n\t\t\ttheme={{\n\t\t\t\t// @ts-ignore\n\t\t\t\tcolors: { background: bgColor },\n\t\t\t}}\n\t\t>\n      <ViewWithBackgroundColor>\n        {props.children}\n      </ViewWithBackgroundColor>\n\t\t</NavigationContainer>\n\t);\n};\n","import {extendTheme} from 'native-base';\n\nconst sidebarWidth = 320;\n\nexport default class BaseThemeGenerator {\n\n  static getBaseTheme(initialColorMode) {\n    let baseTheme = extendTheme(undefined);\n\n    let defaultButton = baseTheme.components.Button;\n    defaultButton.defaultProps._dark = {\n      backgroundColor: \"#A9A9A9\"\n    };\n    defaultButton.defaultProps._light = {\n      backgroundColor: \"#172940FF\"\n    }\n\n    return extendTheme({\n      sidebarWidth: sidebarWidth + \"px\",\n      breakpoints: {\n        'base': 0 + sidebarWidth,\n        'sm': 480 + sidebarWidth,\n        'md': 768 + sidebarWidth,\n        'lg': 992 + sidebarWidth,\n        'xl': 1280 + sidebarWidth, // +280 from MenuWidth\n      },\n      components: {\n        Text: {\n          defaultProps: {\n            fontSize: 'md',\n            selectable: true,\n          },\n        },\n        Button: {...defaultButton},\n      },\n      colors: {\n        slateGray: {\n          50: '#f3f2f2',\n          100: '#d8d8d8',\n          200: '#bebebe',\n          300: '#a3a3a3',\n          400: '#898989',\n          500: '#6f6f6f',\n          600: '#565656',\n          700: '#3e3e3e',\n          800: '#252525',\n          900: '#0d0c0d',\n        },\n      },\n      Pressable: {\n        cursor: 'pointer',\n      },\n\n      config: {\n        // Changing initialColorMode to 'dark'\n        initialColorMode: initialColorMode,\n      },\n    });\n  }\n}\n","import {Home} from \"../screens/home/Home\";\nimport {Login} from \"../auth/Login\";\n// @ts-nocheck\nimport React from \"react\";\nimport {createDrawerNavigator} from \"@react-navigation/drawer\";\n\nconst Drawer = createDrawerNavigator();\n\nexport class RouteRegisterer {\n\n    static routeLogin = \"login\";\n\n    static screens = null;\n    static loginScreens = null;\n\n    static HOME_AUTHENTICATED = Home;\n    static HOME_UNAUTHENTICATED = Login;\n\n    // this is here since we also get the drawer from here, if you have a better place for this feel free to move it\n    private static drawerBorderColor: string | null = null;\n    private static drawerBackgroundColor: string | null = null;\n\n    static setDrawerBorderColor(color: string) {\n        RouteRegisterer.drawerBorderColor = color;\n    }\n\n    static getDrawerBorderColor(): string {\n        return RouteRegisterer.drawerBorderColor;\n    }\n\n    static setDrawerBackgroundColor(color: string) {\n        RouteRegisterer.drawerBackgroundColor = color;\n    }\n\n    static getDrawerBackgroundColor(): string {\n        return RouteRegisterer.drawerBackgroundColor;\n    }\n\n    static registerLegalRequirements(){\n\n    }\n\n    static async register(user, role, permissions){\n\n    }\n\n    // @ts-ignore\n    static getDrawer(){\n        return Drawer;\n    }\n\n    static async loadDrawerScreens(){\n        RouteRegisterer.screens = RouteRegisterer.getDrawerScreens();\n        RouteRegisterer.loginScreens = RouteRegisterer.getOnlyLoginDrawerScreens()\n    }\n\n    static getOnlyLoginDrawerScreens(){\n\n    }\n\n    static getDrawerScreens(){\n\n    }\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Text, View} from \"native-base\";\nimport {ServerInfoHelper} from \"../helper/ServerInfoHelper\";\nimport {ServerInfo} from \"@directus/sdk\";\nimport ServerAPI from \"../ServerAPI\";\n\ninterface AppState {\n\tserverInfo?: ServerInfo;\n\tthemedColor?: boolean;\n}\nexport const ProjectName: FunctionComponent<AppState> = (props) => {\n\tconst serverInfo = props.serverInfo || ServerAPI.tempStore.serverInfo;\n\n\tlet project_name = ServerInfoHelper.getProjectName(serverInfo);\n\tlet project_color = undefined //ServerInfoHelper.getProjectColor(serverInfo);\n\tlet project_version = ServerInfoHelper.getProjectVersion();\n\n\tlet color = project_color;\n\tif(props.themedColor){\n\t\tcolor = null;\n\t}\n\n\tfunction renderVersion(){\n\t\treturn(\n\t\t\t<View style={{marginTop: 0, marginLeft: 0, justifyContent: \"center\"}}>\n\t\t\t\t<Text fontSize={\"sm\"} color={color}>\n\t\t\t\t\t{\"v\" + project_version}\n\t\t\t\t</Text>\n\t\t\t</View>\n\t\t)\n\t}\n\n\treturn(\n\t\t<View style={{marginTop: 0, marginLeft: 16, justifyContent: \"center\"}}>\n      <View style={{marginTop: 0, marginLeft: 0, justifyContent: \"center\"}}>\n        <Text fontSize=\"2xl\" fontWeight={\"bold\"} color={color}>\n          {project_name}\n        </Text>\n      </View>\n\t\t\t{renderVersion()}\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {DrawerContentScrollView} from '@react-navigation/drawer';\nimport {View, Text} from \"native-base\";\nimport {ProjectLogo} from \"../project/ProjectLogo\";\nimport {ProjectName} from \"../project/ProjectName\";\nimport {MyThemedBox} from \"../helper/MyThemedBox\";\nimport {ExpandableDrawerItem} from \"./ExpandableDrawerItem\";\nimport {SafeAreaView} from \"react-native\";\nimport {RouteRegisterer} from \"./RouteRegisterer\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {Navigation} from \"../navigation/Navigation\";\nimport {LegalRequiredLinks} from \"../screens/legalRequirements/LegalRequiredLinks\";\nimport {TranslationKeys} from \"../translations/TranslationKeys\";\nimport {MyTouchableOpacity} from \"../components/buttons/MyTouchableOpacity\";\nimport {useSynchedDrawerConfig} from \"../synchedstate/SynchedState\";\nimport {DrawerButton} from \"./../templates/DrawerButton\";\nimport {Layout} from \"../templates/Layout\";\nimport {KitchenSafeAreaView} from \"../components/KitchenSafeAreaView\";\n\nexport const CustomDrawerContent: FunctionComponent = (props) => {\n\n\tlet user = ConfigHolder.instance.getUser()\n\n  const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n  const translation_home = useTranslation(TranslationKeys.home);\n\n  let isSmallDevice = Layout.usesSmallDevice();\n\n  const [drawerConfig, setDrawerConfig] = useSynchedDrawerConfig();\n  let drawerPosition = drawerConfig?.drawerPosition || 'left';\n  let flexDirection = drawerPosition === 'left' ? \"row\" : \"row-reverse\";\n\n\tfunction renderDrawerItems(){\n\t\tlet output = [];\n\n\t\tlet registeredMenusList = Navigation.menuGetRegisteredList();\n\t\tlet sortedMenus = sortMenus(registeredMenusList);\n\t\tfor(let i=0; i<sortedMenus.length; i++){\n\t\t  const menu = sortedMenus[i];\n\t\t  if(menu.key===Navigation.DEFAULT_MENU_KEY_ABOUT_US){ // Skip since we want to render them else where\n\t\t    continue;\n      }\n      if(menu.key===Navigation.DEFAULT_MENU_KEY_PRIVACY_POLICY){ // Skip since we want to render them else where\n        continue;\n      }\n      if(menu.key===Navigation.DEFAULT_MENU_KEY_LICENSE){ // Skip since we want to render them else where\n        continue;\n      }\n\n      output.push(<ExpandableDrawerItem key={menu?.key} menu={menu} level={0}/>);\n    }\n\n\t\treturn output;\n\t}\n\n\tfunction sortMenus(menus){\n    return menus.sort((a, b) => {\n      let positionA = a?.position || 0;\n      let positionB = b?.position || 0;\n      return positionB - positionA;\n    })\n  }\n\n\tfunction renderLegalRequirements(){\n\t  return (\n      <MyThemedBox style={{flexDirection: \"row\", alignItems: \"center\"}}>\n        <View style={{\n          flex: 1,\n          width: '100%',\n          alignItems: \"center\", justifyContent: \"center\",\n          flexDirection: 'row',\n          flexWrap: 'wrap', // Enable wrapping of items\n        }}>\n          <LegalRequiredLinks />\n        </View>\n      </MyThemedBox>\n    )\n  }\n\n\tlet bgColor = RouteRegisterer.getDrawerBackgroundColor();\n\tlet customBackgroundStyle = {};\n\tif(!!bgColor){\n\t\tcustomBackgroundStyle = {backgroundColor: bgColor}\n\t}\n\n\tfunction renderDrawerCloseButton(){\n\t  if(isSmallDevice){\n\t    return(\n        <View style={{width: \"100%\", flexDirection: flexDirection}}>\n          <DrawerButton closeDrawer={true} backgroundColor={bgColor} />\n        </View>\n      )\n    }\n\t  return null;\n  }\n\n\tconst padding = 18;\n\n\n\n\treturn (\n\t\t<MyThemedBox style={[{height: \"100%\", overflow: \"hidden\"}, customBackgroundStyle]}>\n\t\t\t<KitchenSafeAreaView style={{height: \"100%\", width: \"100%\"}}>\n        <MyTouchableOpacity\n          key={\"ProjectLogoItem\"}\n          style={{padding: padding}}\n          accessibilityLabel={translation_home}\n          onPress={() => {\n            if(!user){\n              Navigation.navigateTo(Navigation.DEFAULT_ROUTE_LOGIN)\n            } else {\n              Navigation.navigateHome()\n            }\n          }}\n        >\n          <View style={{flexDirection: \"row\", width: \"100%\"}} >\n            <ProjectLogo rounded={true} />\n              <View style={{width: \"100%\"}} >\n                  <ProjectName themedColor={true} />\n              </View>\n          </View>\n        </MyTouchableOpacity>\n        <DrawerContentScrollView style={{paddingLeft: padding}} {...props}>\n          {renderDrawerItems()}\n        </DrawerContentScrollView>\n\t\t\t\t{renderLegalRequirements()}\n        {renderDrawerCloseButton()}\n\t\t\t</KitchenSafeAreaView>\n\t\t</MyThemedBox>\n\t);\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect} from \"react\";\nimport {useColorMode} from \"native-base\";\nimport ColorCodeHelper from \"./ColorCodeHelper\";\nimport {useSynchedState} from \"../synchedstate/SynchedState\";\nimport {RequiredStorageKeys} from \"../storage/RequiredStorageKeys\";\nimport {TouchableOpacity} from \"react-native\";\n\ninterface AppState {\n  onPress: (callback, nextTheme) => {}\n}\nexport const ThemeChanger: FunctionComponent<AppState> = (props) => {\n\n\tlet storageKey = RequiredStorageKeys.CACHED_THEME;\n\tconst [value, setValue] = useSynchedState(storageKey);\n\tconst { colorMode, toggleColorMode } = useColorMode();\n\tlet nextTheme = colorMode===ColorCodeHelper.VALUE_THEME_LIGHT ? ColorCodeHelper.VALUE_THEME_DARK : ColorCodeHelper.VALUE_THEME_LIGHT;\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [colorMode])\n\n  function handleChange(nextTheme){\n    setValue(nextTheme)\n    toggleColorMode();\n  }\n\n\treturn(\n\t\t<TouchableOpacity\n\t\t\tonPress={() => {\n\t\t\t  if(!!props.onPress){\n\t\t\t    props.onPress(handleChange.bind(null, nextTheme), nextTheme)\n        } else {\n          handleChange(nextTheme);\n        }\n\t\t\t}} >\n\t\t\t{props.children}\n\t\t</TouchableOpacity>\n\t)\n}\n","// @ts-nocheck\nimport React from 'react';\nimport {Box, Fab, useColorMode, View} from 'native-base';\nimport {Ionicons} from '@expo/vector-icons';\nimport {ThemeChanger} from \"../theme/ThemeChanger\";\nimport {Icon} from \"../components/Icon\";\n\nexport const ThemeFloaterButton = () => {\n\tconst { colorMode, toggleColorMode } = useColorMode();\n\n\tconst renderedFab =\n\t\t<View key={\"themeChangerFloater\"} style={{\n\t\t\tposition: \"absolute\",\n\t\t\tbottom: 16,\n\t\t\tright: 16\n\t\t}}>\n\t\t\t<ThemeChanger key={\"FabKey\"}>\n\t\t\t\t<View\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\tborderRadius: 32\n\t\t\t\t\t}}\n\t\t\t\t\t_dark={{\n\t\t\t\t\t\tbg: 'orange.50',\n\t\t\t\t\t}}\n\t\t\t\t\t_light={{\n\t\t\t\t\t\tbg: 'blueGray.900',\n\t\t\t\t\t}}\n\t\t\t\t\tshadow={7}\n\t\t\t\t>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tas={Ionicons}\n\t\t\t\t\t\t_dark={{ name: 'sunny', color: 'orange.400' }}\n\t\t\t\t\t\t_light={{ name: 'moon', color: 'blueGray.100' }}\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t</ThemeChanger>\n\t\t</View>;\n\n\treturn renderedFab\n};\n","// @ts-nocheck\nimport React from 'react';\nimport CustomFloaters from \"./CustomFloaters\";\nimport {ThemeFloaterButton} from \"./ThemeFloaterButton\";\nimport {ConfigHolder} from \"./../ConfigHolder\";\n\n//TODO: https://docs.nativebase.io/stagger\nexport const Floaters = () => {\n\n  let themeFloaterButton = null;\n  if(ConfigHolder.displayThemeFloater){\n    themeFloaterButton = <ThemeFloaterButton key={\"ThemeFloater\"} />;\n  }\n\n\n\tconst renderedContent = [\n\t\tthemeFloaterButton,\n\t\t...CustomFloaters.getFloaters()\n\t];\n\n\treturn (\n\t\t<>\n\t\t\t{renderedContent}\n\t\t</>\n\t);\n};\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {Flex, View} from \"native-base\";\nimport {ServerInfo} from \"@directus/sdk\";\nimport {ProjectLogo} from \"./ProjectLogo\";\nimport {ProjectName} from \"./ProjectName\";\nimport ServerAPI from \"../ServerAPI\";\n\nconst titleBoxHeight = 64;\n\ninterface AppState {\n\tserverInfo?: ServerInfo;\n\tsize?: string\n}\nexport const ProjectBanner: FunctionComponent<AppState> = (props) => {\n\tconst serverInfo = props.serverInfo || ServerAPI.tempStore.serverInfo;\n\n\tlet boxHeight = titleBoxHeight;\n\n\treturn(\n\t\t<View\n\t\t\tstyle={{flexDirection: \"row\" ,height: boxHeight, alignItems: \"center\"}}\n\t\t>\n\t\t\t<ProjectLogo serverInfo={serverInfo} rounded={true} titleBoxHeight={boxHeight-4} />\n\t\t\t<ProjectName serverInfo={serverInfo} />\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from 'react';\nimport {View} from \"native-base\";\nimport {ServerInfoHelper} from \"../helper/ServerInfoHelper\";\nimport {ServerInfo} from \"@directus/sdk\";\nimport {DirectusImage} from \"./DirectusImage\";\nimport ServerAPI from \"../ServerAPI\";\n\ninterface AppState {\n\tserverInfo?: ServerInfo;\n}\nexport const ProjectBackground: FunctionComponent<AppState> = (props) => {\n\n\tconst serverInfo = props.serverInfo || ServerAPI.tempStore.serverInfo;\n\n\tlet imageBackgroundAssetId = ServerInfoHelper.getProjectBackgroundAssetId(serverInfo)\n\tlet project_color = ServerInfoHelper.getProjectColor(serverInfo);\n\n\tlet fallbackStyle = {};\n\tif(!imageBackgroundAssetId){\n\t\tfallbackStyle = {backgroundColor: project_color};\n\t}\n\n\treturn(\n\t\t<View style={{flex: 1}}>\n\t\t\t<DirectusImage alt={\"\"}\n\t\t\t\t\t\t   assetId={imageBackgroundAssetId}\n\t\t\t\t\t\t   isPublic={true}\n\t\t\t\t\t\t   style={[{flex: 1}, fallbackStyle]} />\n\t\t</View>\n\t)\n}","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from 'react';\nimport {Flex, KeyboardAvoidingView, useBreakpointValue, View, Wrap, Text} from \"native-base\";\nimport ServerAPI from \"../ServerAPI\";\nimport {Floaters} from \"./Floaters\";\nimport {ScrollViewWithGradient} from \"../utils/ScrollViewWithGradient\";\nimport {Platform, StatusBar} from \"react-native\";\nimport {ProjectBanner} from \"../project/ProjectBanner\";\nimport {ProjectBackground} from \"../project/ProjectBackground\";\nimport {ShowMoreGradientPlaceholder} from \"../utils/ShowMoreGradientPlaceholder\";\nimport {KitchenSafeAreaView} from \"../components/KitchenSafeAreaView\";\nimport {LegalRequiredLinks} from \"../screens/legalRequirements/LegalRequiredLinks\";\nimport {CookieInformation} from \"../screens/legalRequirements/CookieInformation\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {TranslationKeys} from \"../translations/TranslationKeys\";\n\nexport const LoginTemplate: FunctionComponent = (props) => {\n\t/**\n\tbreakpoints = {\n\t\tbase: 0,\n\t\tsm: 480,\n\t\tmd: 768,\n\t\tlg: 992,\n\t\txl: 1280,\n\t};\n\t */\n\n\tlet renderLoginTopRight = ConfigHolder.plugin.renderLoginTemplateTopRight;\n\n\tconst useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n\tconst translation_by_continuing_you_agree_to_terms_and_conditions_and_privacy_policy = useTranslation(TranslationKeys.by_continuing_you_agree_to_terms_and_conditions_and_privacy_policy);\n\n  const paddingTop = Platform.OS === \"android\" ? StatusBar.currentHeight : 0\n  const keyboardVerticalOffset = paddingTop;\n\tconst isSmallDevice = useBreakpointValue({\n\t\tbase: true,\n\t\tmd: false,\n\t})\n\n  const serverInfo = ServerAPI.tempStore.serverInfo;\n\n\tfunction renderSpaceBetweenLogoAndSignIn(){\n\t\treturn (\n\t\t\t<View style={{height: 12}}></View>\n\t\t)\n\t}\n\n\tfunction renderConsentTermsOfUseAndPrivacyPolicy(){\n\t  return(\n\t    <View style={{\n\t      flexDirection: \"row\",\n        flexWrap: \"wrap\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      }}>\n        <Text textAlign={\"center\"} fontSize={\"sm\"}>{translation_by_continuing_you_agree_to_terms_and_conditions_and_privacy_policy}</Text>\n      </View>\n    )\n  }\n\n\tfunction renderLeftSide(){\n\n\t\tlet padding = isSmallDevice ? 20: 80;\n\t\tlet width = isSmallDevice ? \"100%\" : 500;\n\n\t\treturn(\n\t\t\t<Flex style={{width: width, height: \"100%\"}}>\n        <KeyboardAvoidingView\n          keyboardVerticalOffset = {keyboardVerticalOffset} // adjust the value here if you need more padding\n          style={{flex: 1, width: \"100%\"}}\n          behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"} >\n\t\t\t\t<ScrollViewWithGradient style={{flex: 1}}>\n\n          <CookieInformation />\n\t\t\t\t\t<View style={{paddingHorizontal: padding, paddingTop: padding, height: \"100%\", width: \"100%\"}}>\n\t\t\t\t\t\t<Wrap\n              flexDirection=\"row\"\n              justify=\"space-between\"\n            >\n              <ProjectBanner serverInfo={serverInfo} />\n              {renderLoginTopRight()}\n            </Wrap>\n\t\t\t\t\t\t{renderSpaceBetweenLogoAndSignIn()}\n\t\t\t\t\t\t{props.children}\n\t\t\t\t\t</View>\n\t\t\t\t</ScrollViewWithGradient>\n        </KeyboardAvoidingView>\n        <View style={{paddingHorizontal: padding, width: \"100%\"}}>\n          {renderConsentTermsOfUseAndPrivacyPolicy()}\n          <Wrap\n            flexDirection=\"row\"\n            justify=\"center\"\n          >\n            <LegalRequiredLinks />\n          </Wrap>\n        </View>\n\t\t\t</Flex>\n\t\t);\n\t}\n\n\tfunction renderRightSide(){\n\t\tif(isSmallDevice){\n\t\t\treturn null;\n\t\t}\n\n\t\treturn(\n\t\t\t<ProjectBackground />\n\t\t)\n\t}\n\n\treturn (\n    <KitchenSafeAreaView>\n        <Flex\n          style={{height: \"100%\", width: \"100%\"}}\n          flexDirection=\"row\"\n        >\n          {renderLeftSide()}\n          {renderRightSide()}\n          <Floaters />\n        </Flex>\n\t\t</KitchenSafeAreaView>\n\t)\n}\n","// @ts-nocheck\nimport {BaseTemplate} from \"../templates/BaseTemplate\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {MenuItem} from \"./MenuItem\";\nimport {Navigation} from \"./Navigation\";\n\n\nimport {Login} from \"../auth/Login\";\nimport {LoginTemplate} from \"../templates/LoginTemplate\";\nimport {Home} from \"../screens/home/Home\";\nimport {RouteProps} from \"./Navigation\";\nimport React from \"react\";\nimport {RouteRegisterer} from \"./RouteRegisterer\";\nimport {AboutUs} from \"../screens/legalRequirements/AboutUs\";\nimport {License} from \"../screens/legalRequirements/License\";\nimport {PrivacyPolicy} from \"../screens/legalRequirements/PrivacyPolicy\";\nimport {RouteHelper} from \"./RouteHelper\";\nimport {Settings} from \"../screens/settings/Settings\";\nimport {BaseNoPaddingTemplate} from \"../templates/BaseNoPaddingTemplate\";\nimport {CloneChildrenWithProps} from \"../helper/CloneChildrenWithProps\";\nimport {CookiePolicy} from \"../screens/legalRequirements/CookiePolicy\";\nimport {Accessibility} from \"../screens/legalRequirements/Accessibility\";\n\nexport class DefaultNavigation {\n\n  static async registerRoutesAndMenus(user, role, permissions){\n    Navigation.menusResetRegistered();\n    Navigation.routesResetRegistered();\n\n    DefaultNavigation.registerDefaultRoutes(user, role, permissions);\n    DefaultNavigation.registerLegalRequirements();\n    if(!!ConfigHolder.plugin){\n      await ConfigHolder.plugin.registerRoutes(user, role, permissions);\n    }\n  }\n\n  static registerDefaultRoutes(user, role, permissions){\n    let loginRoute = Navigation.routeRegister({\n      component: Login,\n      template: LoginTemplate,\n    })\n\n    let homeRoute = Navigation.routeRegister({\n      component: Home,\n      template: BaseTemplate,\n    })\n\n    if(!user){\n      let loginMenu = MenuItem.fromRoute(loginRoute)\n      loginMenu.position = 1000;\n      Navigation.menuRegister(MenuItem.fromRoute(loginRoute))\n    } else {\n      //Navigation.menuRegister(MenuItem.fromRoute(homeRoute))\n    }\n  }\n\n  static registerLegalRequirements(){\n\n    const BaseTemplateWithoutCookiesForce = (props) => {return <BaseTemplate autoOpenCookies={false}  {...props}/>};\n\n    let about_us_menu_item = MenuItem.fromRoute(Navigation.routeRegister({\n      title: \"Impressum\",\n      component: AboutUs,\n      template: BaseTemplateWithoutCookiesForce\n    }))\n    Navigation.requiredMenuItems[Navigation.DEFAULT_MENU_KEY_ABOUT_US] = about_us_menu_item;\n\n    let privacy_policy_menu_item = MenuItem.fromRoute(Navigation.routeRegister({\n      title: \"Datenschutz\",\n      component: PrivacyPolicy,\n      template: BaseTemplateWithoutCookiesForce\n    }))\n    Navigation.requiredMenuItems[Navigation.DEFAULT_MENU_KEY_PRIVACY_POLICY] = privacy_policy_menu_item;\n\n    let license_menu_item = MenuItem.fromRoute(Navigation.routeRegister({\n      title: \"Lizenz\",\n      component: License,\n      template: BaseTemplate\n    }));\n    Navigation.requiredMenuItems[Navigation.DEFAULT_MENU_KEY_LICENSE] = license_menu_item;\n\n    let settings_menu_item = MenuItem.fromRoute(Navigation.routeRegister({\n      title: \"Einstellungen\",\n      component: Settings,\n      template: BaseNoPaddingTemplate\n    }));\n    Navigation.requiredMenuItems[Navigation.DEFAULT_MENU_KEY_SETTINGS] = settings_menu_item;\n\n    let accessibility_menu_item = MenuItem.fromRoute(Navigation.routeRegister({\n      title: \"Barrierefreiheitserklärung\",\n      component: Accessibility,\n      template: BaseTemplate\n    }))\n    Navigation.requiredMenuItems[Navigation.DEFAULT_MENU_KEY_ACCESSIBILITY] = accessibility_menu_item;\n\n  }\n\n\n\n  static getAllScreens(initialSearch){\n    let registeredRoutes = Navigation.routeGetRegistered();\n    return DefaultNavigation.getScreensFor(registeredRoutes, initialSearch);\n  }\n\n  private static getRegisteredRouteForScreenByComponent(component){\n    return(\n      {\n        [RouteHelper.getNameOfComponent(component)]: Navigation.routeGetRegistered()[RouteHelper.getNameOfComponent(component)]\n      }\n    )\n  }\n\n  private static getRegisteredRoutesForScreenByComonents(...components){\n    let registeredRoutes = {};\n    for(let i = 0; i < components.length; i++){\n      registeredRoutes = {\n        ...registeredRoutes,\n        ...DefaultNavigation.getRegisteredRouteForScreenByComponent(components[i])\n      }\n    }\n    return registeredRoutes;\n  }\n\n  static getAnonymUserScreens(initialSearch){\n    let loginScreens = DefaultNavigation.getScreensFor(\n      {\n        [Navigation.DEFAULT_ROUTE_LOGIN]: Navigation.routeGetRegistered()[Navigation.DEFAULT_ROUTE_LOGIN],\n        ...DefaultNavigation.getRegisteredRoutesForScreenByComonents(AboutUs, License, PrivacyPolicy, Settings, Accessibility)\n      },\n      initialSearch\n    );\n    return loginScreens;\n  }\n\n  static isAnonymUserRoute(routeName){\n    let anonymScreens = DefaultNavigation.getAnonymUserScreens({});\n    for(let i = 0; i < anonymScreens.length; i++){\n      if(anonymScreens[i].routeName === routeName){\n        return true;\n      }\n    }\n    return false;\n  }\n\n  static getScreensFor(registeredRoutes, initialSearch){\n    let Drawer = RouteRegisterer.getDrawer();\n    let renderedScreens = [];\n    for(let routeKey in registeredRoutes){\n      let routeInfo: RouteProps = registeredRoutes[routeKey];\n      let component = routeInfo?.component;\n      if(component){\n        let template = routeInfo?.template;\n        let screenContent = (props) => {\n          return React.createElement(component, {...props})\n        };\n        if(!!template){\n          screenContent = (props) => {\n            let customProps = {};\n            let renderedComponent = React.createElement(component, {...props, ...customProps})\n            return React.createElement(template, {...props, ...customProps, children: renderedComponent, title: routeInfo?.title})\n          };\n        }\n\n        renderedScreens.push(\n            <Drawer.Screen key={routeInfo?.path} name={routeInfo?.path} params={routeInfo?.params} initialParams={initialSearch}>\n            {screenContent}\n            </Drawer.Screen>\n        );\n      }}\n    return renderedScreens;\n  }\n\n}\n","// @ts-nocheck\nimport React from 'react';\nimport {Navigation} from \"./Navigation\";\nimport {NavigatorHelper} from \"./NavigatorHelper\";\n\nexport const NavigationHistorySetter = (props) => {\n\n  const [history, setHistory] = Navigation.useNavigationHistory();\n  if (!NavigatorHelper.setNavigationHistory) {\n    NavigatorHelper.setSetNavigationHistoryFunction(setHistory);\n  }\n\n  return null;\n}\n","// @ts-nocheck\nimport React from 'react';\nimport {RouteRegisterer} from \"./RouteRegisterer\";\nimport {Navigation} from \"./Navigation\";\nimport {CustomDrawerContent} from \"./CustomDrawerContent\";\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {Layout} from \"../templates/Layout\";\nimport {DefaultNavigation} from \"./DefaultNavigation\";\nimport {RouteHelper} from \"./RouteHelper\";\nimport {NavigationHistorySetter} from \"./NavigationHistorySetter\";\nimport {useSynchedDrawerConfig} from \"../synchedstate/SynchedState\";\n\nexport const RootStack = (props) => {\n\n  let isSmallDevice = Layout.usesSmallDevice();\n\n  const startURL = props?.startURL || null;\n\n  let initialRouteName = RouteHelper.getInitialRouteName(startURL);\n  let search = RouteHelper.getSearchParam(startURL);\n\n  const [initialSearch, setInitialSearch] = React.useState(search);\n  const [drawerConfig, setDrawerConfig] = useSynchedDrawerConfig();\n\n  let Drawer = RouteRegisterer.getDrawer();\n\n  // TODO do we have this?\n  // navigationOptions={{unmountInactiveRoutes: true}}\n\n    /**\n    React.useEffect(() => {\n        // Listen for changes in drawerConfig.drawerPosition\n        // When it changes, update the drawerKey to force a re-render of Drawer.Navigator\n        setDrawerKey(prevKey => prevKey + 1);\n    }, [drawerConfig?.drawerPosition]);\n     */\n\n  let largeScreenDrawerType = \"front\";\n\n  const hideDrawer = ConfigHolder.instance.isDrawerHidden()\n  if(!hideDrawer){\n    largeScreenDrawerType = \"permanent\";\n  }\n\n  let drawerType = isSmallDevice ? 'front' : largeScreenDrawerType /** 'front' | 'back' | 'slide' | 'permanent' */\n\n  let drawerBorderColor = RouteRegisterer.getDrawerBorderColor();\n  let drawerStyle = !!drawerBorderColor ? {borderColor: drawerBorderColor} : undefined;\n\n\n  const showOnlyScreensForAnonymUser = !ConfigHolder.instance.getUser();\n  let screens = showOnlyScreensForAnonymUser ? DefaultNavigation.getAnonymUserScreens(initialSearch) : DefaultNavigation.getAllScreens(initialSearch);\n  let unmountOnBlur = showOnlyScreensForAnonymUser ? true : false; // Otherwise logged out user can see the screens of the logged in user, since they are not unmounted\n\n  let pluginRootComponent = null;\n  if(!!ConfigHolder.plugin.getRootComponent){\n    pluginRootComponent = ConfigHolder.plugin.getRootComponent(props);\n  }\n\n  if(!initialRouteName){\n    initialRouteName = Navigation.DEFAULT_ROUTE_HOME;\n  }\n\n  console.log(\"Render RootStack\")\n\n  let drawerPosition = drawerConfig?.drawerPosition || 'left';\n\n  return (\n    <>\n      <NavigationHistorySetter/>\n      <Drawer.Navigator initialRouteName={initialRouteName}\n                        key={ConfigHolder.instance.state.reloadNumber+JSON.stringify(drawerConfig)}\n                        redirectToLogin={props.redirectToLogin+\"\"}\n                        reloadNumber={drawerType+ConfigHolder.instance.state.reloadNumber+drawerPosition}\n                        drawerContent={(props) => <CustomDrawerContent drawerPosition={drawerPosition} {...props} />}\n                        drawerType={drawerType}// for react navigation old\n                        drawerStyle={drawerStyle}// for react navigation old\n                        drawerPosition={drawerPosition} // for react navigation old\n                        screenOptions={{\n                            drawerType: drawerType,\n                            drawerStyle: drawerStyle,\n                            drawerPosition: drawerPosition,\n                          headerShown: false,\n                          animationEnabled: false,\n                          unmountOnBlur: unmountOnBlur\n                          // preload screens\n                        }}\n      >\n        {screens}\n      </Drawer.Navigator>\n      {pluginRootComponent}\n    </>\n  );\n}\n","import {StatusBar} from 'expo-status-bar';\nimport React from 'react';\nimport {useColorMode} from 'native-base';\n\nexport const ColorStatusBar = () => {\n\tconst { colorMode, toggleColorMode } = useColorMode();\n\n\treturn (\n\t\t\t<StatusBar\n\t\t\t\tstyle={colorMode === 'dark' ? 'light' : 'dark'}\n\t\t\t\tbackgroundColor={colorMode == 'dark' ? '#27272a' : '#f3f2f2'}\n\t\t\t\ttranslucent={true}\n\t\t\t/>\n\t);\n};\n","// @ts-nocheck\nimport React, {useEffect, useState} from 'react';\nimport {View,Text} from 'native-base';\nimport {ConfigHolder} from \"../ConfigHolder\";\nimport {useSynchedJSONState} from \"../synchedstate/SynchedState\";\nimport {RequiredStorageKeys} from \"../storage/RequiredStorageKeys\";\nimport ServerAPI from \"../ServerAPI\";\n\nexport const UserInitLoader = (props) => {\n\n  const [userLocalSaved, setUser] = useSynchedJSONState(RequiredStorageKeys.CACHED_USER);\n  const [syncedUser, setSyncedUser] = useState({});\n\n  const [serverInfoLocalSaved, setServerInfo] = useSynchedJSONState(RequiredStorageKeys.CACHED_SERVER_INFO);\n  const [syncedServerInfo, setSyncedServerInfo] = useState({});\n\n  const configHolderUser = ConfigHolder.instance.getUser();\n\n  async function load(){\n    console.log(\"-------------------------\")\n    console.log(\"-------------------------\")\n    console.log(\"Load UserInitLoader\")\n    let serverStatus = await loadServerInfo();\n    let isOffline = !serverStatus;\n    await ConfigHolder.instance.setState({offline: isOffline});\n    if(!isOffline){\n      console.log(\"Load UserInitLoader: Online\")\n      let userRemote = await ConfigHolder.instance.loadUser();\n      console.log(\"Load UserInitLoader: userRemote\", userRemote)\n      setUser(userRemote);\n      setSyncedUser(userRemote);\n\n      setServerInfo(serverStatus)\n      setSyncedServerInfo(serverStatus)\n    } else {\n      ServerAPI.tempStore.serverInfo = serverInfoLocalSaved;\n      await ConfigHolder.instance.setUser(userLocalSaved, null);\n    }\n  }\n\n  async function loadServerInfo(){\n    try{\n      return await ServerAPI.getServerInfo();\n    } catch (err){\n      console.log(\"Error at get Server Info: \",err);\n    }\n  }\n\n  useEffect(() => {\n    load();\n  }, [])\n\n  useEffect(() => {\n    if(JSON.stringify(userLocalSaved) == JSON.stringify(syncedUser)){\n      ConfigHolder.instance.setUser(userLocalSaved, null);\n    }\n  }, [userLocalSaved, syncedUser])\n\n  useEffect(() => {\n    if(JSON.stringify(serverInfoLocalSaved) == JSON.stringify(syncedServerInfo)){\n      ServerAPI.tempStore.serverInfo = serverInfoLocalSaved;\n    }\n  }, [serverInfoLocalSaved, syncedServerInfo])\n\n  return (\n    null\n  );\n}\n","import {RequiredStorageKeys} from \"./RequiredStorageKeys\";\nimport {MyDirectusStorageInterface} from \"./MyDirectusStorageInterface\";\nimport {StorageImplementationInterface} from \"./StorageImplementationInterface\";\nimport {\n  Cookie,\n  CookieDetails,\n  CookieHelper,\n  CookieStorageTypeEnum,\n  CookieGroupEnum\n} from \"../screens/legalRequirements/CookieHelper\";\n\nexport class DefaultStorage implements MyDirectusStorageInterface/** extends Storage */{\n    implementation: StorageImplementationInterface;\n\n    async init(){\n      await this.implementation.init();\n    }\n\n    constructor(implementation: StorageImplementationInterface) {\n        this.implementation = implementation;\n    }\n\n    defaultSaveStorageContext(storageKey, state, payload){\n        try{\n            this.set(storageKey, payload);\n        } catch (err){\n            console.log(err);\n            return false;\n        }\n        return true;\n    }\n\n    async initContextStores(SynchedState){\n        let keys = SynchedState.getRequiredStorageKeys();\n        this.initSynchedStorageKeys(SynchedState, keys, true);\n        let pluginStorageKeys = SynchedState.getPluginStorageKeys()\n        this.initSynchedStorageKeys(SynchedState, pluginStorageKeys, false);\n    }\n\n    initSynchedStorageKeys(SynchedState, keys, override){\n        for(let i=0; i<keys.length; i++){\n            let storageKey = keys[i];\n            let cookie = this.getCookie(storageKey);\n            let value = cookie?.value;\n            CookieHelper.CookieDictNameToDetails[storageKey] = storageKey;\n            SynchedState.registerSynchedStates(storageKey, value, this.defaultSaveStorageContext.bind(this), null, override);\n        }\n    }\n\n    getAllKeys(): string[] {\n      if(!!this.implementation){\n        return this.implementation.getAllKeys();\n      }\n      throw new Error(\"Method not implemented.\");\n    }\n\n    getStorageImplementation(): StorageImplementationInterface{\n        return this.implementation;\n    }\n\n    is_anonymous(){\n        return !!this.get(RequiredStorageKeys.IS_ANONYMOUS);\n    }\n\n    set_is_anonymous(isAnonymous){\n        this.setValueOrDeleteIfNull(RequiredStorageKeys.IS_ANONYMOUS, isAnonymous)\n    }\n\n    setValueOrDeleteIfNull(key, value){\n        if(!value){\n            this.delete(key)\n        } else {\n            this.set(key, value);\n        }\n    }\n\n    clear_credentials(){\n      console.log(\"clear_credentials\");\n      this.set_user(null);\n      this.set_refresh_token(null);\n      this.set_access_token(null);\n      this.set_is_anonymous(false);\n    }\n\n    has_credentials_saved(){\n        if(!!this.get_auth_refresh_token()){\n            return true;\n        }\n        return !!this.get_auth_access_token();\n    }\n\n    set_user(user){\n      if(!!user){\n        user = JSON.stringify(user);\n      }\n      this.setValueOrDeleteIfNull(RequiredStorageKeys.CACHED_USER, user)\n    }\n    /**\n     * Refresh Token\n     */\n    set_refresh_token(token){\n        this.setValueOrDeleteIfNull(RequiredStorageKeys.KEY_AUTH_REFRESH_TOKEN, token)\n    }\n    set auth_refresh_token(token) { //DO not change\n        this.set_refresh_token(token);\n    }\n    get_auth_refresh_token(){\n        return this.get(RequiredStorageKeys.KEY_AUTH_REFRESH_TOKEN);\n    }\n    get auth_refresh_token() { //DO not change\n        return this.get_auth_refresh_token();\n    }\n\n    /**\n     * Auth Token\n     */\n    set_access_token(token){\n        this.setValueOrDeleteIfNull(RequiredStorageKeys.KEY_AUTH_ACCESS_TOKEN, token)\n    }\n    set auth_token(token) { //DO not change\n        this.set_access_token(token);\n    }\n    get_auth_access_token(){\n        return this.get(RequiredStorageKeys.KEY_AUTH_ACCESS_TOKEN);\n    }\n    get auth_token() { //DO not change\n        return this.get_auth_access_token();\n    }\n\n    /**\n     * Expires\n     */\n    set_auth_expires(time: number){\n        let expiresIn = null;\n        if(!!time){\n            let timeNumber = parseInt(\"\"+time);\n            expiresIn = new Date(Date.now() + timeNumber);\n            expiresIn = expiresIn.toISOString()\n        }\n        this.setValueOrDeleteIfNull(RequiredStorageKeys.KEY_AUTH_EXPIRES_DATE, expiresIn+\"\")\n        this.setValueOrDeleteIfNull(RequiredStorageKeys.KEY_AUTH_EXPIRES, time+\"\")\n    }\n    set auth_expires(time){ //DO not change\n        this.set_auth_expires(time);\n    }\n\n    get_auth_expires_date(){\n      return this.get(RequiredStorageKeys.KEY_AUTH_EXPIRES_DATE);\n    }\n\n    get_auth_expires(){\n        return Number(this.get(RequiredStorageKeys.KEY_AUTH_EXPIRES));\n    }\n    get auth_expires() { //DO not change\n        return this.get_auth_expires();\n    }\n\n    public getCookie(cookieName: string): Cookie {\n      let cookieAsString = this.getStorageImplementation().get(cookieName);\n      return this.getCookieFromStorageString(cookieAsString);\n    }\n    public storageEntryExists(cookieName: string): boolean {\n      let cookie = this.getCookie(cookieName);\n      return !!cookie;\n    }\n\n    public getCookieFromStorageString(cookieAsString: string): Cookie {\n      if(!!cookieAsString){\n        return JSON.parse(cookieAsString);\n      }\n      return null;\n    }\n\n    public setCookie(cookieName: string, cookie: Cookie) {\n      this.getStorageImplementation().set(cookieName, this.getStorageStringFromCookie(cookie));\n    }\n\n    public getStorageStringFromCookie(cookie: Cookie): string {\n      return JSON.stringify(cookie);\n    }\n\n    public getNewCookieFromKeyValue(key: string, value: string): Cookie {\n      return {\n        name: key,\n        value: value,\n        date_created: new Date(),\n      }\n    }\n\n    private deleteCookie(cookieName: string) {\n      this.getStorageImplementation().remove(cookieName);\n    }\n\n    /**\n     * Getter and Setter and Delete\n     */\n    get(key: string) { //DO not change\n        let cookie = this.getCookie(key);\n        return cookie?.value;\n\n//        return this.getStorageImplementation().get(key);\n        //return '';\n    }\n\n    set(key: string, value: string) { //DO not change\n        let cookie: Cookie = this.getNewCookieFromKeyValue(key, value);\n        this.setCookie(key, cookie);\n\n//        this.getStorageImplementation().set(key, value);\n        return value;\n    }\n\n    delete(key: string) { //DO not change\n//        this.getStorageImplementation().remove(key);\n        this.deleteCookie(key);\n        return null;\n    }\n\n    deleteAll(){\n        let allKeys = this.getAllKeys();\n        for(let i=0; i<allKeys.length; i++){\n            this.delete(allKeys[i]);\n        }\n    }\n}\n","// @ts-nocheck\nimport React from 'react';\nimport {NativeBaseProvider, Text, View} from 'native-base';\nimport {Root} from './navigation/RootComponent';\nimport ColorCodeHelper from \"./theme/ColorCodeHelper\";\nimport BaseThemeGenerator from \"./theme\";\nimport {RootStack} from \"./navigation/rootNavigator\";\nimport {ColorStatusBar} from \"./components/ColorStatusBar\";\nimport ServerAPI from \"./ServerAPI\";\nimport {Linking, Platform} from \"react-native\";\nimport * as ExpoLinking from \"expo-linking\";\nimport {URL_Helper} from \"./helper/URL_Helper\";\nimport UserHelper from \"./utils/UserHelper\";\nimport {StoreProvider} from \"easy-peasy\";\nimport {SynchedState} from \"./synchedstate/SynchedState\";\nimport {ConfigHolder} from \"./ConfigHolder\";\nimport {RequiredStorageKeys} from \"./storage/RequiredStorageKeys\";\nimport {ViewWithBackgroundColor} from \"./templates/ViewWithBackgroundColor\";\nimport {DefaultNavigation} from \"./navigation/DefaultNavigation\";\nimport {Navigation} from \"./navigation/Navigation\";\nimport EnviromentHelper from \"./EnviromentHelper\";\nimport {UserInitLoader} from \"./utils/UserInitLoader\";\nimport {DefaultStorage} from \"./storage/DefaultStorage\";\nimport {MyDirectusStorage} from \"./storage/MyDirectusStorage\";\nimport {MyDirectusStorageInterface} from \"./storage/MyDirectusStorageInterface\";\nimport {StringHelper} from \"./helper/StringHelper\";\nimport {NavigatorHelper} from \"./navigation/NavigatorHelper\";\n\nexport class App extends React.Component<any, any>{\n  storage: MyDirectusStorageInterface;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tStringHelper.enableReplaceAllOnOldDevices() // Android does not support .replaceAll()\n\n\t\tthis.storage = new DefaultStorage(new MyDirectusStorage());\n\n\t\tif(!props?.ignoreInstance){\n      ConfigHolder.instance = this;\n    }\n\n\t\tthis.subscribe(( url ) => {\n\t\t\tlet baseurl = ExpoLinking.createURL(\"\");\n\t\t\tlet screenURL = url.substr(baseurl.length);\n\t\t\tlet urlSplit = screenURL.split(\"?\");\n\t\t\tlet route = urlSplit[0];\n\t\t\tlet params = URL_Helper.getAllUrlParams(url);\n\t\t\tconsole.log(\"URL Subscribe: \"+route);\n\t\t\tif(Platform.OS!==\"web\"){\n\t\t\t  console.log(\"screenURL: \"+screenURL);\n\t\t\t  console.log(\"baseurl: \"+baseurl);\n\t\t\t  console.log(\"route: \"+route);\n\t\t\t  console.log(\"params:\");\n\t\t\t  console.log(params);\n        NavigatorHelper.navigateToRouteName(route, params);\n      }\n\t\t\t//\n\t\t})\n\t\tthis.state = {\n\t\t  backendUrl: EnviromentHelper.getHardCodedBackendURL(),\n\t\t  syncFinished: false,\n      startURL: undefined,\n\t\t\tuser: undefined,\n      role: undefined,\n      offline: undefined,\n      permissions: undefined,\n\t\t\tloadedUser: false,\n\t\t\treloadNumber: 0,\n\t\t\thideDrawer: false,\n\t\t}\n\t}\n\n\n// Custom function to subscribe to incoming links\n\tsubscribe(listener) {\n\t\t// First, you may want to do the default deep link handling\n\t\tconst onReceiveURL = ({url}) => {\n\t\t  console.log(\"onReceiveURL\");\n\t\t  console.log(\"url: \"+url);\n\t\t\tlistener(url);\n\t\t};\n\n\t\t// Listen to incoming links from deep linking\n\t\tLinking.addEventListener('url', onReceiveURL);\n\t\treturn () => {\n\t\t\t// Clean up the event listeners\n\t\t\tLinking.removeEventListener('url', onReceiveURL);\n\t\t};\n\t}\n\n\tasync loadRole(role_id){\n\t\treturn await ServerAPI.loadRole(role_id);\n\t}\n\n  async loadPermissions(role_id){\n    return await ServerAPI.loadPermissions(role_id);\n  }\n\n\tisDrawerHidden(){\n\t\treturn ConfigHolder.instance.state.hideDrawer;\n\t}\n\n\tasync reload(){\n    await ConfigHolder.instance.setState({\n      reloadNumber: 0, //ConfigHolder.instance.state.reloadNumber+1,\n      syncFinished: false,\n    });\n  }\n\n  async setStartURL(startURL){\n    await ConfigHolder.instance.setState({\n      startURL: startURL,\n    });\n  }\n\n  getBackendUrl(){\n\t  return this.state.backendUrl;\n  }\n\n  async setBackendUrl(url){\n\t  await ConfigHolder.instance.setState({\n      backendUrl: url\n    })\n  }\n\n  async setBackendUrlAndReload(url){\n\t  await ConfigHolder.instance.setBackendUrl(url);\n\t  await ConfigHolder.instance.reload();\n  }\n\n\tasync setHideDrawer(hideDrawer, nextRouteName?){\n    let currentRouteName = Navigation.getCurrentRouteName();\n\t\tif(ConfigHolder.instance.state.hideDrawer!==hideDrawer){\n\t\t  let useRouteName = !!nextRouteName ? nextRouteName : currentRouteName;\n\t\t  useRouteName = useRouteName || ConfigHolder.instance.startURL;\n\n\t\t\tawait ConfigHolder.instance.setState({\n\t\t\t\thideDrawer: hideDrawer,\n\t\t\t\treloadNumber: ConfigHolder.instance.state.reloadNumber+1,\n        startURL: Navigation.ROUTE_HASH_PREFIX+useRouteName,\n\t\t\t});\n\t\t}\n\t}\n\n\tasync setRedirectToLogin(){\n\t  await ConfigHolder.instance.setHideDrawer(true, Navigation.DEFAULT_ROUTE_LOGIN);\n\t}\n\n\tasync setUserAsAnonymous(){\n\t\tConfigHolder.instance.storage.set_is_anonymous(true);\n\t\tawait ConfigHolder.instance.setUser(UserHelper.getAnonymousUser());\n\t}\n\n\tasync setSyncFinished(syncFinished){\n    await this.setState({\n      syncFinished: syncFinished,\n    })\n  }\n\n  isOffline(){\n\t   return ConfigHolder.instance.state?.offline;\n  }\n\n\tasync setUser(user, callback?){\n\t  console.log(\"App.setUser: \",user);\n\n    if(!!user){\n      user.isGuest = UserHelper.isAnonymous(user);\n    }\n    let role_id = user?.role;\n\n    console.log(\"App.setUser: role_id: \",role_id);\n\t\tlet role = await this.loadRole(role_id);\n\t\tconsole.log(\"App.setUser: role: \",role);\n    let permissions = await this.loadPermissions(role_id);\n    console.log(\"App.setUser: permissions: \",permissions);\n\n    if(!callback && !!ConfigHolder.plugin.onLogin){\n      await ConfigHolder.plugin.onLogin(user, role, permissions);\n      callback = () => {};\n    }\n    await DefaultNavigation.registerRoutesAndMenus(user, role, permissions);\n\n\t\tawait ConfigHolder.instance.setState({\n\t\t\treloadNumber: this.state.reloadNumber+1,\n\t\t\tloadedUser: true,\n      syncFinished: false,\n\t\t\tuser: user,\n\t\t\trole: role,\n      permissions: permissions,\n\t\t}, callback)\n\t}\n\n\tgetRole(){\n\t\treturn ConfigHolder.instance.state?.role;\n\t}\n\n\tgetUser(){\n\t\treturn ConfigHolder.instance.state?.user;\n\t}\n\n  getPermissions(){\n    return ConfigHolder.instance.state?.permissions;\n  }\n\n\tasync loadUser(){\n\t  console.log(\"App. Load User\");\n\t\ttry{\n\t\t  console.log(\"App. Load User. Try\");\n\t\t\tif(ServerAPI.areCredentialsSaved()){\n\t\t\t  console.log(\"-- Load User: Credentials saved\");\n\t\t\t\tlet directus = ServerAPI.getClient();\n\t\t\t\tlet user = await ServerAPI.getMe(directus);\n\t\t\t\tconsole.log(\"-- Load User: User loaded\");\n\t\t\t\tconsole.log(user);\n\t\t\t\treturn user;\n\t\t\t} else if(ConfigHolder.instance.storage.is_anonymous()){\n\t\t\t  console.log(\"-- Load User: Guest\");\n\t\t\t\treturn UserHelper.getAnonymousUser();\n\t\t\t} else if(ConfigHolder?.authConfig?.startAsAnonymous){\n        ConfigHolder.instance.storage.set_is_anonymous(true);\n        return UserHelper.getAnonymousUser();\n      }\telse {\n\t\t\t  console.log(\"-- Load User: No Credentials\");\n        return null;\n      }\n\t\t} catch (err){\n\t\t\tconsole.log(\"-- Error at load User\");\n\t\t\tconsole.log(err);\n\t\t}\n\t\treturn null;\n\t}\n\n\tasync loadSynchedVariables(){\n\t  SynchedState.registerSynchedStates(RequiredStorageKeys.CACHED_THEME, ColorCodeHelper.VALUE_THEME_DEFAULT, null, null, false);\n\t\tawait ConfigHolder.instance.storage.init(); //before ConfigHolder.instance.storage.initContextStores();\n\t\tawait ConfigHolder.instance.storage.initContextStores(SynchedState); //before SynchedState.initContextStores();\n\t\tawait SynchedState.initSynchedKeys();\n\t\tawait SynchedState.initContextStores(); //after ConfigHolder.instance.storage.initContextStores();\n\t}\n\n\tasync componentDidMount() {\n\t  await ConfigHolder.instance.initialize();\n\t}\n\n\tasync initialize(){\n\t  await this.loadSynchedVariables();\n    if(!!ConfigHolder.plugin && !!ConfigHolder.plugin.initApp){\n      await ConfigHolder.plugin.initApp();\n    }\n\n    let startURL = await Linking.getInitialURL() || \"\"\n    console.log(\"Initial URL before checking if token: \",startURL);\n\n    let directusAccessTokenSplit = \"?\"+EnviromentHelper.getDirectusAccessTokenName()+\"=\"\n    let directusAutTokenIncluded = startURL.includes(directusAccessTokenSplit);\n    if(directusAutTokenIncluded){\n      let realInitialURL = startURL.split(directusAccessTokenSplit)[0];\n      let directusAccessToken = startURL.split(directusAccessTokenSplit)[1];\n      startURL = realInitialURL+\"#\"+Navigation.ROUTE_PATH_PREFIX+Navigation.DEFAULT_ROUTE_LOGIN+\"?\"+EnviromentHelper.getDirectusAccessTokenName()+\"=\"+directusAccessToken;\n    }\n    console.log(\"Initial URL after checking if token: \",startURL);\n\n    await ConfigHolder.instance.setState({\n      startURL: startURL,\n      loadedUser: false,\n    })\n  }\n\n\tgetBaseTheme(){\n\t\tlet initialColorMode = this.props.initialColorMode || ColorCodeHelper.VALUE_THEME_LIGHT;\n\t\treturn BaseThemeGenerator.getBaseTheme(initialColorMode);\n\t}\n\n\tgetLoadingScreen(additionalContent?){\n    let loadingContent = null;\n    if(!!ConfigHolder.plugin && !!ConfigHolder.plugin.getLoadingComponent){\n      loadingContent = ConfigHolder.plugin.getLoadingComponent();\n    }\n//    return <ViewWithBackgroundColor><View style={{width: \"100%\", height: \"100%\", backgroundColor: \"red\", justifyContent: \"center\", alignItems: \"center\"}}><Text>{JSON.stringify(ConfigHolder.instance.state.startURL, null, 2)}</Text></View></ViewWithBackgroundColor>\n    return (\n      <ViewWithBackgroundColor>\n        {loadingContent}\n        {additionalContent}\n      </ViewWithBackgroundColor>\n    )\n  }\n\n  getSynchScreen(){\n    let syncContent = null;\n    if(!!ConfigHolder.plugin && !!ConfigHolder.plugin.getSyncComponent){\n      syncContent = ConfigHolder.plugin.getSyncComponent();\n    }\n\n    if(!syncContent) {\n      ConfigHolder.instance.setSyncFinished(true)\n    }\n    return <ViewWithBackgroundColor>{syncContent}</ViewWithBackgroundColor>\n  }\n\n  getNormalContent(){\n    let content = <RootStack reloadNumber={this.state.reloadNumber+\"\"+this.state.hideDrawer+this.state.startURL+this.state.syncFinished} startURL={this.state.startURL} />\n    if(!!this.props.children){\n      content = this.props.children;\n    }\n\n    return (\n      <>\n        <Root key={this.state.reloadNumber+\"\"+this.state.hideDrawer+this.state.startURL+this.state.syncFinished}>{content}</Root>\n        <ColorStatusBar />\n      </>\n    )\n  }\n\n\trender() {\n\t\tlet root = null;\n\n\t\tif(this.state.startURL===undefined){\n\t\t  console.log(\"Loading screen\");\n\t\t  root = this.getLoadingScreen();\n\t\t} else if(this.state.reloadNumber===0 || !this.state.loadedUser || this.state.offline===undefined){\n\t\t  root = this.getLoadingScreen(\n        <UserInitLoader key={JSON.stringify(this.getUser())} />\n      )\n    } else if(!this.state.syncFinished) {\n      console.log(\"Sync screen\");\n\t\t  root = this.getSynchScreen();\n    } else {\n      console.log(\"Normal screen\");\n\t\t  root = this.getNormalContent();\n    }\n\n    const theme = this.getBaseTheme();\n\n\t\tconsole.log(\"App. Render\");\n\n\t\tconst rootWrapper = ConfigHolder.plugin.getRootWrapper;\n\t\tlet rootContent = rootWrapper(root);\n\n\t\treturn (\n\t\t\t<StoreProvider store={SynchedState.getContextStore()}>\n\t\t\t\t<NativeBaseProvider reloadNumber={this.state.syncFinished+this.state.reloadNumber+\"\"+this.state.hideDrawer+this.state.startURL} theme={theme} colorModeManager={ColorCodeHelper.getManager()}>\n          <ViewWithBackgroundColor>\n            {rootContent}\n          </ViewWithBackgroundColor>\n\t\t\t\t</NativeBaseProvider>\n\t\t\t</StoreProvider>\n\t\t);\n\t}\n}\n","import {MyActionsheet, MyAlertProps} from \"./helper/MyActionsheet\"\nexport {MyActionsheet, MyAlertProps}\n\nimport EnviromentHelper from \"./EnviromentHelper\";\nexport {EnviromentHelper}\n\nimport {DefaultTranslator} from \"./translations/DefaultTranslator\";\nexport {DefaultTranslator}\n\nimport {CookieDetails, CookieGroupEnum} from \"./screens/legalRequirements/CookieHelper\";\nexport {CookieDetails}\nexport {CookieGroupEnum}\n\nimport {useMyContrastColor} from \"./theme/useMyContrastColor\";\nexport {useMyContrastColor}\n\nimport {HeaderWithActions} from \"./templates/HeaderWithActions\";\nexport {HeaderWithActions}\n\nimport {TranslationKeys} from \"./translations/TranslationKeys\";\nexport {TranslationKeys}\n\nimport {RequiredSettingsButton} from \"./screens/settings/RequiredSettingsButton\";\nexport {RequiredSettingsButton}\n\nimport {LegalRequiredInternalLink} from \"./screens/legalRequirements/LegalRequiredInternalLink\";\nexport {LegalRequiredInternalLink}\n\nimport {LegalRequiredLinks} from \"./screens/legalRequirements/LegalRequiredLinks\";\nexport {LegalRequiredLinks}\n\nimport TextGenerator from \"./helper/TextGenerator\";\nexport {TextGenerator}\n\nimport {BreakPointLayout} from \"./templates/BreakPointLayout\";\nexport {BreakPointLayout}\n\nimport {NavigatorHelper} from \"./navigation/NavigatorHelper\";\nexport {NavigatorHelper}\n\nimport {GridList} from \"./layouts/GridList\";\nexport {GridList};\n\nimport {Navigation} from \"./navigation/Navigation\";\nexport {Navigation}\n\nimport {useProjectColor} from \"./templates/useProjectColor\";\nexport {useProjectColor}\n\nimport {ParentDimension} from \"./components/ParentDimension\";\nexport {ParentDimension}\n\nimport {RequiredSynchedStates} from \"./synchedstate/RequiredSynchedStates\";\nexport {RequiredSynchedStates}\n\nimport {BackButton} from \"./templates/BackButton\";\nexport {BackButton}\n\nimport {DrawerButton} from \"./templates/DrawerButton\";\nexport {DrawerButton}\n\nimport {ScrollViewWithGradient} from \"./utils/ScrollViewWithGradient\";\nexport {ScrollViewWithGradient};\n\nimport {AuthProviderCustom} from \"./auth/AuthProviderCustom\";\nexport {AuthProviderCustom}\n\nimport {MyThemedBox, useThemedShade} from \"./helper/MyThemedBox\";\nexport {MyThemedBox, useThemedShade}\n\nimport {ThemedMarkdown} from \"./components/markdown/ThemedMarkdown\";\nexport {ThemedMarkdown}\n\nimport {DirectusMarkdown} from \"./components/markdown/DirectusMarkdown\";\nexport {DirectusMarkdown}\n\nimport {DirectusSingletonMarkdown} from \"./components/markdown/DirectusSingletonMarkdown\";\nexport {DirectusSingletonMarkdown}\n\nimport {DeviceHelper} from \"./helper/DeviceHelper\";\nexport {DeviceHelper}\n\nimport {PlatformHelper} from \"./helper/PlatformHelper\";\nexport {PlatformHelper}\n\nimport {KitchenSafeAreaView} from \"./components/KitchenSafeAreaView\";\nexport {KitchenSafeAreaView}\n\nimport {Icon} from \"./components/Icon\";\nexport {Icon}\n\nimport {EmptyTemplate} from \"./templates/EmptyTemplate\";\nexport {EmptyTemplate}\n\nimport {MyDirectusStorage} from \"./storage/MyDirectusStorage\";\nexport {MyDirectusStorage}\n\nimport {CrossLottie} from \"./components/CrossLottie\";\nexport {CrossLottie}\n\nimport {DirectusImage} from \"./project/DirectusImage\";\nexport {DirectusImage}\n\nimport {DirectusIcon} from \"./project/DirectusIcon\";\nexport {DirectusIcon}\n\nimport {getDirectusImageUrl} from \"./project/DirectusImage\";\nexport {getDirectusImageUrl}\n\nimport {Layout} from \"./templates/Layout\";\nexport {Layout}\n\nimport CustomFloaters from \"./templates/CustomFloaters\";\nexport {CustomFloaters}\n\nimport {KitchenSkeleton} from \"./project/KitchenSkeleton\";\nexport {KitchenSkeleton}\n\nimport {RequiredStorageKeys} from \"./storage/RequiredStorageKeys\";\nexport {RequiredStorageKeys}\n\nimport {useThemeTextColor} from \"./helper/HelperHooks\";\nexport {useThemeTextColor}\n\nimport {useBackgroundColor} from \"./templates/useBackgroundColor\";\nexport {useBackgroundColor}\n\nimport {\n  SynchedState,\n  useSynchedState,\n  useSynchedJSONState,\n  useSynchedDrawerConfig\n} from \"./synchedstate/SynchedState\";\nexport {useSynchedState}\nexport {SynchedState}\nexport {useSynchedJSONState}\nexport {useSynchedDrawerConfig}\n\nimport ServerAPI from \"./ServerAPI\";\nexport {ServerAPI}\n\nexport function multiply(a: number, b: number): Promise<number> {\n  return Promise.resolve(a * b);\n}\n\nimport {BaseNoScrollTemplate} from \"./templates/BaseNoScrollTemplate\";\nexport {BaseNoScrollTemplate}\n\nimport {BaseNoPaddingTemplate} from \"./templates/BaseNoPaddingTemplate\";\nexport {BaseNoPaddingTemplate}\n\nimport {BasePadding} from \"./templates/BasePadding\";\nexport {BasePadding}\n\nimport {BaseTemplate} from \"./templates/BaseTemplate\";\nexport {BaseTemplate}\n\nimport {MenuItem} from \"./navigation/MenuItem\";\nexport {MenuItem}\n\nimport {PluginInterface} from \"./PluginInterface\";\nexport {PluginInterface}\n\nimport {TextWithIcon} from \"./components/TextWithIcon\";\nexport {TextWithIcon};\n\nimport {ConfigHolder} from \"./ConfigHolder\";\nexport {ConfigHolder}\n\nimport {App} from \"./App\";\nexport {App}\n\nimport {Root} from \"./navigation/RootComponent\";\nexport {Root}\n","export class SynchedStateKeys {\n\n\tstatic exampleSynchedText = \"SynchedStorage.exampleSynchedText\"\n\tstatic syncingFinished = \"SynchedStorage.syncingFinished\"\n\tstatic syncedMenuLoader = \"SynchedStorage.syncedMenuLoader\"\n\tstatic synchedUser = \"SynchedStorage.User\"\n\tstatic synchedRole = \"SynchedStorage.Role\"\n\tstatic synchedFoodFeedbacks = \"SynchedStorage.FoodFeedbacks\"\n\n\tstatic synchedDebugVisible = \"SynchedStorage.DebugVisible\"\n\n\tstatic synchedActionSheet = \"ActionSheetOpen\"\n\n\tstatic SYNCHED_NotificationPermission = \"SynchedStorage.NotificationPermission\"\n\tstatic SYNCHED_DeviceInformations = \"SynchedStorage.DeviceInformations\"\n\n}\n","export class StorageKeys{\n\n    static CACHED_REMOTEAPPSETTINGS = \"Cached.RemoteAppSettings\";\n\n    static CACHED_MEALOFFERS_TODAY = \"Cached.FoodOffersToday\";\n    static CACHED_OS_LANGUAGE = \"Cached.OSLanguage\";\n\n    static CACHED_APP_SETTINGS_CHATROOMS = \"Cached.AppSettings.Chatrooms\";\n    static CACHED_APP_SETTINGS_MEALS = \"Cached.AppSettings.Foods\";\n    static CACHED_APP_SETTINGS_UTILIZATIONS = \"Cached.AppSettings.Utilizations\";\n    static CACHED_APP_SETTINGS_ACCOUNT_BALANCE = \"Cached.AppSettings.AccountBalance\";\n    static CACHED_APP_SETTINGS_NOTIFICATIONS = \"Cached.AppSettings.Notifications\";\n    static CACHED_APP_SETTINGS_HOUSING = \"Cached.AppSettings.Housing\";\n    static CACHED_APP_SETTINGS_NEWS = \"Cached.AppSettings.News\";\n    static CACHED_APP_SETTINGS_BUILDINGS = \"Cached.AppSettings.Buildings\";\n    static CACHED_APP_SETTINGS_COURSE_TIMETABLE = \"Cached.AppSettings.CourseTimetable\";\n\n    static CACHED_PERSONAL_SETTINGS_COURSE_TIMETABLE = \"Cached.PersonalSettings.CourseTimetable\";\n\n    static CACHED_DIRECTUSSETTINGS = \"Cached.DirectusSettings\";\n    static CACHED_DIRECTUS_LANGUAGES = \"Cached.DirectusLanguages\";\n    static CACHED_NEWS = \"Cached.News\";\n    static CACHED_APP_TRANSLATIONS = \"Cached.AppTranslations\";\n    static CACHED_REMOTEAPPFIELDS = \"Cached.RemoteAppFields\";\n    static CACHED_MARKINGS = \"Cached.Markings\";\n    static CACHED_WIKIS = \"Cached.Wikis\";\n    static CACHED_CHATROOMS = \"Cached.Chatrooms\";\n    static CACHED_CHATROOMTOPICS = \"Cached.ChatroomTopics\";\n    static CACHED_PROFILE = \"Cached.Profile\";\n    static LOCAL_BUILDINGS_LAST_VISITED = \"Local.Buildings.LastVisited\";\n    static CACHED_BUILDINGS = \"Cached.Buildings\";\n    static CACHED_APARTMENTS = \"Cached.Apartments\";\n    static CACHED_WASHINGMACHINES = \"Cached.Washingmachines\";\n    static CACHED_IMAGE_OVERLAYS = \"Cached.ImageOverlays\";\n    static CACHED_BUSINESSHOURS = \"Cached.Businesshours\";\n    static CACHED_BUILDINGSFAVORITES = \"Cached.BuildingsFavorites\";\n    static CACHED_CANTEENS = \"Cached.Canteens\";\n\n    static CACHED_NOTIFICATIONS_LOCAL = \"Cached.Notifications.Local\";\n\n    static CACHED_LOCAL_PERFORMANCE_MODE = \"CACHED_LOCAL_PERFORMANCE_MODE\";\n\n    static CACHED_DEBUG_MODE = \"Cached.Debug.Mode\";\n    static CACHED_DEMO_MODE = \"Cached.Demo.Mode\";\n    static CACHED_DEBUG_INFORMATIONS = \"Cached.Debug.INFORMATIONS\";\n\n}\n","import {Text, View} from \"native-base\";\nimport React from \"react\";\n\nexport class StringHelper {\n\n\tstatic EMPTY_SPACE = \"\\u200b\"\n\tstatic NONBREAKING_SPACE = \"\\u00a0\"\n\n\tstatic renderZeroSpaceHeight(amount?: number){\n\t\tif(amount===undefined){\n\t\t\tamount=1;\n\t\t}\n\n\t\tlet content = [];\n\t\tfor(let i=0; i<amount; i++){\n\t\t\tcontent.push(<Text key={\"zeroSpace_\"+i}>{StringHelper.EMPTY_SPACE}</Text>);\n\t\t}\n\n\t\treturn(\n\t\t\t<View style={{flexDirection: \"column\"}}>\n\t\t\t\t{content}\n\t\t\t</View>\n\t\t)\n\t}\n\n\tstatic getNameOfTypeObject(obj){\n\t\treturn Object.keys(obj)[0];\n\t}\n\n\tstatic getUnderScoreNameOfTypeObject(obj){\n\t\treturn StringHelper.pascalCaseToUnder_Score(StringHelper.getNameOfTypeObject(obj));\n\t}\n\n\t//https://stackoverflow.com/questions/30521224/javascript-convert-pascalcase-to-underscore-case-snake-case\n\tstatic pascalCaseToUnder_Score(str: string){\n\t\treturn str.split(/(?=[A-Z])/).join('_').toLowerCase();\n\t}\n\n\tstatic replaceAll(str, find, replace) {\n\t\treturn str.replace(new RegExp(find, 'g'), replace);\n\t}\n\n\tstatic replaceAllLineBreaks(str, replace?){\n\t\tif(replace===undefined){\n\t\t\treplace = \"\";\n\t\t}\n\t\tlet current = str;\n\t\tlet toReplace = [\"\\r\", \"\\n\"]\n\t\tfor(let i=0; i<toReplace.length; i++){\n\t\t\tlet find = toReplace[i];\n\t\t\tcurrent = StringHelper.replaceAll(current, find, replace);\n\t\t}\n\t\treturn current;\n\t}\n\n\tstatic capitalizeFirstLetter(string) {\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\n\t}\n\n\tstatic enableReplaceAllOnOldDevices(){\n\t\tif(typeof String.prototype.replaceAll === \"undefined\") {\n\t\t\tString.prototype.replaceAll = function(match, replace) {\n\t\t\t\treturn this.replace(new RegExp(match, 'g'), () => replace);\n\t\t\t}\n\t\t}\n\t}\n\n}\n","export class NewsHelper{\n\n\tpublic static getDemoNewsDict(){\n\t\tlet amount = 20;\n\t\tlet output = {};\n\t\t// a list of string names as titles containing headlines news\n\t\tlet titles = [\n\t\t\t\"New Noodles\",\n\t\t\t\"Price Reduction\",\n\t\t\t\"New Staff\",\n\t\t\t\"Changed Opening Hours\",\n\t\t\t\"New Menu\",\n\t\t\t\"Location change\",\n\t\t\t\"New Restaurant\",\n\t\t\t\"New Food\",\n\t\t\t\"New Drinks\",\n\t\t\t\"New Dishes\",\n\t\t\t\"New Ingredients\",\n\t\t]\n\t\tfor(let index = 0; index<amount; index++){\n\t\t\tlet id = index+1;\n\t\t\tlet title = titles[index%titles.length];\n\t\t\tlet newsItem = NewsHelper.getDemoNewsByIndex(title, id)\n\t\t\toutput[newsItem.id] = newsItem;\n\t\t}\n\t\treturn output;\n\t}\n\n\tprivate static getDemoNewsByIndex(custonName?, index?){\n\t\tlet demoName = custonName || \"Food Name\";\n\n\t\treturn {\n\t\t\t\"id\": index,\n\t\t\t\"translations\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": 7469,\n\t\t\t\t\t\"languages_code\": \"de-DE\",\n\t\t\t\t\t\"news_id\": \"1216-1884\",\n\t\t\t\t\t\"title\": \"DEMO \"+demoName+\" DE\",\n\t\t\t\t\t\"content\": \"DEMO Content \"+demoName+\" DE\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": 7470,\n\t\t\t\t\t\"languages_code\": \"en-US\",\n\t\t\t\t\t\"news_id\": \"1216-1884\",\n\t\t\t\t\t\"name\": \"DEMO \"+demoName+\" EN\",\n\t\t\t\t\t\"content\": \"DEMO Content \"+demoName+\" EN\",\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t}\n\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {useDebugMode, useDemoMode, useSynchedWashingmachine} from \"../../helper/synchedJSONState\";\nimport {ImageOverlayPosition, ImageOverlays} from \"../imageOverlays/ImageOverlays\";\nimport {ImageOverlay} from \"../imageOverlays/ImageOverlay\";\nimport {DefaultComponentCard} from \"../detailsComponent/DefaultComponentCard\";\nimport {Text, View} from \"native-base\";\nimport {WashingmachineAnimation} from \"../animations/WashingmachineAnimation\";\nimport {WashingmachineNotifyOverlay} from \"./WashingmachineNotifyOverlay\";\nimport {DateHelper} from \"../../helper/DateHelper\";\n\nexport class WashingmashineHelper{\n\n\tstatic getDemoWashingmachineIdList(){\n\t\tlet keys = Object.keys(WashingmashineHelper.getDemoWashingmachineDict());\n\t\treturn keys;\n\t}\n\n\tstatic getDemoWashingmachineDict(){\n\t\tlet dict = {};\n\t\tfor(let i=1; i<=4; i++){\n\t\t\tdict[i+\"\"] = WashingmashineHelper.getDemoMachine(i);\n\t\t}\n\t\treturn dict;\n\t}\n\n\tprivate static getDemoMachine(id){\n\t\tlet names = [\"Demo WM\", \"Demo TR\"];\n\t\tlet name = names[id%names.length]+((parseInt((id-1)/names.length+\"\")+1));\n\n\t\tlet minutes = id%3==0 ? 0 : 1+id*1;\n\t\tlet date_finished = DateHelper.getCurrentDateInMinutes(minutes);\n\n\t\treturn {\n\t\t\tid: id,\n\t\t\tname: name,\n\t\t\tdate_finished: date_finished\n\t\t}\n\t}\n\n}\n","import {ServerAPI} from \"../../../kitcheningredients\";\n\nexport class SyncCollectionLoader {\n\n\tstatic getFieldsForAll(){\n\t\treturn [\"*\"];\n\t}\n\n\tstatic getFieldsForAllAndTranslations(additionalFields: string[] = []): string[]{\n\t\tlet fields = SyncCollectionLoader.getFieldsForAll();\n\t\tfields.push(\"translations.*\");\n\t\tfor(let field of additionalFields){\n\t\t\tfields.push(field);\n\t\t}\n\t\treturn fields;\n\t}\n\n\tprivate static async getRemoteCollection(collection, fields?, transformFunction?, sort?, limit?, offset?): Promise<any>{\n\t\tif(!limit){\n\t\t\tlimit = -1;\n\t\t}\n\n\t\t//console.log(\"getRemoteCollection\", collection);\n\t\tif(!fields){\n\t\t\tfields = SyncCollectionLoader.getFieldsForAll();\n\t\t}\n\t\tconst directus = ServerAPI.getClient();\n\t\ttry{\n\t\t\tlet answer = await directus.items(collection).readByQuery({limit: limit, fields: fields, sort: sort, offset: offset});\n\t\t\tlet data = answer?.data;\n\n\t\t\tif(!!transformFunction && !!data){\n\t\t\t\tdata = await transformFunction(data);\n\t\t\t}\n\n\t\t\treturn data;\n\t\t} catch (err){\n\t\t\tconsole.log(\"getRemoteCollection\", collection, \"failed\");\n\t\t\tconsole.log(err);\n\t\t\treturn [];\n\t\t}\n\t\treturn null;\n\t}\n\n\tstatic async setCacheOfRemoteCollection(collection, currentValue, setFunction, fields?, transformFunction?, sort?, limit?, offset?): Promise<any>{\n\t\tlet loadedValue = await SyncCollectionLoader.getRemoteCollection(collection, fields, transformFunction, sort, limit, offset);\n\t\tif(!!loadedValue){\n\t\t\tlet asString = JSON.stringify(loadedValue)\n\t\t\tif(asString!==JSON.stringify(currentValue)){\n\t\t\t\tsetFunction(loadedValue);\n\t\t\t}\n\t\t}\n\t\treturn loadedValue;\n\t}\n\n}\n","export class CollectionHelper {\n\n    static transformCollectionToDict(collection: any[]): any {\n        return CollectionHelper.transformCollectionToDictByKey(\"id\", collection);\n    }\n\n    static transformCollectionToDictByKey(key: string, collection: any[]): any {\n        let dict = {};\n        for(let item of collection){\n            dict[item[key]] = item;\n        }\n        return dict;\n    }\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {useSynchedChatroomsDict, useSynchedChatroomTopicsDict} from \"../../helper/synchedJSONState\";\nimport {useDirectusTranslation} from \"../translations/DirectusTranslationUseFunction\";\nimport {SyncCollectionLoader} from \"../../helper/syncAndSetup/SyncCollectionLoader\";\nimport {CollectionHelper} from \"../../helper/CollectionHelper\";\n\nexport class ConversationHelper{\n\n    static useChatroom(chatroom_id){\n        const [chatroomsDict, setChatroomsDict] = useSynchedChatroomsDict();\n        return chatroomsDict?.[chatroom_id];\n    }\n\n    static useReloadAllChatrooms(){\n        const [chatroomsDict, setChatroomsDict] = useSynchedChatroomsDict();\n        return () => ConversationHelper.loadAllChatrooms(chatroomsDict, setChatroomsDict);\n    }\n\n    static useChatroomTopicTitleByChatroomId(id){\n        const chatroom = ConversationHelper.useChatroom(id);\n        let chatroom_messages = chatroom?.messages;\n        let chatroomTopicId = chatroom?.topic;\n        return ConversationHelper.useChatroomTopicTitleByTopicId(chatroomTopicId);\n    }\n\n\n    static useChatroomTopicTitleByTopicId(topic_id){\n        const [chatroomTopicsDict, setChatroomTopicsDict] = useSynchedChatroomTopicsDict();\n        let chatroomTopic = chatroomTopicsDict?.[topic_id];\n        let chatroomTopicTranslations = chatroomTopic?.translations;\n        let topicTitle = useDirectusTranslation(chatroomTopicTranslations, \"content\", null, \"Title\");\n        return topicTitle;\n    }\n\n    static getChatroomsTablename(){\n        return \"chatrooms\";\n    }\n\n    static getChatroomMessagesTablename(){\n        return \"chatroom_messages\";\n    }\n\n    static async loadAllChatrooms(chatroomsDict, setChatroomsDict){\n        await SyncCollectionLoader.setCacheOfRemoteCollection(ConversationHelper.getChatroomsTablename(), chatroomsDict, setChatroomsDict, SyncCollectionLoader.getFieldsForAllAndTranslations([\"messages.*\"]), CollectionHelper.transformCollectionToDict, [\"-date_updated\"], 100, 0);\n    }\n\n    static getDemoDict() {\n        let amountDemoConversations = 10;\n        let demoConversations = {}\n        for (let i = 1; i <= amountDemoConversations; i++) {\n            demoConversations[i] = ConversationHelper.getDemoConversation(i);\n        }\n        return demoConversations;\n    }\n\n\n    static getDemoConversation(id){\n        return({\n                \"id\": id,\n                \"status\": \"draft\",\n                \"sort\": null,\n                \"user_created\": \"294e2f5d-3508-4c8f-9120-3921d3bbb601\",\n                \"date_created\": \"2023-01-31T16:11:40.523Z\",\n                \"user_updated\": null,\n                \"date_updated\": null,\n                \"owner\": null,\n                \"topic\": ConversationHelper.getDemoChatroomTopic(id),\n                \"messages\": ConversationHelper.getDemoMessages()\n            }\n        )\n    }\n\n    static getDemoChatroomTopic(conversation_id){\n        return conversation_id%3;\n    }\n\n    static getDemoMessages(){\n        let amountDemoMessages = 10;\n        let demoMessages = []\n        for (let i = 1; i <= amountDemoMessages; i++) {\n            demoMessages.push(ConversationHelper.getDemoMessage(i));\n        }\n        return demoMessages;\n    }\n\n    static getDemoMessage(id){\n        return(\n            {\n                \"id\": id,\n                \"status\": \"draft\",\n                \"sort\": null,\n                \"user_created\": \"294e2f5d-3508-4c8f-9120-3921d3bbb601\",\n                \"date_created\": \"2023-03-02T13:33:14.531Z\",\n                \"user_updated\": null,\n                \"date_updated\": null,\n                \"chatroom\": 1,\n                \"textarea\": ConversationHelper.getDemoMessageTextarea(id)\n            }\n        )\n    }\n\n    static getDemoMessageTextarea(id){\n        let lineText = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod, nisl vitae aliquam lacinia, nisl nisl aliquam nisl.\";\n\n        if(id%3==0){\n            // return a long text with linebreaks\n            return lineText + \"\\n\"+lineText + \"\\n\"+lineText+ \"\\n\"+lineText+ \"\\n\"+lineText\n        }\n        else if(id%2==0){\n            // return a long text without linebreaks\n            return lineText + lineText\n        } else{\n            // return a short text\n            return lineText\n        }\n    }\n\n}\n","export class DistanceHelper {\n\n    static EARTH_RADIUS_IN_KM = 6371; // Radius of the earth in km\n\n    static getDistanceInKm(lat1, lon1, lat2, lon2, precision = 2) {\n        return DistanceHelper.getDistanceInKmWithPlanetRadius(lat1, lon1, lat2, lon2, DistanceHelper.EARTH_RADIUS_IN_KM, precision);\n    }\n\n    static getDistanceInKmWithPlanetRadius(lat1, lon1, lat2, lon2, planetRadius, precision = 2) {\n        let dLat = DistanceHelper.deg2rad(lat2-lat1);  // DistanceHelper.deg2rad below\n        let dLon = DistanceHelper.deg2rad(lon2-lon1);\n        let a =\n            Math.sin(dLat/2) * Math.sin(dLat/2) +\n            Math.cos(DistanceHelper.deg2rad(lat1)) * Math.cos(DistanceHelper.deg2rad(lat2)) *\n            Math.sin(dLon/2) * Math.sin(dLon/2)\n        ;\n        let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n        let d = planetRadius * c; // Distance in km\n\n        if(precision>0){\n            let rounded = Math.round(d * Math.pow(10, precision)) / Math.pow(10, precision);\n            return rounded;\n        }\n        return d;\n    }\n\n    private static deg2rad(number: number) {\n        return number * (Math.PI/180)\n    }\n}\n","import React from \"react\";\nimport {Platform} from \"react-native\";\nimport DeviceInfo from 'react-native-device-info'\n\nexport class PlatformHelper {\n\n\tstatic isWeb(){\n\t\treturn Platform.OS === \"web\";\n\t}\n\n\tstatic isIOS(){\n\t\treturn Platform.OS === \"ios\";\n\t}\n\n\tstatic isAndroid(){\n\t\treturn Platform.OS === \"android\";\n\t}\n\n\tstatic isSmartPhone(){\n\t\t//or is it better to as !isWeb\n\t\treturn PlatformHelper.isAndroid() ||  PlatformHelper.isIOS()\n\t}\n\n\tstatic getPlatformDisplayName(){\n\t\tif(PlatformHelper.isWeb()){\n\t\t\treturn \"Web\";\n\t\t} else if(PlatformHelper.isIOS()){\n\t\t\treturn \"iOS\";\n\t\t} else if(PlatformHelper.isAndroid()){\n\t\t\treturn \"Android\";\n\t\t} else {\n\t\t\treturn \"Unknown\";\n\t\t}\n\t}\n\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Linking, Platform} from \"react-native\";\nimport * as IntentLauncher from 'expo-intent-launcher';\nimport {PlatformHelper} from \"./PlatformHelper\";\nimport {LocationType} from \"./geo/LocationType\";\n\nconst isAndroid = PlatformHelper.isAndroid();\nconst isIOS = PlatformHelper.isIOS();\nconst isMobile = isAndroid || isIOS;\n\nconst ANDROID_PARAM_NEW_ACTIVITY = {flags: 268435456};\n\nexport class CommonSystemActionHelper {\n\n\tstatic async openExternalURL(url){\n\t\tif(isMobile){\n\t\t\tawait Linking.openURL(url);\n\t\t} else {\n\t\t\tawait window.open(url, '_blank');\n\t\t}\n\t}\n\n\tstatic async openMaps(location: LocationType, useGoogleMaps?) {\n\t\tconst latitude = location?.latitude;\n\t\tconst longitude = location?.longitude;\n\n\t\tlet alwaysUseGoogleMaps = true;\n\t\tif(useGoogleMaps !== undefined && useGoogleMaps !== null){\n\t\t\talwaysUseGoogleMaps = useGoogleMaps;\n\t\t}\n\n\t\tlet url =\n\t\t\t\"https://www.google.com/maps?q=\" +\n\t\t\tlatitude +\n\t\t\t\",\" +\n\t\t\tlongitude;\n\n\t\tif(!alwaysUseGoogleMaps){\n\t\t\tif(isIOS){\n\t\t\t\turl = \"maps:\" + latitude + \",\" + longitude;\n\t\t\t} else if(isAndroid){\n\t\t\t\turl = \"geo:\" + latitude + \",\" + longitude\n\t\t\t}\n\t\t}\n\n\t\tawait CommonSystemActionHelper.openExternalURL(url);\n\t}\n\n}\n\nclass PrivateSystemActionHelper extends CommonSystemActionHelper{\n\n\tstatic async androidStartActivityAsync(activityAction: string, extras?: any) {\n\t\treturn await IntentLauncher.startActivityAsync(activityAction, {\n\t\t\t...ANDROID_PARAM_NEW_ACTIVITY,\n\t\t\t...extras\n\t\t})\n\t}\n\n\tstatic async openActivity(iosURL: string, androidAction: string, androidExtras?: any) {\n\t\tif (isIOS) {\n\t\t\treturn await Linking.openURL(iosURL)\n\t\t} else if (isAndroid) {\n\t\t\treturn await PrivateSystemActionHelper.androidStartActivityAsync(androidAction, androidExtras);\n\t\t}\n\t}\n\n}\n\nclass mobileSystemActionHelper extends PrivateSystemActionHelper {\n\tstatic async openSystemAppSettings() {\n\t\tif(isMobile){\n\t\t\tawait Linking.openSettings();\n\t\t}\n\t}\n\n\tstatic async openSystemSettings() {\n\t\treturn await PrivateSystemActionHelper.openActivity(\"App-Prefs:\", IntentLauncher.ACTION_SETTINGS);\n\t}\n}\n\nclass iPhoneSystemActionHelper extends mobileSystemActionHelper {\n\n}\n\nclass androidSystemActionHelper extends mobileSystemActionHelper {\n\tstatic async openNFCSettings() {\n\t\treturn await mobileSystemActionHelper.openActivity(\"\", IntentLauncher.ACTION_NFC_SETTINGS);\n\t}\n}\n\n\nexport class SystemActionHelper {\n\n\tstatic mobileSystemActionHelper = mobileSystemActionHelper;\n\tstatic iPhoneSystemActionHelper = iPhoneSystemActionHelper;\n\tstatic androidSystemActionHelper = androidSystemActionHelper;\n\n}\n","import {DistanceHelper} from \"../../helper/geo/DistanceHelper\";\nimport {LocationType} from \"../../helper/geo/LocationType\";\nimport {CommonSystemActionHelper} from \"../../helper/SystemActionHelper\";\nimport {Apartments, BuildingsTranslations, Canteens, DirectusFiles, DirectusUsers} from \"../../directusTypes/types\";\n\nexport class BuildingHelper {\n\n    static openURL(building){\n        const buildingUrl = BuildingHelper.getBuildingUrl(building);\n        CommonSystemActionHelper.openExternalURL(buildingUrl)\n    }\n\n    static getBuildingUrl(building){\n        return building?.url;\n    }\n\n    static openLocation(building){\n        const buildingLocation = BuildingHelper.getBuildingLocation(building);\n        CommonSystemActionHelper.openMaps(buildingLocation)\n    }\n\n    static getBuildingLocation(building): LocationType {\n        const building_coord = building?.coord;\n        const coordinates = building_coord?.coordinates;\n\n        //https://gis.stackexchange.com/questions/244651/leafletgeojson-why-are-lat-lng-coordinates-in-the-wrong-order\n        //GeoJSON is in [lon, lat] order, while the normal order is [lat, lon].\n        //https://en.wikipedia.org/wiki/ISO_6709 says that the order is [lat, lon].\n        const latitude = coordinates?.[1];\n        const longitude = coordinates?.[0];\n        return {\n            latitude: latitude,\n            longitude: longitude,\n        }\n    }\n\n    static getBuildingDistance(building, location): number {\n        const userLat = location?.latitude;\n        const userLon = location?.longitude;\n\n        if(!!building && !!userLat && !!userLon){\n            const buildingLocation = BuildingHelper.getBuildingLocation(building);\n            const buildingLat = buildingLocation.latitude;\n            const buildingLon = buildingLocation.longitude;\n            const distance = DistanceHelper.getDistanceInKm(userLat, userLon, buildingLat, buildingLon);\n            return distance;\n        } else {\n            return undefined;\n        }\n    }\n\n    static formatBuildingDistance(distance): string {\n        if(distance !== undefined && distance !== null){ // distance can be 0\n            if(distance<1){\n                return (distance*1000).toFixed(0)+\"m\";\n            } else if (distance<10){\n                return distance.toFixed(1)+\"km\";\n            } else {\n                return distance.toFixed(0)+\"km\";\n            }\n        } else {\n            return \"\";\n        }\n    }\n\n    static getName(building): string {\n        return building?.name;\n    }\n\n\n    public static getDemoBuildingsDict(){\n        let amount = 20;\n        let output = {};\n        // a list of string names as titles containing headlines news\n        let titles = [\n            \"Majestic Skyscraper\",\n            \"Historic Brownstone\",\n            \"Pristine Corporate Plaza\",\n            \"Modern Tech Park\",\n            \"Artistic Loft Building\",\n            \"Suburban Office Park\",\n            \"Classic Victorian Manor\",\n            \"Innovative Greenhouse Complex\",\n            \"Urban Retail Center\",\n            \"Stately Government Building\"\n        ]\n        for(let index = 0; index<amount; index++){\n            let id = index+1;\n            let title = titles[index%titles.length];\n            let newsItem = BuildingHelper.getDemoNewsByIndex(title, id)\n            output[newsItem.id] = newsItem;\n        }\n        return output;\n    }\n\n    private static getDemoNewsByIndex(custonName?, index?){\n        let demoName = custonName || \"Building Name\";\n\n        return {\n            \"id\": index,\n            \"name\": demoName,\n            \"coord\": {\n                \"coordinates\": [\n                    9.713841832799663,\n                    52.38629873875931\n                ],\n                \"type\": \"Point\"\n            },\n            year_of_construction: (2000+index)+\"\",\n            url: \"https://rocket-meals.de\",\n            \"translations\": [\n                {\n                    \"id\": 7469,\n                    \"languages_code\": \"de-DE\",\n                    \"buildings_id\": \"1216-1884\",\n                    \"content\": \"DEMO Content \"+demoName+\" DE\",\n                },\n                {\n                    \"id\": 7470,\n                    \"languages_code\": \"en-US\",\n                    \"buildings_id\": \"1216-1884\",\n                    \"content\": \"DEMO Content \"+demoName+\" EN\",\n                }\n            ]\n        }\n    }\n\n\n\n}\n","import {useSynchedRemoteSettings, useSynchedSettingsHousing} from \"../../helper/synchedJSONState\";\nimport {Buildings, DirectusUsers, Washingmachines} from \"../../directusTypes/types\";\nimport {WashingmashineHelper} from \"../washingmachine/WashingmashineHelper\";\n\nexport class HousingHelper{\n    static useHousingVisiblity(): boolean{\n        const [housingSettings, setHousingSettings] = useSynchedSettingsHousing();\n        const housingVisibility = housingSettings?.[\"enabled\"]\n        return housingVisibility;\n    }\n\n    public static getDemoHousingDict(){\n        let amount = 20;\n        let output = {};\n        // a list of string names as titles containing headlines news\n        let titles = [\n            \"Small City Apartment\",\n            \"Luxury Riverside House\",\n            \"Modern Loft Condo\",\n            \"Charming Suburban Bungalow\",\n            \"Vintage Townhouse\",\n            \"Cozy Studio Apartment\",\n            \"Elegant Penthouse Suite\",\n            \"Rustic Mountain Cabin\",\n            \"Beachfront Villa\",\n            \"Traditional Farmhouse\"\n        ]\n        for(let index = 0; index<amount; index++){\n            let id = index+1;\n            let title = titles[index%titles.length];\n            let newsItem = HousingHelper.getDemoHousingByIndex(title, id)\n            output[newsItem.id] = newsItem;\n        }\n        return output;\n    }\n\n    private static getDemoHousingByIndex(custonName?, index?){\n        let demoName = custonName || \"Food Name\";\n\n        let availablefromDate = index%2==0 ? new Date() : undefined;\n\n        return {\n            \"id\": index,\n            available_from: availablefromDate,\n            building: index,\n            washingmachines: WashingmashineHelper.getDemoWashingmachineIdList()\n        }\n    }\n}\n","import {useSynchedState} from \"../../kitcheningredients\";\nimport {StorageKeys} from \"./synchedVariables/StorageKeys\";\nimport {useSynchedCanteenBuilding} from \"../components/canteen/CanteenHelper\";\nimport {Apartments, Buildings} from \"../directusTypes/types\";\nimport {NewsHelper} from \"../components/news/NewsHelper\";\nimport {WashingmashineHelper} from \"../components/washingmachine/WashingmashineHelper\";\nimport {ConversationHelper} from \"../components/conversations/ConversationHelper\";\nimport {useDirectusTranslation} from \"../components/translations/DirectusTranslationUseFunction\";\nimport {BuildingHelper} from \"../components/buildings/BuildingHelper\";\nimport {HousingHelper} from \"../components/housing/HousingHelper\";\n\nexport function useJSONState(storageKey): [value: any, setValue: (value) => {}, rawValue: any] {\n    let [jsonStateAsString, setJsonStateAsString] = useSynchedState(storageKey);\n    let rawValue = jsonStateAsString;\n    let usedJsonStateAsString = jsonStateAsString;\n    if(usedJsonStateAsString === undefined || usedJsonStateAsString === \"undefined\") {\n        usedJsonStateAsString = \"{}\";\n    }\n    const parsedJSON = JSON.parse(usedJsonStateAsString || \"{}\");\n    const setValue = (dict) => setJsonStateAsString(JSON.stringify(dict))\n    return [\n        parsedJSON,\n        setValue,\n        rawValue\n    ]\n}\n\nexport function useJSONStateWithDefaultValue(storageKey, defaultValue): [value: any, setValue: (value) => {}, rawValue: any] {\n    let [parsedJSON, setValue, rawValue] = useJSONState(storageKey);\n    let usedParsedJSON = parsedJSON;\n    if(rawValue === undefined || rawValue === \"undefined\") {\n        usedParsedJSON = defaultValue;\n    }\n    return [\n        usedParsedJSON,\n        setValue,\n        rawValue\n    ]\n}\n\nexport function useDebugMode(): [value: any, setValue: (value) => {}] {\n    const [value, setValue] = useJSONState(StorageKeys.CACHED_DEBUG_MODE);\n    return [value===true, setValue]; //why ever demo is an object?\n}\n\nexport function usePerformanceMode(): [value: any, setValue: (value) => {}] {\n    const [value, setValue] = useJSONState(StorageKeys.CACHED_LOCAL_PERFORMANCE_MODE);\n    return [value===true, setValue]; //why ever demo is an object?\n}\n\nexport function useDemoMode(): [value: any, setValue: (value) => {}, rawValue: string] {\n    const [value, setValue, rawValue] = useJSONState(StorageKeys.CACHED_DEMO_MODE);\n    return [value===true, setValue, rawValue]; //why ever demo is an object?\n}\n\nexport function useSynchedRemoteSettings(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_REMOTEAPPSETTINGS)\n}\n\nexport function useSynchedChatroomsSettings(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_APP_SETTINGS_CHATROOMS)\n}\n\nexport function useSynchedSettingsFoods(): [value: any, setValue: (value) => {}, rawValue?: any] {\n    return useJSONState(StorageKeys.CACHED_APP_SETTINGS_MEALS)\n}\n\nexport function useSynchedSettingsUtilizations(): [value: any, setValue: (value) => {}, rawValue?: any] {\n    return useJSONState(StorageKeys.CACHED_APP_SETTINGS_UTILIZATIONS)\n}\n\nexport function useSynchedSettingsAccountBalance(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_APP_SETTINGS_ACCOUNT_BALANCE)\n}\n\nexport function useSynchedSettingsCourseTimetable(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_APP_SETTINGS_COURSE_TIMETABLE)\n}\n\nexport function useSynchedSettingsNotifications(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_APP_SETTINGS_NOTIFICATIONS)\n}\n\nexport function useSynchedSettingsHousing(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_APP_SETTINGS_HOUSING)\n}\n\nexport function useSynchedSettingsNews(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_APP_SETTINGS_NEWS)\n}\n\nexport function useSynchedSettingsBuildings(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_APP_SETTINGS_BUILDINGS)\n}\n\n\nexport function useSynchedDirectusSettings(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_DIRECTUSSETTINGS)\n}\n\nexport function useSynchedDirectusLanguage(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_DIRECTUS_LANGUAGES)\n}\n\nexport function useSynchedNews(): [value: any, setValue: (value) => {}, rawValue: any] {\n    const [demo, setDemo] = useDemoMode();\n    const synchedResource = useJSONState(StorageKeys.CACHED_NEWS)\n    if(demo){\n        // @ts-ignore\n        return [NewsHelper.getDemoNewsDict(), (value) => {}, \"\"];\n    }\n    return synchedResource\n}\n\nexport function useSynchedChatroomsDict(): [value: any, setValue: (value) => {}, rawValue: any] {\n    const [demo, setDemo] = useDemoMode();\n    const synchedResources = useJSONState(StorageKeys.CACHED_CHATROOMS);\n    if(demo){\n        // @ts-ignore\n        return [ConversationHelper.getDemoDict(), (value) => {}, \"\"];\n    }\n    return synchedResources\n}\n\nexport function useSynchedChatroomTopicsDict(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_CHATROOMTOPICS)\n}\n\nexport function useSynchedMarkingsDict(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_MARKINGS)\n}\n\nexport function useSynchedAppTranslations(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_APP_TRANSLATIONS)\n}\n\nexport function useSynchedRemoteFields(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_REMOTEAPPFIELDS)\n}\n\nexport function useSynchedWikis(): [value: any, setValue: (value) => {}, useWikiByIdOrCustomId: (wiki_id?, custom_id?) => any, useWikiTitle: (wiki_id?, custom_id?) => any] {\n    let [wikis, setWikis] = useJSONState(StorageKeys.CACHED_WIKIS);\n\n    function useWikiByIdOrCustomId(wiki_id?, custom_id?){\n        if(!!wiki_id){\n            return wikis?.[wiki_id];\n        } else {\n            if(!!custom_id){\n                let wikiIds = Object.keys(wikis);\n                for(let wikiId of wikiIds){\n                    let wiki = wikis[wikiId];\n                    if(wiki?.custom_id === custom_id){\n                        return wiki;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    function useWikiTitle(wiki_id?, custom_id?){\n        const wiki = useWikiByIdOrCustomId(wiki_id, custom_id);\n        let translations = wiki?.translations;\n        const title = useDirectusTranslation(translations, \"title\");\n        return title;\n    }\n\n    return [wikis, setWikis, useWikiByIdOrCustomId, useWikiTitle];\n}\n\nexport function useSynchedBuilding(resource_id): Buildings {\n    const [resources, setResources] = useSynchedBuildingsDict();\n    return resources?.[resource_id];\n}\n\nexport function useSynchedBuildingsDict(): [value: Record<string, Buildings>, setValue: (value) => {}, rawValue: any] {\n    const [demo, setDemo] = useDemoMode();\n    const synchedResources = useJSONState(StorageKeys.CACHED_BUILDINGS);\n    if(demo){\n        // @ts-ignore\n        return [BuildingHelper.getDemoBuildingsDict(), (value) => {}, \"\"];\n    }\n    return synchedResources\n}\n\nexport function useSynchedApartment(resource_id): any {\n    const [resourceDict, setResourcesDict] = useSynchedApartmentsDict();\n    let resource = resourceDict?.[resource_id]\n    return resource;\n}\n\nexport function useSynchedApartmentsDict(): [value: Record<string, Apartments>, setValue: (value) => {}, rawValue: any] {\n    const [demo, setDemo] = useDemoMode();\n    const synchedResource = useJSONState(StorageKeys.CACHED_APARTMENTS);\n    if(demo){\n        // @ts-ignore\n        return [HousingHelper.getDemoHousingDict(), (value) => {}, \"\"];\n    }\n\n    return synchedResource\n}\n\nexport function useSynchedWashingmachine(resource_id): any {\n    const [resourceDict, setResourcesDict] = useSynchedWashingmachinesDict();\n    return resourceDict?.[resource_id];\n}\n\nexport function useSynchedWashingmachinesDict(): [value: Record<string, Apartments>, setValue: (value) => {}, rawValue: any] {\n    const [demo, setDemo] = useDemoMode();\n    const synchedResource = useJSONState(StorageKeys.CACHED_WASHINGMACHINES);\n    if(demo){\n        // @ts-ignore\n        return [WashingmashineHelper.getDemoWashingmachineDict(), () => {}]\n    }\n    return synchedResource\n}\n\nexport function useSynchedImageOverlays(resource_id): any {\n    const [resourceDict, setResourcesDict] = useSynchedImageOverlaysDict();\n    return resourceDict?.[resource_id];\n}\n\nexport function useSynchedImageOverlaysDict(): [value: Record<string, Apartments>, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_IMAGE_OVERLAYS)\n}\n\nexport function useSynchedNotificationsLocalDict(): [value: Record<string, Apartments>, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_NOTIFICATIONS_LOCAL)\n}\n\nexport function useSynchedBusinesshoursDict(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_BUSINESSHOURS)\n}\n\nexport function useSynchedCanteen(resource_id): any {\n    const [canteensDict, setCanteensDict] = useSynchedCanteensDict();\n    return canteensDict?.[resource_id];\n}\n\nexport function useSynchedCanteensDict(): [value: any, setValue: (value) => {}, rawValue: any] {\n    return useJSONState(StorageKeys.CACHED_CANTEENS)\n}\n\n","import {DirectusRoles} from \"../directusTypes/types\";\n\nexport class RoleHelper {\n\n    static isAdmin(role: DirectusRoles){\n        return !!role?.admin_access;\n    }\n\n    static isEmployee(role: DirectusRoles){\n        return role.name === \"Mitarbeiter\"\n    }\n\n}","import {RoleHelper} from \"./RoleHelper\";\nimport {ConfigHolder} from \"../../kitcheningredients\";\n\nexport class PermissionHelper {\n\n    static canCreate(collection, field){\n        let permissions = ConfigHolder.instance.getPermissions();\n        let role = ConfigHolder.instance.getRole();\n        return PermissionHelper.isFieldAllowedForAction(role, permissions, collection, field, \"create\");\n    }\n\n    static canUpdate(collection, field){\n        let permissions = ConfigHolder.instance.getPermissions();\n        let role = ConfigHolder.instance.getRole();\n        return PermissionHelper.isFieldAllowedForAction(role, permissions, collection, field, \"update\");\n    }\n\n    static isAdmin(){\n        let role = ConfigHolder.instance.getRole();\n        return RoleHelper.isAdmin(role);\n    }\n\n    static isFieldAllowedForAction(role, permissions, collection, field, action){\n        if(RoleHelper.isAdmin(role)){\n            return true;\n        }\n\n        if(!!permissions && permissions.length>=0){\n            for(let permission of permissions){\n                let collectionInPermission = permission.collection;\n                let permissionsAction = permission.action;\n                let fields = permission.fields;\n                if(collectionInPermission===collection && permissionsAction===action){\n                    if(fields.includes(field) || fields.includes(\"*\")){\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n\n    static filterForAllowedUpdateFields(role, permissions, collection, item){\n        if(RoleHelper.isAdmin(role)){\n            return item;\n        }\n\n        let fieldsOfItem = Object.keys(item);\n        let filteredItem = {};\n\n        if(!!permissions && permissions.length>=0){\n            for(let permission of permissions){\n                let collectionInPermission = permission.collection;\n                let action = permission.action;\n                let fields = permission.fields;\n                if(collectionInPermission===collection && action===\"update\"){\n                    for(let field of fieldsOfItem){\n                        if(fields.includes(field) || fields.includes(\"*\")){\n                            filteredItem[field] = item[field];\n                        }\n                    }\n                }\n            }\n        }\n        return filteredItem;\n\n    }\n\n}\n","export class DirectusTranslationHelper {\n\tstatic DEFAULT_LANGUAGE_CODE = \"de-DE\";\n\tstatic FALLBACK_LANGUAGE_CODE = \"en-US\";\n}\n","import {ConfigHolder, ServerAPI, useSynchedState} from \"../../../kitcheningredients\";\nimport {StorageKeys} from \"../../helper/synchedVariables/StorageKeys\";\nimport {useJSONState} from \"../../helper/synchedJSONState\";\nimport {PermissionHelper} from \"../../helper/PermissionHelper\";\nimport {Devices, DirectusUsers, Foodoffers, Markings, Profiles} from \"../../directusTypes/types\";\nimport {SynchedStateKeys} from \"../../helper/synchedVariables/SynchedStateKeys\";\nimport {DeviceInformationHelper} from \"../../helper/DeviceInformationHelper\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {DirectusTranslationHelper} from \"../translations/DirectusTranslationHelper\";\n\n\nconst profileRelations = [\"markings\", \"foods_feedbacks\", \"devices\", \"buildings_favorites\", \"buildings_last_visited\"]\nconst profileFields = [\"*\"];\nfor(let relation of profileRelations) {\n    profileFields.push(relation+\".*\");\n}\n\nconst deepFields = {};\nfor(let relation of profileRelations) {\n    deepFields[relation] = { _limit: -1 };\n}\n\n\nexport async function loadProfileRemote(){\n    let userInstance = ConfigHolder.instance.getUser();\n    if(!!userInstance && userInstance?.id  && userInstance?.profile) {\n        let directus = ServerAPI.getClient();\n        try {\n            let remoteProfileListAnswer = await directus.items(\"profiles\").readByQuery({\n                limit: -1,\n                filter: {\n                    _and: [\n                        {\n                            id: {\n                                _eq: userInstance?.profile\n                            }\n                        }\n                    ]\n                },\n                fields: profileFields,\n                deep: deepFields,\n            })\n            let remoteProfile = remoteProfileListAnswer?.data[0]\n            return remoteProfile\n        } catch (err) {\n            //console.log(\"Error at loading profile\");\n            //console.log(err);\n        }\n    }\n    return null;\n}\n\nexport class ProfileAPI{\n\n    static getObjToResetProfile(profile){\n        let profile_id = profile?.id;\n        let user_id = profile?.user;\n        let profileKeys = Object.keys(profile);\n        let newProfile = {\n            id: profile_id,\n            user: user_id\n        };\n        for(let i=0; i<profileKeys.length; i++){\n            let key = profileKeys[i];\n            if(key!==\"status\"){\n                newProfile[key] = null;\n            }\n        }\n        newProfile.id = profile_id;\n        newProfile.user = user_id;\n        return newProfile;\n    }\n\n    static loadGuestProfile(){\n        return {};\n    }\n\n    static loadFakeDirectusUser(){\n        let fakeUser: DirectusUsers = {\n            admin_divider: \"\",\n            id: \"123456-abcdefg-987654-zyxwai\",\n            preferences_divider: \"\",\n            provider: \"Default\",\n            status: \"\"\n        }\n        return fakeUser;\n    }\n\n    static loadFakeProfile(){\n        let profile: Profiles = {\n            id: 0,\n            markings: undefined,\n            // @ts-ignore\n            canteen: 1,\n            nickname: \"FakeProfile\",\n            // @ts-ignore\n            user_created: ProfileAPI.loadFakeDirectusUser().id,\n            date_created: \"2022-07-15T06:56:39.274Z\",\n            // @ts-ignore\n            user_updated: ProfileAPI.loadFakeDirectusUser().id,\n            date_updated: \"2022-07-15T06:56:39.274Z\",\n            status: \"\"\n        }\n        return profile;\n    }\n\n    static getLanguageFieldName(){\n        return \"language\";\n    }\n\n    static getPriceGroupFieldName(){\n        return \"price_group\";\n    }\n\n    static useSynchedPriceGroup(){\n        const [profile, setProfile] = useSynchedProfile();\n        const priceGroup = profile[ProfileAPI.getPriceGroupFieldName()];\n        const setPriceGroup = async (option) => {\n            profile[ProfileAPI.getPriceGroupFieldName()] = option;\n            let answer = await setProfile(profile);\n            return answer;\n        }\n\n        const priceGroupStudent = \"student\";\n        const defaultPriceGroup = priceGroupStudent;\n        const usedPriceGroup = priceGroup || defaultPriceGroup\n\n        let priceGroups = {\n                [priceGroupStudent]: {\n                    label: useAppTranslation(\"price_group_student\"),\n                    icon: \"school\",\n                    food_offer_field: \"price_student\"\n                },\n                \"employee\": {\n                    label: useAppTranslation(\"price_group_employee\"),\n                    icon: \"account-group\",\n                    food_offer_field: \"price_employee\"\n                },\n                \"guest\": {\n                    label: useAppTranslation(\"price_group_guest\"),\n                    icon: \"incognito\",\n                    food_offer_field: \"price_guest\"\n                },\n        };\n\n        return [\n            usedPriceGroup,\n            setPriceGroup,\n            priceGroups\n        ];\n    }\n\n    static getCourseTimetableFieldName(){\n        return \"course_timetable\";\n    }\n\n    static getLocaleForJSDates(passedProfile?: Profiles){\n        const [profile, setProfile] = useSynchedProfile();\n        const usedProfile = passedProfile ? passedProfile : profile;\n\n        const profilesLanguageCode = usedProfile[ProfileAPI.getLanguageFieldName()];\n        let locale = undefined;\n        locale = DirectusTranslationHelper.DEFAULT_LANGUAGE_CODE;\n        if(!!profilesLanguageCode && profilesLanguageCode.length > 0){\n            locale = profilesLanguageCode;\n        }\n        if(!!locale){\n            locale = locale.toLowerCase() //\"en-US\" --> \"en-us\";\n        }\n        return locale;\n    }\n}\n\n\nexport function useSynchedProfile(): [value: Profiles, setValue: (value, offline?) => {}] {\n    const [jsonState, setJsonState] = useJSONState(StorageKeys.CACHED_PROFILE);\n\n    const setValue = async (newProfile, offline?) => {\n        if(!!offline) {\n            setJsonState(newProfile);\n            return true;\n        } else {\n            if(!!newProfile && !!newProfile?.id){\n                let directus = ServerAPI.getClient();\n                let permissions = ConfigHolder.instance.getPermissions();\n                let role = ConfigHolder.instance.getRole();\n                let filteredProfile = PermissionHelper.filterForAllowedUpdateFields(role, permissions, \"profiles\", newProfile)\n                console.log(\"Filtered profile: \");\n                console.log(filteredProfile);\n                filteredProfile.privacy_policy_date_accepted = new Date();\n                filteredProfile.date_created = new Date();\n                filteredProfile.date_updated = new Date();\n                let answer = await directus.items(\"profiles\").updateOne(newProfile?.id, filteredProfile, {fields: profileFields});\n                if(!!answer){\n                    await setJsonState(answer);\n                    return true;\n                }\n                return false;\n            } else {\n                //console.log(\"Profile has no id\");\n                await setJsonState(newProfile);\n                return true;\n            }\n        }\n    }\n\n    const user = ConfigHolder.instance.getUser()\n    let fallbackProfile = null;\n    if(!!user && !jsonState){\n        fallbackProfile = {}\n    }\n\n    return [\n        jsonState || fallbackProfile,\n        setValue\n    ]\n}\n\nexport function useSynchedProfileCanteen(): [value: string, setValue: (value, offline?) => {}] {\n    const [profile, setProfile] = useSynchedProfile();\n    const setValue = async (newCanteen, offline?) => {\n        if(!!profile){\n            let newProfile = {...profile};\n            newProfile.canteen = newCanteen;\n            await setProfile(newProfile, offline);\n        }\n    }\n    return [\n        // @ts-ignore\n        profile?.canteen,\n        setValue\n    ];\n}\n\nexport function useSynchedDevices() {\n    const [profile, setProfile] = useSynchedProfile();\n\n    function getDeviceIdentifier(device: Devices){\n        return device.platform+\"_\"+device.brand+\"_\"+device.systemVersion;\n    }\n\n    let devices = profile?.devices || [];\n    const setDevices = async (newDevices) => {\n        let newProfile = {...profile, devices: newDevices};\n        await setProfile(newProfile);\n    }\n    const isDeviceUpToDateOrUpdate = async (deviceInformations) => {\n        let deviceInformationsId = getDeviceIdentifier(deviceInformations);\n\n        if(deviceInformationsId){\n            let foundDevice = undefined;\n            for(let device of devices){\n                if(getDeviceIdentifier(device) === deviceInformationsId){\n                    foundDevice = device;\n                    break;\n                }\n            }\n            if(!foundDevice){\n                await setDevices([...devices, deviceInformations]);\n                return false;\n            } else {\n                // we want to check if we have the latest device information\n                let remoteKeys = Object.keys(foundDevice); // e.g. [\"id\", \"internalId\", \"brand\", \"createdAt\", \"updatedAt\"]\n                let localKeys = Object.keys(deviceInformations); // e.g. [\"internalId\", \"brand\", \"extraInformation\"]\n\n                let keysForComparison = remoteKeys.filter(key => localKeys.includes(key)); // e.g. [\"internalId\", \"brand\"]\n                let foundDifference = false;\n                for(let key of keysForComparison){\n                    let remoteValue = foundDevice[key];\n                    let remoteValueForComparison = JSON.stringify(remoteValue);\n                    //check if is not object\n                    if(typeof remoteValue !== \"object\"){ // e.g. 200 would be to '200' but \"200\" would be to '\"200\"'\n                        remoteValueForComparison = remoteValue+\"\"; // therefore we only convert to string\n                    }\n\n                    let localValue = deviceInformations[key];\n                    let localValueForComparison = JSON.stringify(localValue);\n                    //check if is not object\n                    if(typeof localValue !== \"object\") { // e.g. 200 would be to '200' but \"200\" would be to '\"200\"'\n                        localValueForComparison = localValue+\"\";\n                    }\n\n                    if(remoteValueForComparison !== localValueForComparison){\n                        foundDifference = true;\n                        break;\n                    }\n                }\n                if(foundDifference){\n                    let deviceInformationsForUpdate = {...foundDevice, ...deviceInformations}; // we want to keep id or createdAt\n                    let newDevices = devices.map(device => {\n                        if(getDeviceIdentifier(device) === getDeviceIdentifier(deviceInformationsForUpdate)){\n                            return deviceInformationsForUpdate;\n                        }\n                        return device;\n                    });\n                    await setDevices(newDevices);\n                    return false;\n                }\n\n            }\n        }\n        return true;\n    }\n\n    return [devices, setDevices, isDeviceUpToDateOrUpdate];\n}\n","import React, {FunctionComponent} from \"react\";\nimport {useSynchedProfile} from \"../profile/ProfileAPI\";\nimport {DirectusTranslationHelper} from \"./DirectusTranslationHelper\";\nimport {StringHelper} from \"../../helper/StringHelper\";\n\nexport function useProfileLanguageCode(){\n\tlet default_language_code = DirectusTranslationHelper.DEFAULT_LANGUAGE_CODE;\n\tconst [profile, setProfile] = useSynchedProfile();\n\tlet language_code = profile?.language || default_language_code;\n\treturn language_code;\n}\n\nexport function useDirectusTranslation(translations, field, ignoreFallbackLanguage?, fallback_text?, params?: any): string {\n\tconst translationDict = getLanguageDict(translations);\n\tlet language_code = useProfileLanguageCode();\n\n\tfunction getLanguageDict(translations) {\n\t\tlet translationDict = {};\n\t\tif(!!translations && translations.length > 0){\n\t\t\tfor (let translation of translations) {\n\t\t\t\ttranslationDict[translation?.languages_code] = translation;\n\t\t\t}\n\t\t}\n\t\treturn translationDict;\n\t}\n\n\tfunction getTranslation(translationDict, languages_code, params?: any) {\n\t\tlet translationEntry = translationDict[languages_code];\n\t\tif (!translationEntry) {\n\t\t\treturn null;\n\t\t}\n\t\tlet translation = translationEntry[field]\n\t\tif(!!params){\n\t\t\tlet paramKeys = Object.keys(params);\n\t\t\tfor(let i=0; i<paramKeys.length; i++){\n\t\t\t\tlet paramKey = paramKeys[i];\n\t\t\t\tlet paramValue = params[paramKey];\n\t\t\t\ttranslation = StringHelper.replaceAll(translation, \"%\"+paramKey, paramValue);\n\t\t\t}\n\t\t}\n\t\treturn translation;\n\t}\n\n\tlet translation = getTranslation(translationDict, language_code, params);\n\tif (!!translation) {\n\t\treturn translation\n\t}\n\n\t// First fallback language\n\tlet default_language_code = DirectusTranslationHelper.FALLBACK_LANGUAGE_CODE;\n\tlet fallback_translation = getTranslation(translationDict, default_language_code, params);\n\tif (!!fallback_translation && !ignoreFallbackLanguage) { //TODO: maybe allow an user to set a proposal for his language\n\t\treturn fallback_translation\n\t}\n\n\t// Second fallback language\n\tdefault_language_code = DirectusTranslationHelper.DEFAULT_LANGUAGE_CODE;\n\tfallback_translation = getTranslation(translationDict, default_language_code, params);\n\tif (!!fallback_translation && !ignoreFallbackLanguage) { //TODO: maybe allow an user to set a proposal for his language\n\t\treturn fallback_translation\n\t}\n\n\tif(fallback_text!==undefined && fallback_text!==null){\n\t\treturn fallback_text;\n\t}\n\n\treturn \"Missing translation\";\n}\n","import {useColorModeValue, useToken} from \"native-base\";\nimport {ConfigHolder, useMyContrastColor, useProjectColor, useThemedShade} from \"../../kitcheningredients\";\n\nexport class ColorHelper{\n\n    static darkenColor(color, percent){\n        // The color should be a string in the format of \"#RRGGBB\"\n        // percent should be a decimal between 0 and 1\n\n        const num = parseInt(color.slice(1), 16),\n            amt = Math.round(2.55 * percent),\n            R = (num >> 16) + amt,\n            B = ((num >> 8) & 0x00FF) + amt,\n            G = (num & 0x0000FF) + amt;\n\n        const newColor = 0x1000000 + (R<255?R<1?0:R:255)*0x10000 + (B<255?B<1?0:B:255)*0x100 + (G<255?G<1?0:G:255);\n\n        return \"#\" + newColor.toString(16).slice(1);\n    }\n\n    static useProjectColor(){\n        return useProjectColor();\n    }\n\n    static useContrastColor(color){\n        return useMyContrastColor(color);\n    }\n\n    static useDefaultDarkenColor(color){\n        return ColorHelper.darkenColor(color, 10);\n    }\n\n    static useDarkenProjectColor(){\n        let projectColor = ColorHelper.useProjectColor();\n        return ColorHelper.useDefaultDarkenColor(projectColor);\n    }\n\n    static useBackgroundColor(){\n        return useThemedShade(0);\n    }\n\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {useDirectusTranslation} from \"./DirectusTranslationUseFunction\";\nimport {useSynchedAppTranslations} from \"../../helper/synchedJSONState\";\nimport {Text} from \"native-base\";\nimport {DefaultTranslator, useBackgroundColor} from \"../../../kitcheningredients\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\n\ninterface AppTranslationProps {\n\tid: string;\n\tparams?: any;\n\tprefix?: string;\n\tpostfix?: string;\n\tignoreFallbackLanguage?: boolean;\n\tbackgroundColor?: string;\n\tcolor?: string;\n}\nexport const AppTranslation: FunctionComponent<AppTranslationProps> = ({id, params, postfix, ignoreFallbackLanguage, prefix, children, backgroundColor, color, useHeaderTextColor, ...rest}) => {\n\tconst content = useAppTranslation(id, ignoreFallbackLanguage, params);\n\tconst dynamicBackgroundColor = useBackgroundColor()\n\tconst contrastColor = ColorHelper.useContrastColor(backgroundColor || dynamicBackgroundColor);\n\tlet dynamicColor = color || contrastColor;\n\treturn <Text color={dynamicColor} {...rest} >{prefix}{content}{postfix}</Text>\n}\n\nexport function useAppTranslationMarkdown(id, ignoreFallbackLanguage?, params?){\n\treturn useAppTranslationRaw(id, \"markdown\", ignoreFallbackLanguage, params);\n}\n\nexport function useAppTranslation(id, ignoreFallbackLanguage?, params?): string {\n\treturn useAppTranslationRaw(id, \"content\", ignoreFallbackLanguage, params);\n}\n\nexport function useAppTranslationRaw(id, field, ignoreFallbackLanguage?, params?): string {\n\tconst [remoteAppTranslations, setRemoteAppTranslations] = useSynchedAppTranslations();\n\tlet translations = [];\n\tif(!!remoteAppTranslations){\n\t\tlet appTranslation = remoteAppTranslations[id];\n\t\ttranslations = appTranslation?.translations || [];\n\t}\n\n\tconst defaultTranslation = DefaultTranslator.useTranslation(id);\n\tlet fallbackText = defaultTranslation || \"Missing translation (\"+id+\")\";\n\tlet content = useDirectusTranslation(translations, field, ignoreFallbackLanguage, fallbackText);\n\tif(!!params){\n\t\tlet keys = Object.keys(params);\n\t\tfor(let key of keys){\n\t\t\tlet value = params[key];\n\t\t\tcontent = content.replace(key, value);\n\t\t}\n\t}\n\n\treturn content;\n}\n","import React from \"react\";\nimport {StringHelper} from \"./StringHelper\";\nimport {useAppTranslation} from \"../components/translations/AppTranslation\";\n\nexport enum Weekday {\n\tMONDAY = \"Monday\",\n\tTUESDAY = \"Tuesday\",\n\tWEDNESDAY = \"Wednesday\",\n\tTHURSDAY = \"Thursday\",\n\tFRIDAY = \"Friday\",\n\tSATURDAY = \"Saturday\",\n\tSUNDAY = \"Sunday\"\n}\n\nexport class DateHelper {\n\n\tstatic Weekday = Weekday;\n\n\tstatic parseTime(time: string, date?): Date{\n\t\tlet parts = time.split(\":\");\n\t\tlet hours = parseInt(parts[0]) || 0;\n\t\tlet minutes = parseInt(parts[1]) || 0;\n\t\tlet seconds = parseInt(parts[2]) || 0;\n\t\tif(!date){\n\t\t\tdate = new Date(); // create a new date object\n\t\t} else {\n\t\t\tdate = new Date(date); // clone\n\t\t}\n\t\tdate.setHours(hours);\n\t\tdate.setMinutes(minutes);\n\t\tdate.setSeconds(seconds);\n\t\treturn date;\n\t}\n\n\tstatic getWeekdayEnumsValues(firstDayOfWeek?: Weekday) {\n\t\tlet useFirstDayOfWeek = firstDayOfWeek || Weekday.MONDAY;\n\n\t\tlet weekOrder = [\n\t\t\tWeekday.SUNDAY,\n\t\t\tWeekday.MONDAY,\n\t\t\tWeekday.TUESDAY,\n\t\t\tWeekday.WEDNESDAY,\n\t\t\tWeekday.THURSDAY,\n\t\t\tWeekday.FRIDAY,\n\t\t\tWeekday.SATURDAY,\n\t\t]\n\t\tlet index = DateHelper.getWeekdayIndex(useFirstDayOfWeek);\n\t\tlet output = [];\n\t\tfor(let i=0; i<7; i++){\n\t\t\toutput.push(weekOrder[index]);\n\t\t\tindex++;\n\t\t\tif(index >= weekOrder.length){\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\tstatic getWeekdayNames(locale?: string, firstDayOfWeek?: Weekday){\n\t\tlet currentWeekDates = DateHelper.getCurrentWeekDates(undefined, firstDayOfWeek);\n\t\tlet output = [];\n\t\tfor(let date of currentWeekDates){\n\t\t\toutput.push(DateHelper.getWeekdayNameByDate(date, locale));\n\t\t}\n\t\treturn output;\n\t}\n\n\tstatic getWeekdayIndex(weekday: Weekday){\n\t\tswitch(weekday){\n\t\t\tcase Weekday.SUNDAY: return 0;\n\t\t\tcase Weekday.MONDAY: return 1;\n\t\t\tcase Weekday.TUESDAY: return 2;\n\t\t\tcase Weekday.WEDNESDAY: return 3;\n\t\t\tcase Weekday.THURSDAY: return 4;\n\t\t\tcase Weekday.FRIDAY: return 5;\n\t\t\tcase Weekday.SATURDAY: return 6;\n\t\t}\n\t}\n\n\tstatic getWeekdayDifference(from: Weekday, to: Weekday){\n\t\tlet fromIndex = DateHelper.getWeekdayIndex(from);\n\t\tlet toIndex = DateHelper.getWeekdayIndex(to);\n\t\tlet difference = toIndex - fromIndex;\n\t\treturn difference;\n\t}\n\n\tstatic getWeekdayByDayNumber(dayNumber: number){\n\t\tlet enumValues = DateHelper.getWeekdayEnumsValues();\n\t\treturn enumValues[dayNumber%enumValues.length];\n\t}\n\n\tstatic getWeekdayToday(){\n\t\treturn DateHelper.getWeekdayByDate(new Date());\n\t}\n\n\tstatic getWeekdayByDate(date: Date){\n\t\tlet weekdayIndex = date.getDay();\n\t\tlet weekdayEnums = DateHelper.getWeekdayEnumsValues();\n\t\tlet indexToWeekdayEnum = {};\n\t\tfor(let i=0; i<weekdayEnums.length; i++){\n\t\t\tlet weekdayEnum = weekdayEnums[i];\n\t\t\tlet weekdayEnumIndex = DateHelper.getWeekdayIndex(weekdayEnum);\n\t\t\tindexToWeekdayEnum[weekdayEnumIndex] = weekdayEnum;\n\t\t}\n\n\t\treturn indexToWeekdayEnum[weekdayIndex];\n\t}\n\n\tstatic getWeekdayNamesFirstLetters(locale?: string, firstDayOfWeek?: Weekday){\n\t\tlet weekdayNames = DateHelper.getWeekdayNames(locale, firstDayOfWeek);\n\t\tlet output = [];\n\t\tfor(let weekdayName of weekdayNames){\n\t\t\toutput.push(weekdayName[0]);\n\t\t}\n\t\treturn output;\n\t}\n\n\tstatic getCurrentWeekDates(date?: Date, firstDayOfWeek?: Weekday){\n\t\tlet firstDateOfWeek = DateHelper.getFirstDateOfWeek(undefined, firstDayOfWeek);\n\t\tlet output = [];\n\t\tfor(let i=0; i<7; i++){\n\t\t\toutput.push(new Date(firstDateOfWeek));\n\t\t\tfirstDateOfWeek.setDate(firstDateOfWeek.getDate()+1);\n\t\t}\n\t\treturn output;\n\t}\n\n\tstatic getWeekdayNameFirstLetter(date: Date, locale?: string){\n\t\tlet weekDayName = DateHelper.getWeekdayNameByDate(date, locale);\n\t\tif(!!weekDayName && weekDayName.length > 0){\n\t\t\treturn weekDayName[0];\n\t\t} else {\n\t\t\treturn \"?\"\n\t\t}\n\t}\n\n\tstatic getDefaultWeekdayDate(weekdayName: Weekday){\n\t\tif(!weekdayName){\n\t\t\tweekdayName = Weekday.MONDAY;\n\t\t}\n\t\tswitch(weekdayName){\n\t\t\tcase Weekday.MONDAY: return new Date(\"December 25, 1995 23:15:30\");\n\t\t\tcase Weekday.TUESDAY: return new Date(\"December 26, 1995 23:15:30\");\n\t\t\tcase Weekday.WEDNESDAY: return new Date(\"December 27, 1995 23:15:30\");\n\t\t\tcase Weekday.THURSDAY: return new Date(\"December 28, 1995 23:15:30\");\n\t\t\tcase Weekday.FRIDAY: return new Date(\"December 29, 1995 23:15:30\");\n\t\t\tcase Weekday.SATURDAY: return new Date(\"December 30, 1995 23:15:30\");\n\t\t\tcase Weekday.SUNDAY: return new Date(\"December 31, 1995 23:15:30\");\n\t\t}\n\t}\n\n\tstatic getWeekdayTranslationByWeekday(weekdayName: Weekday, locale?: string){\n\t\tlet date = DateHelper.getDefaultWeekdayDate(weekdayName);\n\t\tif(date){\n\t\t\treturn DateHelper.getWeekdayNameByDate(date, locale);\n\t\t}\n\t}\n\n\tstatic getWeekdayNameByDate(date: Date, locale?: string){\n\t\tif(!locale){\n\t\t\tlocale = \"en-us\";\n\t\t}\n\t\tconst weekdayName = date.toLocaleString(locale, { weekday: \"long\" })\n\t\treturn StringHelper.capitalizeFirstLetter(weekdayName);\n\t}\n\n\tstatic getMonthName(date: Date, locale?: string){\n\t\tif(!locale){\n\t\t\tlocale = \"en-us\";\n\t\t}\n\t\treturn date.toLocaleString(locale, { month: \"long\" });\n\t}\n\n\tstatic getAmountDaysFromLastMonthForWeekstart(date: Date, firstDayOfWeek: Weekday){\n\t\tlet firstDayOfMonth = DateHelper.getFirstDayOfMonth(date);\n\t\tlet weekDateOfFirstDayOfMonth = firstDayOfMonth.getDay() // e. G. 6 for thursday\n\t\tlet firstDayOfWeekIndex = DateHelper.getWeekdayIndex(firstDayOfWeek);\n\t\t// firstDayOfWeek e. G. 1 for monday\n\t\t// firstDay of month e. G. saturday 01.10.2022\n\t\t// weekDateOfFirstDayOfMonth e. G. 6\n\t\t// 7+ (6 - 1) = 5\n\t\tlet diffToStartWithFirstDayOfWeek = (7+(weekDateOfFirstDayOfMonth-firstDayOfWeekIndex))%7\n\t\treturn diffToStartWithFirstDayOfWeek;\n\t}\n\n\tstatic getAmountDaysFromNextMonthToWeekend(date: Date, firstDayOfWeek: Weekday){\n\t\tlet lastDayOfMonth = DateHelper.getFirstDayOfNextMonth(date);\n\t\tlet amountDays = DateHelper.getAmountDaysFromLastMonthForWeekstart(lastDayOfMonth, firstDayOfWeek);\n\t\treturn (7-amountDays);\n\t}\n\n\tstatic getAmountDaysInMonth(date: Date){\n\t\tlet lastDayOfMonth = DateHelper.getLastDayOfMonth(date);\n\t\treturn lastDayOfMonth.getDate();\n\t}\n\n\tstatic getLastDayOfMonth(date: Date){\n\t\tlet lastDayInMonth = DateHelper.getFirstDayOfNextMonth(date)\n\t\tlastDayInMonth.setDate(lastDayInMonth.getDate()-1);\n\t\treturn lastDayInMonth;\n\t}\n\n\tstatic getFirstDateOfWeek(date?: Date, firstDayOfWeek?: Weekday){\n\t\tlet temp = !!date ? new Date(date) : new Date();\n\t\tlet firstDayOfWeekIndex = DateHelper.getWeekdayIndex(firstDayOfWeek);\n\t\tif(firstDayOfWeek===undefined || firstDayOfWeek === null){\n\t\t\tfirstDayOfWeekIndex = 0;\n\t\t}\n\t\tlet diff = (7+temp.getDay()-firstDayOfWeekIndex)%7\n\t\ttemp.setDate(temp.getDate()-diff)\n\t\treturn temp;\n\t}\n\n\tstatic getFirstDayOfMonth(date: Date){\n\t\tlet firstDayOfMonth = new Date(date)\n\t\tfirstDayOfMonth.setDate(1); // e. G. 01.12.2022\n\t\treturn firstDayOfMonth\n\t}\n\n\tstatic getFirstDayOfNextMonth(date: Date){\n\t\tlet firstDayOfNextMonth = DateHelper.getFirstDayOfMonth(date);\n\t\tfirstDayOfNextMonth.setMonth(firstDayOfNextMonth.getMonth()+1);\n\t\treturn firstDayOfNextMonth;\n\t}\n\n\tstatic getDatesOfAmountNextDaysIncludingToday(startDate: Date, amount: number): [Date, Date][]{\n\t\tlet dates: [Date, Date][] = [];\n\t\tlet startOfTheDay = new Date(startDate); // copy the date\n\t\tlet endOfTheDay = new Date(startDate); // copy the date\n\t\tstartOfTheDay.setHours(0,0,0,0); // so set the start at the beginning of the day\n\t\tendOfTheDay.setHours(23,59,59,999); //set to end of day\n\n\t\tlet futureDates = amount>0;\n\t\tlet step = futureDates ? 1 : -1;\n\t\tlet absAmount = Math.abs(amount);\n\n\t\tfor(let i=0; i<absAmount; i++){\n\t\t\tstartOfTheDay = new Date(startOfTheDay.toISOString());\n\t\t\tendOfTheDay = new Date(endOfTheDay.toISOString());\n\n\t\t\tlet dayRange: [Date, Date] = [new Date(startOfTheDay.toISOString()), new Date(endOfTheDay.toISOString())]\n\t\t\tdates.push(dayRange); // push into list\n\n\t\t\tstartOfTheDay.setDate(startOfTheDay.getDate()+step); //add one day\n\t\t\tendOfTheDay.setDate(endOfTheDay.getDate()+step); //add one day\n\t\t}\n\n\t\tif(!futureDates){\n\t\t\tdates.reverse();\n\t\t}\n\n\t\treturn dates;\n\t}\n\n\tstatic sortDates(dates){\n\t\tlet datesAsDates = [];\n\t\tfor(let date of dates){\n\t\t\tif(typeof date===\"string\"){\n\t\t\t\tdatesAsDates.push(new Date (date));\n\t\t\t} else {\n\t\t\t\tdatesAsDates.push(date);\n\t\t\t}\n\t\t}\n\t\tdatesAsDates.sort((date1, date2) => date1 - date2);\n\t\treturn datesAsDates;\n\t}\n\n\tstatic addDays(date: Date, days: number){\n\t\tlet tempDate = new Date(date);\n\t\ttempDate.setDate(tempDate.getDate()+days);\n\t\treturn tempDate;\n\t}\n\n\tstatic addMinutes(date: Date, minutes: number){\n\t\tlet tempDate = new Date(date);\n\t\ttempDate.setMinutes(tempDate.getMinutes()+minutes);\n\t\treturn tempDate;\n\t}\n\n\tstatic formatToOfferDate(date: Date){\n\t\tlet iso = date.toISOString();\n\t\tlet trimmed = iso.slice(0, \"YYYY-MM-DD\".length);\n\t\treturn trimmed;\n\t}\n\n\tstatic isSameDay(date1: Date, date2: Date){\n\t\treturn date1.toDateString() === date2.toDateString();\n\t}\n\n\t// returns \"Yesterday\", \"Today\", \"Tomorrow\", or \"Tuesday\", \"Wednesday\" or the date in the format \"DD.MM.YYYY\"\n\tstatic useSmartReadableDate(date: Date, locale?: string){\n\t\tlet today = new Date();\n\t\tlet tomorrow = DateHelper.addDays(today, 1);\n\t\tlet yesterday = DateHelper.addDays(today, -1);\n\n\t\tlet translationToday = useAppTranslation(\"today\");\n\t\tlet translationTomorrow = useAppTranslation(\"tomorrow\");\n\t\tlet translationYesterday = useAppTranslation(\"yesterday\");\n\n\t\t// check if date is today, then return \"today\"\n\t\tif(DateHelper.isSameDay(today, date)){\n\t\t\treturn translationToday;\n\t\t}\n\t\t// check if date is tomorrow, then return \"tomorrow\"\n\t\tif(DateHelper.isSameDay(tomorrow, date)){\n\t\t\treturn translationTomorrow;\n\t\t}\n\t\t// check if date is yesterday, then return \"yesterday\"\n\n\t\tif(DateHelper.isSameDay(yesterday, date)){\n\t\t\treturn translationYesterday;\n\t\t}\n\n\t\tlet oneWeekLater = DateHelper.addDays(today, 6);\n\t\tif(date >= yesterday && date <= oneWeekLater){\n\t\t\treturn DateHelper.getWeekdayNameByDate(date, locale);\n\t\t}\n\t\t// else return \"01.01.2021\"\n\t\treturn DateHelper.formatOfferDateToReadable(date, false, false);\n\t}\n\n\tstatic formatOfferDateToReadable(offerDate, withYear?, withTime?){\n\t\tlet date = offerDate;\n\t\tif(!offerDate){\n\t\t\tdate = new Date();\n\t\t}\n\t\tif(typeof offerDate===\"string\"){\n\t\t\tdate = new Date(offerDate);\n\t\t}\n\t\tlet iso = date.toISOString();\n\t\tlet trimmed = iso.slice(0, \"YYYY-MM-DD\".length);\n\t\tlet splits = trimmed.split(\"-\");\n\t\tlet years = splits[0];\n\t\tlet month = splits[1];\n\t\tlet days = splits[2];\n\n\t\tlet firstPart = \"\";\n\t\tlet hours = date.getHours();\n\t\tlet minutes = date.getMinutes();\n\t\tif(withTime){\n\t\t\tlet hoursWithPad = hours < 10 ? \"0\"+hours : hours;\n\t\t\tlet minutesWithPad = minutes < 10 ? \"0\"+minutes : minutes;\n\t\t\tfirstPart = hoursWithPad+\":\"+minutesWithPad+\" \";\n\t\t}\n\n\t\tfirstPart+=days+\".\"+month+\".\"\n\t\tif(withYear){\n\t\t\treturn firstPart+years;\n\t\t} else {\n\t\t\treturn firstPart;\n\t\t}\n\t}\n\n\tstatic formatMinutesToReadable(minutes: number){\n\t\tlet hours = Math.floor(minutes/60);\n\t\tlet minutesLeft = minutes%60;\n\t\tlet readable = DateHelper.formatHoursAndMinutesToHH_MM(hours, minutesLeft);\n\t\treturn readable+\" h\";\n\t}\n\n\tstatic getDateInMinutes(date: Date, minutes: number){\n\t\tlet tempDate = new Date(date);\n\t\ttempDate.setMinutes(tempDate.getMinutes()+minutes);\n\t\treturn tempDate;\n\t}\n\n\tstatic getCurrentDateInMinutes(minutes: number){\n\t\treturn DateHelper.getDateInMinutes(new Date(), minutes);\n\t}\n\n\tstatic getSecondsDifference(date1: Date, date2: Date){\n\t\treturn (date1.getTime()-date2.getTime())/1000;\n\t}\n\n\tstatic getSecondsToDate(date: Date){\n\t\treturn DateHelper.getSecondsDifference(date, new Date());\n\t}\n\n\tstatic formatDateToHHMM(date: Date){\n\t\tlet hours = date.getHours();\n\t\tlet minutes = date.getMinutes();\n\t\treturn DateHelper.formatHoursAndMinutesToHH_MM(hours, minutes);\n\t}\n\n\tprivate static formatHoursAndMinutesToHH_MM(hours: number, minutes: number){\n\t\tlet hoursString = hours+\"\";\n\t\tlet minutesString = minutes+\"\";\n\t\tif(hours<10){\n\t\t\thoursString = \"0\"+hoursString;\n\t\t}\n\t\tif(minutes<10){\n\t\t\tminutesString = \"0\"+minutesString;\n\t\t}\n\t\treturn hoursString+\":\"+minutesString;\n\t}\n\n\tstatic isDateInFuture(date: Date){\n\t\tif(!date){\n\t\t\treturn undefined;\n\t\t}\n\t\tlet now = new Date();\n\t\treturn date>now;\n\t}\n\n}\n","import {CustomDirectusTypes, Foodoffers} from \"../../directusTypes/types\";\nimport {ServerAPI} from \"../../../kitcheningredients\";\nimport {Directus, Filter, PartialItem, TypeOf} from \"@directus/sdk\";\nimport {DateHelper} from \"../../helper/DateHelper\";\n\nexport class FoodLoader{\n\n\tstatic collection_foods = \"foods\";\n\tstatic collection_foodoffers = \"foodoffers\";\n\n\tstatic food_offer_fields = ['*',\"food.*\",\"food.translations.*\", 'markings.*'];\n\tstatic food_fields =['*', 'markings.*','feedbacks.*', \"translations.*\"];\n\n\tstatic async loadFoodOffer(foodoffer_id){\n\t\tlet directus: Directus<CustomDirectusTypes> = ServerAPI.getClient();\n\t\tlet answer = await directus.items(FoodLoader.collection_foodoffers).readOne(foodoffer_id, {\n\t\t\tfields: FoodLoader.food_offer_fields,\n\t\t});\n\t\treturn answer;\n\t}\n\n\tstatic async getFoodOffers(date: Date, canteenId?, amountDays?): Promise<PartialItem<TypeOf<CustomDirectusTypes, Foodoffers>>[]>{\n\t\tif(amountDays===undefined){\n\t\t\tamountDays = 1;\n\t\t}\n\n\t\tlet dateFilter: Filter<any> = {};\n\t\tlet andFilters = [];\n\n\t\tif(!!date){\n\t\t\tlet paramDate = DateHelper.formatToOfferDate(date);\n\t\t\tlet formatedDate = new Date(paramDate);\n\t\t\tlet dateRanges = DateHelper.getDatesOfAmountNextDaysIncludingToday(formatedDate, amountDays);\n\n\t\t\tlet startRange = dateRanges[0];\n\t\t\tlet start = new Date(startRange[0]);\n\n\t\t\tlet endRange = dateRanges[dateRanges.length-1];\n\t\t\tlet end = new Date(endRange[1]);\n\n\t\t\t//console.log(\"start\");\n\t\t\t//console.log(start);\n\t\t\t//console.log(\"end\");\n\t\t\t//console.log(end);\n\n\t\t\tandFilters.push(\n\t\t\t\t{\n\t\t\t\t\tdate: {\n\t\t\t\t\t\t_between: [start.toISOString(), end.toISOString()]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif(!!canteenId){\n\t\t\tandFilters.push(\n\t\t\t\t{\n\t\t\t\t\tcanteen: {\n\t\t\t\t\t\t_eq: canteenId,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\n\t\tdateFilter = {\n\t\t\t_and: andFilters\n\t\t}\n\n\t\tlet directus: Directus<CustomDirectusTypes> = ServerAPI.getClient();\n\n\t\ttry{\n\t\t\tlet answer = await directus.items(FoodLoader.collection_foodoffers).readByQuery({\n\t\t\t\tlimit: -1,\n\t\t\t\tfilter: dateFilter,\n\t\t\t\tfields: FoodLoader.food_offer_fields\n\t\t\t});\n\t\t\tlet items = answer?.data;\n\t\t\t//console.log(items);\n\t\t\treturn items;\n\t\t} catch (err){\n\t\t\t//console.log(\"Error at Load Foodoffers\");\n\t\t\t//console.log(err);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tstatic async searchFood(partialname, limitSearchResults?){\n\t\tlet directus: Directus<CustomDirectusTypes> = ServerAPI.getClient();\n\t\tlet answer = await directus.items(FoodLoader.collection_foods).readByQuery({\n\t\t\tlimit: limitSearchResults,\n\t\t\tfilter: {\n\t\t\t\t_and: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttranslations: {\n\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t_contains: partialname\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tfields: FoodLoader.food_fields\n\t\t})\n\t\treturn answer?.data;\n\t}\n\n\tstatic async loadFoodDetails(food_id){\n\t\tlet directus: Directus<CustomDirectusTypes> = ServerAPI.getClient();\n\t\tlet answer = await directus.items(FoodLoader.collection_foods).readOne(food_id, {\n\t\t\tfields: FoodLoader.food_fields,\n\t\t});\n\t\treturn answer;\n\t}\n\n\tstatic getDemoFeedbacks(foods_id){\n\t\treturn [\n\t\t\t{\n\t\t\t\t\"id\": 2,\n\t\t\t\t\"status\": \"published\",\n\t\t\t\t\"sort\": null,\n\t\t\t\t\"user_created\": \"bb47dabd-4745-4353-ae63-96caa5a20503\",\n\t\t\t\t\"date_created\": \"2022-06-21T09:14:49\",\n\t\t\t\t\"user_updated\": \"bb47dabd-4745-4353-ae63-96caa5a20503\",\n\t\t\t\t\"date_updated\": \"2022-06-21T09:16:47\",\n\t\t\t\t\"foods_id\": foods_id,\n\t\t\t\t\"profiles_id\": 2,\n\t\t\t\t\"comment\": \"Klasse\",\n\t\t\t\t\"canteen_id\": 1,\n\t\t\t\t\"rating\": 4.5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"id\": 3,\n\t\t\t\t\"status\": \"draft\",\n\t\t\t\t\"sort\": null,\n\t\t\t\t\"user_created\": \"bb47dabd-4745-4353-ae63-96caa5a20503\",\n\t\t\t\t\"date_created\": \"2022-06-21T09:17:07\",\n\t\t\t\t\"user_updated\": null,\n\t\t\t\t\"date_updated\": null,\n\t\t\t\t\"foods_id\": foods_id,\n\t\t\t\t\"profiles_id\": 3,\n\t\t\t\t\"comment\": \"Unterirdisch\",\n\t\t\t\t\"canteen_id\": 2,\n\t\t\t\t\"rating\": 1.5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"id\": 4,\n\t\t\t\t\"status\": \"published\",\n\t\t\t\t\"sort\": null,\n\t\t\t\t\"user_created\": \"bb47dabd-4745-4353-ae63-96caa5a20503\",\n\t\t\t\t\"date_created\": \"2022-06-21T09:17:25\",\n\t\t\t\t\"user_updated\": \"bb47dabd-4745-4353-ae63-96caa5a20503\",\n\t\t\t\t\"date_updated\": \"2022-06-21T09:17:31\",\n\t\t\t\t\"foods_id\": foods_id,\n\t\t\t\t\"profiles_id\": 4,\n\t\t\t\t\"comment\": \"War ganz gut\",\n\t\t\t\t\"canteen_id\": null,\n\t\t\t\t\"rating\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"id\": 5,\n\t\t\t\t\"status\": \"published\",\n\t\t\t\t\"sort\": null,\n\t\t\t\t\"user_created\": \"bb47dabd-4745-4353-ae63-96caa5a20503\",\n\t\t\t\t\"date_created\": \"2022-06-21T09:18:24\",\n\t\t\t\t\"user_updated\": null,\n\t\t\t\t\"date_updated\": null,\n\t\t\t\t\"foods_id\": foods_id,\n\t\t\t\t\"profiles_id\": 5,\n\t\t\t\t\"comment\": \"Mehr TestSoße bitte\",\n\t\t\t\t\"canteen_id\": 1,\n\t\t\t\t\"rating\": 3.5\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"id\": 6,\n\t\t\t\t\"status\": \"published\",\n\t\t\t\t\"sort\": null,\n\t\t\t\t\"user_created\": \"bb47dabd-4745-4353-ae63-96caa5a20503\",\n\t\t\t\t\"date_created\": \"2022-06-21T09:18:55\",\n\t\t\t\t\"user_updated\": null,\n\t\t\t\t\"date_updated\": null,\n\t\t\t\t\"foods_id\": foods_id,\n\t\t\t\t\"profiles_id\": 6,\n\t\t\t\t\"comment\": \"Wie bei Mutti !\",\n\t\t\t\t\"canteen_id\": 3,\n\t\t\t\t\"rating\": 4\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"id\": 7,\n\t\t\t\t\"status\": \"published\",\n\t\t\t\t\"sort\": null,\n\t\t\t\t\"user_created\": \"bb47dabd-4745-4353-ae63-96caa5a20503\",\n\t\t\t\t\"date_created\": \"2022-06-21T09:19:21\",\n\t\t\t\t\"user_updated\": null,\n\t\t\t\t\"date_updated\": null,\n\t\t\t\t\"foods_id\": foods_id,\n\t\t\t\t\"profiles_id\": 2,\n\t\t\t\t\"comment\": \"War nett\",\n\t\t\t\t\"canteen_id\": null,\n\t\t\t\t\"rating\": 2\n\t\t\t}\n\t\t];\n\t}\n\n\tprivate static getDemoFoodMarkings(food_id, index){\n\t\tlet demoMarkingIds = [1, 18, 35, 23, 28, 34];\n\n\t\tlet demoMarkings = [];\n\t\tlet amountMarkings = demoMarkingIds.length/2;\n\t\tfor(let i = 0; i < amountMarkings; i++){\n\t\t\tlet demoMarkingId = demoMarkingIds[(index+i) % demoMarkingIds.length];\n\t\t\tdemoMarkings.push({\n\t\t\t\t\"id\": -index+1000,\n\t\t\t\t\"foods_id\": food_id,\n\t\t\t\t\"markings_id\": demoMarkingId,\n\t\t\t});\n\t\t}\n\n\t\t//console.log(\"demoMarkings\");\n\t\t//console.log(demoMarkings);\n\n\t\treturn demoMarkings;\n\t}\n\n\tstatic getDemoFoodDetails(food_id){\n\t\tlet demoFoodOffers = FoodLoader.getDemoFoodOffers();\n\t\tlet foodOffer = demoFoodOffers.find(fo => fo.food.id == food_id);\n\t\tlet food = foodOffer.food;\n\t\treturn food;\n\t}\n\n\tprivate static getDemoPrivateFoodDetails(customFoodName?: string, index?: number){\n\t\tlet demoFoodName = customFoodName || \"Food Name\";\n\t\tindex = index || 0;\n\n\t\tlet food_id = index\n\n\t\tconst feedbacks = this.getDemoFeedbacks(food_id);\n\t\tconst markings = this.getDemoFoodMarkings(food_id, index);\n\n\t\treturn(\n\t\t\t{\n\t\t\t\t\"calories_kcal\": 476,\n\t\t\t\t\"carbohydrate_g\": 35,\n\t\t\t\t\"date_created\": null,\n\t\t\t\t\"date_updated\": \"2022-11-13T15:52:41.656Z\",\n\t\t\t\t\"extra\": null,\n\t\t\t\t\"fat_g\": 18,\n\t\t\t\t\"fiber_g\": null,\n\t\t\t\t\"id\": food_id,\n\t\t\t\t\"image\": null,\n\t\t\t\t\"name\": null,\n\t\t\t\t\"protein_g\": null,\n\t\t\t\t\"saturated_fat_g\": 7,\n\t\t\t\t\"sodium_g\": 4,\n\t\t\t\t\"sort\": null,\n\t\t\t\t\"status\": \"published\",\n\t\t\t\t\"sugar_g\": 5,\n\t\t\t\t\"user_created\": null,\n\t\t\t\t\"user_updated\": null,\n\t\t\t\t\"feedbacks\": feedbacks,\n\t\t\t\t\"markings\": markings,\n\t\t\t\t\"translations\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"id\": 7469,\n\t\t\t\t\t\t\"languages_code\": \"de-DE\",\n\t\t\t\t\t\t\"foods_id\": \"1216-1884\",\n\t\t\t\t\t\t\"name\": demoFoodName+\" DE\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"id\": 7470,\n\t\t\t\t\t\t\"languages_code\": \"en-US\",\n\t\t\t\t\t\t\"foods_id\": \"1216-1884\",\n\t\t\t\t\t\t\"name\": demoFoodName+\" EN\",\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t)\n\t}\n\n\tstatic getDemoFoodOffer(foodoffer_id){\n\t\tlet demoFoodOffers = FoodLoader.getDemoFoodOffers();\n\t\tlet foodOffer = demoFoodOffers.find(fo => fo.id == foodoffer_id);\n\t\treturn foodOffer;\n\t}\n\n\tprivate static getDemoFoodOfferByIndex(index){\n\t\tlet priceStudent = 0.5+(index%5)*0.3;\n\t\tlet priceEmployee = priceStudent+1.1;\n\t\tlet priceGuest = priceEmployee+1.2;\n\n\t\tlet names = [\"Chicken\", \"Beef\", \"Pork\", \"Fish\", \"Salad\", \"Dessert\", \"Menu\", \"Tacco\", \"Creme\", \"Pizza\", \"Burger\"];\n\t\tlet name = names[index%names.length];\n\n\t\tconst food_id = index\n\n\t\tconst markings = this.getDemoFoodMarkings(food_id, index)\n\n\t\treturn {\n\t\t\t\"id\": index,\n\t\t\t\"status\": \"published\",\n\t\t\t\"sort\": null,\n\t\t\t\"user_created\": null,\n\t\t\t\"date_created\": \"2022-05-23T23:56:08\",\n\t\t\t\"user_updated\": null,\n\t\t\t\"date_updated\": \"2022-05-23T23:56:08\",\n\t\t\t\"price_student\": priceStudent,\n\t\t\t\"price_employee\": priceEmployee,\n\t\t\t\"price_guest\": priceGuest,\n\t\t\t\"canteen\": 1,\n\t\t\t\"date\": \"2022-05-25\",\n\t\t\t\"markings\": markings,\n\t\t\t\"food\": FoodLoader.getDemoPrivateFoodDetails( \"Demo \"+name, index),\n\t\t}\n\t}\n\n\tstatic getDemoFoodOffers(){\n\t\tlet amountDemoFoodOffers = 10;\n\t\tlet demoFoodOffers = [];\n\t\tfor(let i = 0; i < amountDemoFoodOffers; i++){\n\t\t\tlet foodOffer = this.getDemoFoodOfferByIndex(i+1);\n\t\t\tdemoFoodOffers.push(foodOffer);\n\t\t}\n\t\treturn demoFoodOffers;\n\t}\n\n}\n","import React from 'react';\nimport {isFinite} from 'lodash';\nimport {isArray} from 'lodash';\nimport {isString} from 'lodash';\nimport {isNaN} from 'lodash';\nimport {View} from \"react-native\";\n\n//https://www.npmjs.com/package/react-rectangle/v/1.2.0\nexport default ({ aspectRatio = 1, children, style, ...rest }) => {\n    const multiplier = calculateAspectRatio(aspectRatio);\n\n    return (\n        <View style={{ position: 'relative', ...style }} {...rest}>\n            <View style={{ display: 'flex', paddingTop: 100 * multiplier + '%' }} />\n            <View style={{ position: 'absolute', bottom: 0, left: 0, top: 0, right: 0 }}>{children}</View>\n        </View>\n    );\n};\n\nconst calculateAspectRatio = aspectRatio => {\n    if (isFinite(aspectRatio)) {\n        return 1 / aspectRatio;\n    } else if (isArray(aspectRatio) && aspectRatio[0] !== undefined && aspectRatio[1] !== undefined) {\n        return aspectRatio[1] / aspectRatio[0];\n    } else if (aspectRatio.width !== undefined && aspectRatio.height !== undefined) {\n        return aspectRatio.height / aspectRatio.width;\n    } else if (isString(aspectRatio)) {\n        const parsedValue = Number.parseFloat(aspectRatio);\n        if (isNaN(parsedValue)) {\n            throw new Error('Cannot parse input string: ' + aspectRatio);\n        }\n        return 1 / Number.parseFloat(aspectRatio);\n    }\n\n    throw new Error('Cannot parse props.aspectRatio: ' + aspectRatio);\n};\n\nexport { calculateAspectRatio };","// @ts-nocheck\nimport React from \"react\";\nimport {CrossLottie, Icon} from \"../../../kitcheningredients\";\nimport {View, Text} from \"native-base\";\nimport {usePerformanceMode} from \"../../helper/synchedJSONState\";\n\nexport const ColoredCrossLottie = ({source, colorReplaceMap,...props}: any) => {\n\n\tlet performanceModeUsing = undefined;\n\ttry{\n\t\tconst [performanceMode, setPerformanceMode] = usePerformanceMode();\n\t\tperformanceModeUsing = performanceMode;\n\t} catch (err){ // Maybe this is not initialized yet, since we may use this before storage is loaded\n\t\t//\n\t}\n\n\tif(performanceModeUsing){\n\t\treturn <View style={{borderColor: \"black\", borderWidth: 1, justifyContent: \"center\", alignItems: \"center\", width: \"100%\", height: \"100%\"}}>\n\t\t\t<View style={{borderColor: \"white\", borderWidth: 1, justifyContent: \"center\", alignItems: \"center\", width: \"100%\", height: \"100%\"}}>\n\t\t\t\t<Icon name={\"image-off\"}/>\n\t\t\t\t<Text>{\"Animation disabled\"}</Text>\n\t\t\t</View>\n\t\t</View>\n\t}\n\n\n\tfunction hexToLottieColor(hex) {\n\t\tlet r = (parseInt(hex.slice(1, 3), 16) / 255).toFixed(4);\n\t\tlet g = (parseInt(hex.slice(3, 5), 16) / 255).toFixed(4);\n\t\tlet b = (parseInt(hex.slice(5, 7), 16) / 255).toFixed(4);\n\t\treturn [parseFloat(r), parseFloat(g), parseFloat(b)];\n\t}\n\n\tif(!colorReplaceMap){\n\t\tcolorReplaceMap = {};\n\n\t\t/*\n\t\tcolorReplaceMap = {\n\t\t\t\"#FF6224\": \"#FF00FF\"\n\t\t};\n\t\t*/\n\t}\n\n// Convert colorReplaceMap to Lottie color format\n\tfor(let color in colorReplaceMap){\n\t\tcolorReplaceMap[hexToLottieColor(color).toString()] = hexToLottieColor(colorReplaceMap[color]);\n\t}\n\n\tfunction replaceColorsInLottie(lottieJSON, colorReplaceMap) {\n\t\tif (Array.isArray(lottieJSON)) {\n\t\t\tfor (let i = 0; i < lottieJSON.length; i++) {\n\t\t\t\tlottieJSON[i] = replaceColorsInLottie(lottieJSON[i], colorReplaceMap);\n\t\t\t}\n\t\t} else if (typeof lottieJSON === 'object' && lottieJSON !== null) {\n\t\t\tfor (let key in lottieJSON) {\n\t\t\t\tif (key === 'c') {\n\t\t\t\t\tif (lottieJSON[key].a === 0 && colorReplaceMap[lottieJSON[key].k.toString()]) {\n\t\t\t\t\t\tlottieJSON[key].k = colorReplaceMap[lottieJSON[key].k.toString()];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlottieJSON[key] = replaceColorsInLottie(lottieJSON[key], colorReplaceMap);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn lottieJSON;\n\t}\n\n\tlet coloredSource = replaceColorsInLottie(source, colorReplaceMap);\n\n\treturn <CrossLottie source={coloredSource} {...props} />\n\n}\n","// @ts-nocheck\nimport React from \"react\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\nimport {ColoredCrossLottie} from \"./ColoredCrossLottie\";\n\nexport const ProjectColoredCrossLottie = ({source, ...props}: any) => {\n\n\tconst projectColor = ColorHelper.useProjectColor();\n\n\n\tlet rocketMealsColor = \"#EE581F\" // [0.9333,0.3451,0.1216] // \"#EE581F\" is the default color for RocketMeals projects\n\tconst useColorToReplace = projectColor || rocketMealsColor;\n\tlet colorReplaceMap = {};\n\n\tlet searchForColor = \"#FF00FF\" // which is translated in LottieRGB [1,0,1] // RGB 0..1\n\t// In order to support Project Colored Lottie Files, replace the color which should be replaced with the LottieRGB Value\n\n\tif(!!projectColor){\n\t\tcolorReplaceMap = {\n\t\t\t// TODO: Set the color in the lottie files and shadings into a better detectable like: #FF00FF or something\n\t\t\t[searchForColor]: projectColor,\n\t\t}\n\t}\n\n\treturn <ColoredCrossLottie source={source} colorReplaceMap={colorReplaceMap} {...props} />\n\n}\n","import React, {useEffect, useState} from \"react\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {BasePadding, CrossLottie, Layout} from \"../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport noFoodOffersFound from \"../../assets/noFoodOffersFound.json\";\nimport {AppTranslation} from \"../translations/AppTranslation\";\nimport {ColoredCrossLottie} from \"../animations/ColoredCrossLottie\";\nimport {ProjectColoredCrossLottie} from \"../animations/ProjectColoredCrossLottie\";\nimport {AnimatedLogo} from \"../AnimatedLogo\";\n\nexport const NoFoodOffersFound = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"60%\",\n\t\tmd: Layout.WIDTH_MD*0.7,\n\t\tlg: Layout.WIDTH_LG*0.6,\n\t\txl: Layout.WIDTH_XL*0.5\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<BasePadding>\n\t\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t\t<AppTranslation id={\"foodoffersNothingFound\"} />\n\t\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t\t<Rectangle>\n\t\t\t\t\t\t<ProjectColoredCrossLottie source={noFoodOffersFound} flex={1} />\n\t\t\t\t\t</Rectangle>\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t</BasePadding>\n\t)\n}\n","import React, {useEffect, useState} from \"react\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {CrossLottie, Layout} from \"../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport notFound from \"../../assets/404-notfound.json\";\nimport {AppTranslation} from \"../translations/AppTranslation\";\n\nexport const NotFound = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"60%\",\n\t\tmd: Layout.WIDTH_MD*0.7,\n\t\tlg: Layout.WIDTH_LG*0.6,\n\t\txl: Layout.WIDTH_XL*0.5\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<AppTranslation id={\"somethingWentWrong\"} />\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<CrossLottie source={notFound} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from \"react\";\nimport {StyleProp, ViewProps, ViewStyle} from \"react-native\";\nimport {View} from \"native-base\";\n\nexport const ViewPercentageBorderradius: FunctionComponent<ViewProps> = ({style, children, ...props}) => {\n\n    const [dimension, setDimension] = useState({x: undefined, y: undefined, width: undefined, height: undefined, reloadNumber: 0});\n\n    let copiedStyle = JSON.parse(JSON.stringify(style || {}));\n\n    function fixPercentage(copiedValue){\n        if(!!copiedValue && typeof copiedValue===\"string\" && copiedValue.endsWith(\"%\")){\n            let percentage = parseInt(copiedValue);\n            let width = dimension.width;\n            if(!!width && !!percentage){\n                let radiusAsInt = parseInt(\"\"+(percentage*width/100))\n                return radiusAsInt;\n            } else {\n                return 0; // null works for ios & web but not on android: \"android.graphics.Path.isEmpty()\"\n            }\n        }\n        return copiedValue;\n    }\n\n    function fixStyleForFields(styles, ...fieldnames){\n        let mergedStyle = {};\n        if(!!styles){\n            if(!styles?.length){\n                mergedStyle = styles;\n            } else if(styles?.length > 1) {\n                styles.forEach(style => {\n                    mergedStyle = {...mergedStyle, ...style};\n                });\n            }\n        }\n\n        for(let fieldname of fieldnames){\n            mergedStyle[fieldname] = fixPercentage(mergedStyle[fieldname]);\n        }\n        return mergedStyle;\n    }\n\n    copiedStyle = fixStyleForFields(copiedStyle, \"borderRadius\", \"borderRadius\", \"borderTopRightRadius\", \"borderTopLeftRadius\", \"borderBottomRightRadius\", \"borderBottomLeftRadius\", \"borderWidth\")\n\n    let outerStyle = {...copiedStyle, ...{}};\n    if(!dimension?.width ||  !dimension?.height){\n        outerStyle.opacity = 0; // render first time invisible, since we dont know the size yet\n    }\n\n    return(\n        <View {...props} style={[outerStyle]} onLayout={(event) => {\n                const {x, y, width, height} = event.nativeEvent.layout;\n                setDimension({x: x, y: y, width: width, height: height, reloadNumber: dimension.reloadNumber+1});\n        }}>\n            {children}\n        </View>\n    )\n}\n","import React, {FunctionComponent, useState} from \"react\";\nimport {Text, Tooltip, View} from \"native-base\";\nimport {AccessibilityState, TouchableOpacity} from \"react-native\";\n\nexport interface AppState{\n\tdisabled?: boolean,\n\taccessibilityLabel: string,\n\taccessibilityRole?: string,\n\taccessibilityHint?: string,\n\taccessibilityState?: any,\n\tstyle?: any\n}\nexport const MyTouchableOpacity: FunctionComponent<AppState> = ({disabled, accessibilityRole, accessibilityLabel, style ,...props}) => {\n\n\tlet mergedStyle = []\n\tif(Array.isArray(style)){\n\t\tmergedStyle = style\n\t} else {\n\t\tmergedStyle.push(style)\n\t}\n\tif(disabled){\n\t\tmergedStyle.push({\n\t\t\tcursor: \"not-allowed\",\n\t\t\t//opacity: 0.5\n\t\t});\n\t}\n\n\treturn(\n\t\t<Tooltip label={accessibilityLabel} >\n\t\t\t<TouchableOpacity accessibilityState={props?.accessibilityState} accessibilityHint={props?.accessibilityHint} accessibilityRole={accessibilityRole ?? 'button'} accessibilityLabel={accessibilityLabel} disabled={disabled} style={mergedStyle} {...props}>\n\t\t\t\t{props?.children}\n\t\t\t</TouchableOpacity>\n\t\t</Tooltip>\n\t)\n\n}\n","import React, {FunctionComponent, useState} from \"react\";\n\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {MyTouchableOpacity} from \"./MyTouchableOpacity\";\n\nexport interface AppState{\n\tdisabled?: boolean,\n\taccessibilityLabel: string,\n\taccessibilityRole?: string,\n\tstyle?: any\n}\nexport const MyTouchableOpacityForNavigation: FunctionComponent<AppState> = ({disabled, accessibilityRole, accessibilityLabel, style ,...props}) => {\n\n\tconst translationNavigateTo = useAppTranslation(\"navigateTo\")\n\tconst accessibilityLabelWithNavigation = translationNavigateTo+\": \"+accessibilityLabel;\n\n\treturn(\n\t\t<MyTouchableOpacity accessibilityRole={\"link\"} accessibilityLabel={accessibilityLabelWithNavigation} disabled={disabled} style={style} {...props}>\n\t\t\t{props?.children}\n\t\t</MyTouchableOpacity>\n\t)\n\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {\n\tCrossLottie,\n\tIcon,\n\tKitchenSkeleton,\n\tLayout,\n\tMyThemedBox, Navigation,\n\tNavigatorHelper,\n\tuseSynchedState\n} from \"../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport noFoodOffersFound from \"../../assets/noFoodOffersFound.json\";\nimport {StorageKeys} from \"../../helper/synchedVariables/StorageKeys\";\nimport {FoodLoader} from \"./FoodLoader\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {TouchableOpacity} from \"react-native\";\nimport {FoodOfferList} from \"../../screens/food/FoodOfferList\";\nimport {ViewPercentageBorderradius} from \"../../helper/ViewPercentageBorderradius\";\nimport {StringHelper} from \"../../helper/StringHelper\";\nimport {AppTranslation} from \"../translations/AppTranslation\";\nimport {useProfileLanguageCode} from \"../translations/DirectusTranslationUseFunction\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\nimport {MyTouchableOpacityForNavigation} from \"../buttons/MyTouchableOpacityForNavigation\";\n\nexport interface AppState{\n\tcanteenId: string,\n\tamountDays: number,\n}\nexport const OtherFoodOffersDaysFoundComponent: FunctionComponent<AppState> = (props: any) => {\n\n\tconst profileLocal = useProfileLanguageCode();\n\n\tconst defaultColor = props?.defaultColor || ColorHelper.useProjectColor();\n\tconst defaultTextColor = props?.defaultTextColor || ColorHelper.useContrastColor(defaultColor);\n\n\tlet canteenId = props.canteenId;\n\tlet amountDays = props.amountDays;\n\tlet future = amountDays >= 0;\n\n\tif(!canteenId || amountDays===undefined || amountDays===null){\n\t\treturn null;\n\t}\n\n\tconst [nearestOfferDate, setNearestOfferDate] = useState(undefined);\n\tlet dateFound = !!nearestOfferDate;\n\n\tasync function load(){\n\t\tlet today = new Date();\n\n\t\tlet newFoodOffersNextDays = await FoodLoader.getFoodOffers(today, canteenId, amountDays);\n\t\tif(!!newFoodOffersNextDays){\n\t\t\tlet foodsByDateDict = {};\n\t\t\tfor(let offer of newFoodOffersNextDays){\n\t\t\t\tlet date = offer?.date;\n\t\t\t\tif(!!date){\n\t\t\t\t\tdate = date + \".000Z\"; // format to UTC Time\n\n\t\t\t\t\tlet foodsByDate = foodsByDateDict[date] || [];\n\t\t\t\t\tfoodsByDate.push(offer);\n\t\t\t\t\tfoodsByDateDict[date] = foodsByDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet keys = Object.keys(foodsByDateDict);\n\t\t\tlet sortedDates = DateHelper.sortDates(keys);\n\n\t\t\tif(!!sortedDates){\n\t\t\t\tlet nextDate\n\t\t\t\tif(future){\n\t\t\t\t\tnextDate = sortedDates[0];\n\t\t\t\t} else {\n\t\t\t\t\tnextDate = sortedDates[sortedDates.length-1];\n\t\t\t\t}\n\t\t\t\tif(!!nextDate){\n\t\t\t\t\tsetNearestOfferDate(DateHelper.formatToOfferDate(nextDate));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetNearestOfferDate(null);\n\t\treturn;\n\t}\n\n\tuseEffect(() => {\n\t\tload();\n\t}, [props])\n\n\tfunction renderIcon(){\n\t\tlet icon = future ? \"arrow-right\" : \"arrow-left\";\n\t\tif(!dateFound){\n\t\t\ticon = \"close\"\n\t\t}\n\t\treturn <Icon color={defaultTextColor} name={icon} />\n\t}\n\n\n\tfunction getTextNoFoodsFound(){\n\t\tlet amountDaysAbs = Math.abs(amountDays);\n\t\tif(future){\n\t\t\treturn <View style={{alignItems: \"center\"}}><AppTranslation color={defaultTextColor} id={\"noOffersFoundInTheNextDays\"} params={{\"%d\": amountDaysAbs}} /></View>\n\t\t} else {\n\t\t\treturn <View style={{alignItems: \"center\"}}><AppTranslation color={defaultTextColor}  id={\"noOffersFoundInTheLastDays\"} params={{\"%d\": amountDaysAbs}} /></View>;\n\t\t}\n\t}\n\n\tfunction getTextNearest(){\n\t\tif(future){\n\t\t\treturn <AppTranslation color={defaultTextColor}  id={\"nextOffersFoundFor\"} postfix={\":\"} />;\n\t\t} else {\n\t\t\treturn <AppTranslation color={defaultTextColor}  id={\"previousOffersFoundFor\"} postfix={\":\"} />;\n\t\t}\n\t}\n\n\tfunction renderLoadingContent(){\n\t\treturn (\n\t\t\t<View style={{flex: 1}}>\n\t\t\t\t<View><Text color={\"transparent\"}>{DateHelper.formatOfferDateToReadable(new Date(), true)}</Text></View>\n\t\t\t\t<ViewPercentageBorderradius style={{borderRadius: \"10%\", position: \"absolute\", width: \"100%\", height: \"100%\", overflow: \"hidden\"}} >\n\t\t\t\t\t<KitchenSkeleton flex={1} />\n\t\t\t\t</ViewPercentageBorderradius>\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction renderContent(){\n\t\tif(!dateFound){\n\t\t\treturn getTextNoFoodsFound()\n\t\t} else {\n\t\t\tlet text = renderLoadingContent();\n\t\t\tif(dateFound){\n\t\t\t\tlet date = new Date(nearestOfferDate);\n\t\t\t\tlet locale = profileLocal || \"en-us\";\n\t\t\t\tlet dayName = date.toLocaleDateString(locale, { weekday: 'long' });\n\n\t\t\t\ttext = <Text color={defaultTextColor} >{dayName+\" \"+DateHelper.formatOfferDateToReadable(nearestOfferDate)+\"\"}</Text>;\n\t\t\t}\n\t\t\treturn(\n\t\t\t\t<View style={{width: \"100%\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"center\"}}>\n\t\t\t\t\t{getTextNearest()}\n\t\t\t\t\t{text}\n\t\t\t\t</View>\n\t\t\t);\n\t\t}\n\n\n\t}\n\n\treturn (\n\t\t<View style={{flex: 1}}>\n\t\t\t<ViewPercentageBorderradius style={{borderRadius: \"5%\", overflow: \"hidden\", backgroundColor: defaultColor}} >\n\t\t\t\t\t<MyTouchableOpacityForNavigation\n\t\t\t\t\t\tdisabled={!dateFound} onPress={() => {\n\t\t\t\t\t\tNavigation.navigateTo(FoodOfferList, {canteenid: canteenId, date: nearestOfferDate});\n//\t\t\t\t\t\tNavigatorHelper.navigateWithoutParams(FoodOfferList, false, {canteenid: canteenId, date: nearestOfferDate})\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<View style={{alignItems: \"center\", justifyContent: \"center\", margin: 10}}>\n\t\t\t\t\t\t\t{renderIcon()}\n\t\t\t\t\t\t\t{renderContent()}\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</MyTouchableOpacityForNavigation>\n\t\t\t</ViewPercentageBorderradius>\n\t\t</View>\n\t)\n}\n","import {Text, View} from \"native-base\";\nimport React, {FunctionComponent} from \"react\";\n\nexport const ParentSpacer = (props) => {\n\n\tconst children = props?.children?.length ? props.children : [props.children]; //if only one child pass into array\n\n\tconst space = props?.style?.space || props?.space;\n\treturn (\n\t\t// @ts-ignore\n\t\t<View\n\t\t\tstyle={[{\n\t\t\t\tflex: 1,\n\t\t\t\tflexDirection: props?.style?.direction || props?.direction,\n\t\t\t}, props?.style]}>\n\t\t\t{children.map((child, index, arr) => (\n\t\t\t\t<>\n\t\t\t\t\t{child}\n\t\t\t\t\t{index < arr.length - 1 && <View style={{width: space, height: space}} />}\n\t\t\t\t</>\n\t\t\t))}\n\t\t</View>\n\t)\n\n}","import React, {useEffect, useState} from \"react\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport {OtherFoodOffersDaysFoundComponent} from \"./OtherFoodOffersDaysFoundComponent\";\nimport {ParentSpacer} from \"../../helper/ParentSpacer\";\nimport {useSynchedProfile, useSynchedProfileCanteen} from \"../profile/ProfileAPI\";\n\nexport const OtherFoodOffersDaysFound = (props: any) => {\n\n\tconst [profileCanteenId, setProfileCanteenId] = useSynchedProfileCanteen();\n\n\tuseEffect(() => {\n\n\t}, [props])\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t\t<ParentSpacer space={10} style={{width: \"100%\", flex: 1, flexDirection: \"row\"}}>\n\t\t\t\t\t<View style={{ width: \"100%\",flex: 1}}>\n\t\t\t\t\t\t<OtherFoodOffersDaysFoundComponent canteenId={profileCanteenId} amountDays={-7} />\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{ width: \"100%\",flex: 1}}>\n\t\t\t\t\t\t<OtherFoodOffersDaysFoundComponent canteenId={profileCanteenId} amountDays={7} />\n\t\t\t\t\t</View>\n\t\t\t\t</ParentSpacer>\n\t\t</View>\n\t)\n}\n","import React from \"react\";\nimport {Platform} from \"react-native\";\nimport {ServerAPI} from \"../../../kitcheningredients\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport {PlatformHelper} from \"../../helper/PlatformHelper\";\n\nexport interface ImageUploaderInterface {\n\tcollection_name,\n\tinstance_id ,\n\tfield_name,\n\tselectionLimit?: number,\n\taspect?: [number, number],\n\tonUpload?: any,\n}\nexport enum ImageUploaderStatus {\n\tsuccess=\"success\",\n\tdenied=\"denied\",\n\tcanceled=\"canceled\",\n\tundertermined=\"undertermined\",\n\tunknown=\"unknown\"\n}\nexport interface ImageUploaderResults {\n\tstatus: ImageUploaderStatus,\n\tdata: any;\n}\nexport class ImageUploader {\n\n\tstatic async getImagePermissionStatus(){\n\t\tif (!PlatformHelper.isWeb()) {\n\t\t\treturn ImagePicker.PermissionStatus.GRANTED;\n\t\t} else {\n\t\t\tconst { status } = await ImagePicker.getMediaLibraryPermissionsAsync(false);\n\t\t\treturn status;\n\t\t}\n\t}\n\n\tstatic async uploadImageFromLibraryToFieldInCollection(data: ImageUploaderInterface): Promise<ImageUploaderResults>{\n\t\tif (!PlatformHelper.isWeb()) {\n\t\t\treturn await ImageUploader.handleImageUploadProcess(data)\n\t\t} else {\n\t\t\tconst { status } = await ImagePicker.getMediaLibraryPermissionsAsync(false);\n\t\t\tif(ImageUploader.isPermissionGranted(status)){\n\t\t\t\treturn await ImageUploader.handleImageUploadProcess(data)\n\t\t\t} else if(ImageUploader.isPermissionUndetermined(status)) {\n\t\t\t\t//show warning about asking permission\n\t\t\t\t//callback to ask for permission\n\t\t\t\t//if permission granted, recall main function\n\t\t\t\t//if not granted, show warning that this is needed and the user should go into system settings\n\t\t\t} else if(ImageUploader.isPermissionDenied(status)){\n\t\t\t\t//if denied: ImagePicker.PermissionStatus.DENIED\n\t\t\t\t//show warning to go into system settings\n\t\t\t\t// if Granted\n\t\t\t} else {\n\t\t\t\t//show unkown error with status\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic async deleteImageValueCollection(data: ImageUploaderInterface): Promise<ImageUploaderResults>{\n\t\t// @ts-ignore\n\t\treturn ImageUploader.uploadBase64ImageToFieldInCollection(data.collection_name, data.instance_id, data.field_name, null, data.onUpload);\n\t}\n\n\tprivate static async handleImageUploadProcess(data: ImageUploaderInterface): Promise<ImageUploaderResults>{\n\t\tlet result = await ImageUploader.openImageSelection(data.selectionLimit, data.aspect);\n\t\tif(!result){\n\t\t\treturn {\n\t\t\t\tstatus: ImageUploaderStatus.canceled,\n\t\t\t\tdata: null\n\t\t\t}\n\t\t\t//user canceled\n\t\t} else {\n\t\t\tlet base64Image = ImageUploader.getGetBase64ImageFromResults(result);\n\t\t\tlet updateResult = await ImageUploader.uploadBase64ImageToFieldInCollection(data.collection_name, data.instance_id, data.field_name, base64Image, data.onUpload);\n\t\t\treturn {\n\t\t\t\tstatus: ImageUploaderStatus.success,\n\t\t\t\tdata: updateResult\n\t\t\t}\n\t\t}\n\t}\n\n\n\tstatic isPermissionGranted(status){\n\t\treturn status === ImagePicker.PermissionStatus.GRANTED // 'granted'\n\t}\n\n\tprivate static isPermissionUndetermined(status){\n\t\treturn status === ImagePicker.PermissionStatus.UNDETERMINED\n\t}\n\n\tprivate static isPermissionDenied(status){\n\t\treturn status === ImagePicker.PermissionStatus.DENIED\n\t}\n\n\tstatic async requestImagePermission(){\n\t\tconst { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n\t\treturn ImageUploader.isPermissionGranted(status)\n\t}\n\n\tprivate static async openImageSelection(selectionLimit?: number, aspect?: [number, number]){\n\t\tlet allowsMultipleSelection = false;\n\t\tif(selectionLimit===undefined || selectionLimit===null){\n\t\t\tselectionLimit = 1;\n\t\t} else if (selectionLimit > 1) {\n\t\t\tallowsMultipleSelection = true;\n\t\t}\n\n\t\tlet result = await ImagePicker.launchImageLibraryAsync({\n\t\t\tmediaTypes: ImagePicker.MediaTypeOptions.Images,\n\t\t\tallowsEditing: true,\n\t\t\tallowsMultipleSelection: allowsMultipleSelection,\n\t\t\taspect: aspect || [1, 1],\n\t\t\tselectionLimit: selectionLimit,\n\t\t\tbase64: true,\n\t\t\tquality: 1,\n\t\t});\n\n\t\tif (!result.cancelled) {\n\t\t\treturn result\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprivate static byteCount(s) {\n\t\treturn encodeURI(s).split(/%..|./).length - 1;\n\t}\n\n\tprivate static getGetBase64ImageFromResults(result): string{\n\t\tlet base64 = null;\n\t\tif(PlatformHelper.isWeb()){\n\t\t\tbase64 = result.uri;\n\t\t} else {\n\t\t\tlet base64Data = result.base64;\n\t\t\tif(base64Data.startsWith(\"data:image/\")){\n\t\t\t\tbase64 = base64Data;\n\t\t\t} else { //This is the normal case\n\t\t\t\t//https://www.codegrepper.com/code-examples/javascript/react+native+image+picker+get+base64\n\t\t\t\tbase64 = `data:image/png;base64,${base64Data}`;\n\t\t\t}\n\t\t}\n\t\t//console.log(\"base64.length: \"+base64.length);\n\t\t//console.log(\"ByteSize: \"+ImageUploader.byteCount(base64));\n\t\t//console.log(\"KB: \"+(ImageUploader.byteCount(base64)/1024))\n\t\t//console.log(\"MB: \"+(ImageUploader.byteCount(base64)/1024/1024))\n\t\treturn base64;\n\t}\n\n\tprivate static async uploadBase64ImageToFieldInCollection(collection_name, instance_id , field_name, base64Image, onUpload?){\n\t\t\tlet directus = ServerAPI.getClient();\n\n\t\t\tif(!!onUpload){\n\t\t\t\tonUpload(base64Image.length)\n\t\t\t}\n\t\t\tlet updateResult = await directus.items(collection_name).updateOne(instance_id, {[field_name]: base64Image});\n\t\t\t//console.log(updateResult);\n\t\t\t//console.log(\"Upload finished\");\n\t\t\treturn updateResult;\n\t}\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {AlertDialog, Button, Center, Divider, Text, View} from \"native-base\";\nimport {Icon} from \"../../kitcheningredients\";\nimport {TouchableOpacity} from \"react-native\";\n\ninterface AppState {\n\tisOpen: boolean;\n\tonClose: () => {};\n\tonAccept: () => {};\n\ttitle: string;\n\tcontent: string;\n\taccept: string;\n}\nexport const MyAlertDialog : FunctionComponent<AppState> = (props) => {\n\n\tconst [isOpen, setIsOpen] = React.useState(props.isOpen)\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [])\n\n\tconst onClose = async () => {\n\t\tlet allowAction = true;\n\t\tif(props.onClose){\n\t\t\tallowAction = await props.onClose()\n\t\t}\n\t\tif(allowAction){\n\t\t\tsetIsOpen(false)\n\t\t}\n\t}\n\n\tconst onAccept = async () => {\n\t\tlet allowAction = true;\n\t\tif(props.onAccept){\n\t\t\tallowAction = await props.onAccept()\n\t\t}\n\t\tif(allowAction){\n\t\t\tsetIsOpen(false)\n\t\t}\n\t}\n\n\tconst cancelRef = React.useRef(null)\n\treturn (\n\t\t<Center>\n\t\t\t<AlertDialog leastDestructiveRef={cancelRef} isOpen={isOpen} onClose={onClose}>\n\t\t\t\t<AlertDialog.Content>\n\t\t\t\t\t<AlertDialog.Header>\n\t\t\t\t\t\t<View style={{flexDirection: \"row\"}}>\n\t\t\t\t\t\t\t<View style={{flex: 1}}>\n\t\t\t\t\t\t\t\t<Text>{props.title}</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t<View>\n\t\t\t\t\t\t\t\t<TouchableOpacity onPress={onClose}>\n\t\t\t\t\t\t\t\t\t<Icon name={\"close\"} />\n\t\t\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</View>\n\n\t\t\t\t\t</AlertDialog.Header>\n\t\t\t\t\t<AlertDialog.Body>\n\t\t\t\t\t\t{props.content}\n\t\t\t\t\t</AlertDialog.Body>\n\t\t\t\t\t<AlertDialog.Footer>\n\t\t\t\t\t\t<View style={{flex:1,\n\t\t\t\t\t\t\tflexDirection: 'row-reverse',\n\t\t\t\t\t\t\tflexWrap: 'wrap'}}>\n\t\t\t\t\t\t\t\t<Button onPress={onClose} ref={cancelRef}>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button style={{margin: 10, backgroundColor: \"#EF4444\"}} onPress={onAccept}>\n\t\t\t\t\t\t\t\t\t{props.accept}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</AlertDialog.Footer>\n\t\t\t\t</AlertDialog.Content>\n\t\t\t</AlertDialog>\n\t\t</Center>\n\t)\n}\n","import React, {FunctionComponent, useState} from \"react\";\nimport {TouchableOpacity} from \"react-native\";\nimport {ImageUploader, ImageUploaderInterface, ImageUploaderStatus} from \"./ImageUploader\";\nimport {MyAlertDialog} from \"../../helper/MyAlertDialog\";\n\nexport const ImageUploaderTouchable: FunctionComponent<{style?, data: ImageUploaderInterface, onUpload: any}> = (props) => {\n\n\tconst [alertOpen, setAlertOpen] = useState(false);\n\n\tasync function handleUpload(){\n\t\tlet status = await ImageUploader.getImagePermissionStatus();\n\t\tlet isGranted = ImageUploader.isPermissionGranted(status);\n\t\tif(isGranted){\n\t\t\t//TODO: show loading indicator\n\t\t\tlet result = await ImageUploader.uploadImageFromLibraryToFieldInCollection(props?.data);\n\t\t\tif(result?.status === 400){\n\t\t\t\t//TODO: show error message\n\t\t\t} else {\n\t\t\t\tif(!!props?.onUpload){\n\t\t\t\t\tprops.onUpload();\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tsetAlertOpen(true);\n\t\t}\n\t}\n\n\tasync function handleDelete(){\n\t\tlet result = await ImageUploader.deleteImageValueCollection(props?.data);\n\t\tif(!!props?.onUpload){\n\t\t\tprops.onUpload();\n\t\t}\n\t}\n\n\tfunction closeAlert(){\n\t\tsetAlertOpen(false)\n\t}\n\n\tfunction renderAlertDialog(){\n\t\t/**\n\t\t isOpen: boolean;\n\t\t onClose: () => {};\n\t\t onAccept: () => {};\n\t\t title: string;\n\t\t content: string;\n\t\t accept: string;\n\t\t */\n\t\treturn(\n\t\t\t\t<MyAlertDialog key={alertOpen} isOpen={alertOpen} title={\"Image Upload\"} content={\"We need your permission to access your images.\"} accept={\"OK\"} onClose={async () => {closeAlert()}} onAccept={async () => {\n\t\t\t\t\tlet allowed = await ImageUploader.requestImagePermission();\n\t\t\t\t\tcloseAlert()\n\t\t\t\t\tif(allowed){\n\t\t\t\t\t\thandleUpload();\n\t\t\t\t\t}\n\t\t\t\t}} />\n\t\t)\n\t}\n\n\treturn (\n\t\t<TouchableOpacity key={alertOpen} style={props?.style} onPress={handleUpload}>\n\t\t\t{renderAlertDialog()}\n\t\t\t{props.children}\n\t\t</TouchableOpacity>\n\t)\n}","import React, {FunctionComponent, useState} from \"react\";\nimport {TouchableOpacity} from \"react-native\";\nimport {ImageUploader, ImageUploaderInterface, ImageUploaderStatus} from \"./ImageUploader\";\nimport {MyAlertDialog} from \"../../helper/MyAlertDialog\";\n\nexport const ImageDeleteTouchable: FunctionComponent<{style?, data: ImageUploaderInterface, onUpload: any}> = (props) => {\n\n\tconst [alertOpen, setAlertOpen] = useState(false);\n\n\tasync function handleDelete(){\n\t\tlet result = await ImageUploader.deleteImageValueCollection(props?.data);\n\t\tif(!!props?.onUpload){\n\t\t\tprops.onUpload();\n\t\t}\n\t}\n\n\tfunction closeAlert(){\n\t\tsetAlertOpen(false)\n\t}\n\n\tfunction renderAlertDialog(){\n\t\t/**\n\t\t isOpen: boolean;\n\t\t onClose: () => {};\n\t\t onAccept: () => {};\n\t\t title: string;\n\t\t content: string;\n\t\t accept: string;\n\t\t */\n\t\treturn(\n\t\t\t\t<MyAlertDialog key={alertOpen} isOpen={alertOpen} title={\"Image Delete\"} content={\"Are you sure you want to delete the image?\"} accept={\"OK\"} onClose={async () => {closeAlert()}} onAccept={async () => {\n\t\t\t\t\thandleDelete()\n\t\t\t\t\tcloseAlert()\n\t\t\t\t}} />\n\t\t)\n\t}\n\n\treturn (\n\t\t<TouchableOpacity key={alertOpen} style={props?.style} onPress={() => {setAlertOpen(true)}}>\n\t\t\t{renderAlertDialog()}\n\t\t\t{props.children}\n\t\t</TouchableOpacity>\n\t)\n}","import React, {useEffect, useState} from \"react\";\nimport {Input, Text, View} from \"native-base\";\nimport {Icon} from \"../../../kitcheningredients\";\nimport {ViewPercentageBorderradius} from \"../../helper/ViewPercentageBorderradius\";\nimport {ImageUploaderTouchable} from \"./ImageUploaderTouchable\";\nimport {ImageUploaderInterface} from \"./ImageUploader\";\nimport {ImageDeleteTouchable} from \"./ImageDeleteTouchable\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {ParentSpacer} from \"../../helper/ParentSpacer\";\n\nexport const CollectionImageManipulator = ({collection, item, itemImageField, onUpload, ...props}: any) => {\n\n    const data: ImageUploaderInterface ={\n        collection_name: collection, field_name: itemImageField, instance_id: item?.id\n    };\n\n    const holderStyle = {\n        borderRadius: \"100%\", padding: 10\n    }\n\n    function renderIcon(name, color){\n        return(\n            <ViewPercentageBorderradius style={[holderStyle, {backgroundColor: color}]}>\n                <Icon name={name} size={\"md\"} />\n            </ViewPercentageBorderradius>\n        )\n    }\n\n    const touchStyle = {\n        alignItems: \"center\", justifyContent: \"center\"\n    }\n\n    return(\n        <ParentSpacer space={10} style={{justifyContent: \"flex-end\", alignItems: \"flex-start\", flexDirection: \"row\"}}>\n            <ImageDeleteTouchable onUpload={onUpload} data={data} style={touchStyle} >\n                {renderIcon(\"image-minus\", \"red\")}\n            </ImageDeleteTouchable>\n            <ImageUploaderTouchable onUpload={onUpload} data={data} style={touchStyle} >\n                {renderIcon(\"image-plus\", \"orange\")}\n            </ImageUploaderTouchable>\n        </ParentSpacer>\n    )\n}\n","import React from \"react\";\nimport {Image, View} from \"native-base\";\n\nexport class CollectionImageDev {\n\n\tstatic renderRemoteImage(imageURL, children){\n\t\treturn CollectionImageDev.renderImage({uri: imageURL}, children);\n\t}\n\n\tstatic renderImage(source, children){\n\t\treturn(\n\t\t\t<View style={{ width: '100%', height: '100%' }}>\n\t\t\t\t<Image source={source} alt={\"\"} style={{ width: '100%', height: '100%' }}\n\t\t\t\t/>\n\t\t\t\t{children}\n\t\t\t</View>\n\t\t)\n\t}\n\n\tstatic getImageFromListById(itemId: number, list: any[]){\n\t\treturn list[itemId%list.length];\n\t}\n\n\tstatic renderLocalImage(collection, item, children){\n\t\tlet imageURL = null;\n\n\t\tlet itemId = item?.id;\n\n\t\tif(imageURL){\n\t\t\treturn CollectionImageDev.renderRemoteImage(imageURL, children);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Image, Input, Text, View} from \"native-base\";\nimport {ConfigHolder, CrossLottie, Icon, KitchenSkeleton} from \"../../../kitcheningredients\";\nimport {DirectusImage} from \"../../../kitcheningredients\";\nimport {PermissionHelper} from \"../../helper/PermissionHelper\";\nimport {useDemoMode, useSynchedRemoteSettings} from \"../../helper/synchedJSONState\";\nimport {CollectionImageManipulator} from \"./CollectionImageManipulator\";\nimport {CollectionImageDev} from \"./CollectionImageDev\";\n\ninterface AppState {\n\tplacerholder_image_id: string;\n\tcustomFallbackComponent?: any;\n}\n\nexport const CollectionImage: FunctionComponent<AppState> = ({alt, hideManipulation, collection, item, itemImageField, placerholder_image_id, customFallbackComponent, placeholder, onUpload, children,...props}) => {\n\n\tconst [demo, setDemo] = useDemoMode()\n\tconst [remoteAppSettings, setRemoteAppSettings] = useSynchedRemoteSettings();\n\tlet appSettingsPlaceholder_image = placerholder_image_id || -1; //-1 will trigger static fallback\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props])\n\n\tif(demo){\n\t\tlet devImage = CollectionImageDev.renderLocalImage(collection, item, children);\n\t\tif(devImage){\n\t\t\treturn devImage;\n\t\t}\n\t}\n\n\n\n\tlet assetId = item?.[itemImageField] || -1; //-1 will trigger static fallback\n\n\tlet uploadPermission = PermissionHelper.canUpdate(collection, itemImageField);\n\n\tlet staticFallbackElement = (\n\t\t<View style={{width: \"100%\", height: \"100%\", alignItems: \"center\", justifyContent: \"center\"}}>\n\t\t\t<Icon name={\"image-off\"}/>\n\t\t\t<Text>{alt || \"No image\"}</Text>\n\t\t</View>\n\t);\n\n\tlet fallbackElement = <DirectusImage alt={\"No Image\"} assetId={appSettingsPlaceholder_image} style={{ width: '100%', height: '100%' }} fallbackElement={staticFallbackElement} />\n\tif(customFallbackComponent){\n\t\tfallbackElement = customFallbackComponent;\n\t}\n\n\tlet uploadElement = null;\n\t if(uploadPermission && !hideManipulation){\n\t\t//fallbackElement = null;\n\t\tuploadElement = <View style={{justifyContent: \"center\", alignItems: \"center\" , width: \"80%\", height: \"60%\", position: \"absolute\", right: \"10%\", top: \"40%\"}}>\n\t\t\t<CollectionImageManipulator collection={collection} item={item} itemImageField={itemImageField} onUpload={onUpload} />\n\t\t</View>\n\t}\n\n\tlet image = <DirectusImage alt={alt} assetId={assetId} style={{ width: '100%', height: '100%' }} fallbackElement={fallbackElement} >{uploadElement}</DirectusImage>;\n\n\tif(placeholder){\n\t\timage = <KitchenSkeleton flex={1} />\n\t}\n\n\treturn(\n\t\t<View style={{ width: '100%', height: '100%' }}>\n\t\t\t{image}\n\t\t\t{uploadElement}\n\t\t\t{children}\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {CollectionImage} from \"../images/CollectionImage\";\nimport {Text, View} from \"native-base\";\nimport {useSynchedSettingsFoods} from \"../../helper/synchedJSONState\";\nimport {Image, Platform} from \"react-native\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\nexport type FoodImageProps = {\n\tfood: any;\n\tplaceholder: any;\n\tonUpload?: any;\n\tchildren?: any;\n\thideManipulation?: boolean;\n\talt: string;\n}\nexport const FoodImage: FunctionComponent<FoodImageProps> = (props) => {\n\n\tconst [foodSettings, setFoodSettings] = useSynchedSettingsFoods();\n\n\tlet placeholder_image_id = foodSettings?.placeholder_image || -1;\n\n\tuseEffect(() => {\n\n\t}, [props]);\n\n\tlet customFallbackComponent = undefined;\n\n\tlet showImagesFromCustomBackend = true;\n\n\tif(showImagesFromCustomBackend){\n\t\tlet foodId = props?.food?.id || -1;\n\t\tlet quality = \"medium\"; // \"thumbnail\", \"medium\", \"high\", \"small\", \"original\"\n\t\tlet uri = \"https://app.stwh.customer.ingenit.com/api/meals/\"+foodId+\"/photos?resTag=medium&webp=false\";\n\n\t\tlet source={\n\t\t\turi: uri,\n\t\t}\n\n\t\tcustomFallbackComponent = (\n\t\t\t<View accessibilityLabel={props?.alt || \"Image\"} style={{ width: '100%', height: '100%' }}>\n\t\t\t\t<Image accessibilityRole={AccessibilityRoles.image} accessibilityLabel={props?.alt || \"Image\"} source={source} alt={props?.alt || \"Image\"} style={{ width: '100%', height: '100%' }}/>\n\t\t\t</View>\n\t\t);\n\t\t/**\n\t\tif(Platform.OS===\"web\"){\n\t\t\tcustomFallbackComponent = (\n\t\t\t\t<img src={uri} alt={props?.alt || \"Image\"} style={{\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\tobjectFit: 'cover', // or 'cover', 'fill', etc.\n\t\t\t\t\t}}/>\n\t\t\t);\n\t\t}\n\t\t */\n\t}\n\n\treturn (\n\t\t<CollectionImage\n\t\t\tcollection={\"foods\"}\n\t\t\titem={props?.food}\n\t\t\titemImageField={\"image\"}\n\t\t\tplacerholder_image_id={placeholder_image_id}\n\t\t\tplaceholder={props?.placeholder}\n\t\t\tcustomFallbackComponent={customFallbackComponent}\n\t\t\tonUpload={props?.onUpload}\n\t\t\thideManipulation={props?.hideManipulation}\n\t\t\talt={props?.alt}\n\t\t>\n\t\t\t{props?.children}\n\t\t</CollectionImage>\n\t)\n\n}\n","import {View} from 'native-base';\nimport React from 'react';\nimport {ParentSpacer} from \"../helper/ParentSpacer\";\nimport {FlatList} from \"react-native\";\n\nexport const GridLayout = ({\n                               useFlatList,\n                                   amountColoumn,\n                                   children,\n                                    divider,\n                                   ...props\n                               }) => {\n\n    if(!children){\n        return null;\n    }\n\n    let amountChildren = children.length;\n    if(amountChildren===0){\n        return null;\n    }\n\n    let amountRows = Math.ceil(amountChildren/amountColoumn);\n    let rows = [];\n    for(let rowIndex =0; rowIndex<amountRows; rowIndex++){\n        let row = [];\n        for(let columnIndex = 0; columnIndex<amountColoumn; columnIndex++){\n            let child = children[rowIndex*amountColoumn+columnIndex];\n            row.push(<View key={\"gridlayout_\"+rowIndex+\"_\"+columnIndex} style={{flex: 1}}>{child}</View>);\n        }\n        rows.push(<ParentSpacer space={props?.paddingHorizontalValue} key={\"gridlayout_\"+rowIndex} style={{flexDirection: \"row\"}}>{row}</ParentSpacer>);\n        if(divider!==undefined){\n            rows.push(divider)\n        }\n    }\n\n    if (useFlatList) {\n        // FlatList renderer\n        const renderItem = ({item, index}) => {\n            console.log(\"GridLayout renderItem: \"+index)\n\n            return item;\n        };\n\n//        rows = [1,2,3,4,5];\n\n        return(\n            <View style={{flex: 1}}>\n                <FlatList\n                    data={rows}\n                    renderItem={renderItem}\n                    keyExtractor={(item, index) => \"gridlayout_\" + index}\n                    {...props}\n                />\n            </View>\n        )\n    }\n\n    return (\n        <View style={{flex: 1}}>\n            {rows}\n        </View>\n    );\n\n};\n","import React, {useEffect, useState} from \"react\";\nimport {useBreakpointValue, Text, View, Heading, HStack} from \"native-base\";\nimport {GridLayout} from \"../layouts/GridLayout\";\n\nexport const GridList = ({children, useFlatList, beakpointsColumns, paddingHorizontal, paddingVertical, divider,...props}: any) => {\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props])\n\n\tlet paddingVerticalValue = paddingVertical || \"3%\";\n\tlet paddingHorizontalValue = paddingHorizontal || \"2%\";\n\n\tlet renderedCards = [];\n\tif(!!children){\n\t\tlet index = 0;\n\t\tfor(let child of children){\n\t\t\trenderedCards.push(<View style={{paddingVertical: paddingVerticalValue, flex: 1}} key={\"\"+index}>{child}</View>)\n\t\t\tindex++;\n\t\t}\n\t}\n\n\tlet defaultBreakpoints = {\n\t\tbase: 2,\n\t\tsm: 3,\n\t\tmd: 4,\n\t\tlg: 5,\n\t\txl: 6,\n\t}\n\tlet beakpoints = beakpointsColumns || defaultBreakpoints\n\n\treturn(\n\t\t<View style={[{width: \"100%\"}, {...props?.style}]}>\n\t\t\t<GridLayout\n\t\t\t\tuseFlatList={useFlatList}\n\t\t\t\tpaddingVerticalValue={paddingVerticalValue}\n\t\t\t\tpaddingHorizontalValue={paddingHorizontalValue}\n\t\t\t\tamountColoumn={useBreakpointValue(beakpoints)}\n\t\t\t\tdivider={divider}\n\t\t\t>\n\t\t\t\t{renderedCards}\n\t\t\t</GridLayout>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from \"react\";\nimport {PixelRatio, ViewProps} from \"react-native\";\nimport {View} from \"native-base\";\n\nexport const ViewPixelRatio: FunctionComponent<ViewProps> = (props) => {\n\n    let mergedStyle = {};\n    if(Array.isArray(props.style)){\n        for(let style of props.style){\n            mergedStyle = {...mergedStyle, ...style};\n        }\n    } else {\n        mergedStyle = props.style\n    }\n\n    let copiedStyle = JSON.parse(JSON.stringify(mergedStyle || {}));\n\n    function fixAbsoluteValues(copiedValue){\n        if(!!copiedValue && !isNaN(copiedValue) && !copiedValue.endsWith(\"%\")){\n            let absoluteValue = parseInt(copiedValue);\n            return PixelRatio.getPixelSizeForLayoutSize(absoluteValue)\n        }\n        return copiedValue;\n    }\n\n    function fixStyleForFields(style, ...fieldnames){\n        for(let fieldname of fieldnames){\n            style[fieldname] = fixAbsoluteValues(style[fieldname]);\n        }\n        return style;\n    }\n\n    function getFieldVariations(basefield){\n        return [basefield, basefield+\"Vertical\", basefield+\"Horizontal\", basefield+\"Left\", basefield+\"Right\", basefield+\"Top\", basefield+\"Bottom\"]\n    }\n\n    function getFieldsVariations(...basefields){\n        let variations = [];\n        for(let basefield of basefields){\n            variations = variations.concat(getFieldVariations(basefield));\n        }\n        return variations;\n    }\n\n    copiedStyle = fixStyleForFields(copiedStyle, getFieldsVariations(\"padding\", \"margin\"))\n\n\n\n    return(\n        <View style={copiedStyle}>\n            {props.children}\n        </View>\n    )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {View, Text, Divider} from \"native-base\";\nimport {Icon, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {TouchableOpacity} from \"react-native\";\nimport {MyThemedBox} from \"../../../kitcheningredients\"\nimport {ViewPixelRatio} from \"../../helper/ViewPixelRatio\";\nimport {ViewPercentageBorderradius} from \"../../helper/ViewPercentageBorderradius\";\nimport {useDebugMode} from \"../../helper/synchedJSONState\";\n\nexport interface SettingsRowProps {\n    leftContent: any | string | number,\n    rightContent?: any | string,\n    contentShouldGrow?: boolean,\n    rightIcon?: any,\n    leftIcon?: any,\n    color?: any\n    flex?: number,\n}\nexport const SettingsRowInner: FunctionComponent<SettingsRowProps> = (props) => {\n\n    const [debug, setDebug] = useDebugMode()\n\n    let outerBackgroundColor = !!debug ? \"#FF0000\" : \"transparent\";\n    let leftBackgroundColor = !!debug ? \"#FF6600\" : \"transparent\";\n    let rightBackgroundColor = !!debug ? \"#FFAA00\" : \"transparent\";\n\n\n    let leftContent = props?.leftContent;\n    if(typeof leftContent === \"string\" || typeof leftContent === \"number\"){\n        leftContent = <Text>{props.leftContent+\"\"}</Text>\n    }\n\n    let rightContent = props?.rightContent;\n    if(typeof rightContent === \"string\" || typeof leftContent === \"number\"){\n        rightContent = <Text>{props.rightContent}</Text>\n    }\n\n    function renderLeftIcon(){\n        if(props?.leftIcon){\n            return(\n                <ViewPixelRatio style={{paddingRight: 10}}>\n                    <ViewPercentageBorderradius style={{backgroundColor: props?.color, paddingHorizontal: 5, borderRadius: \"20%\", justifyContent: \"center\"}}>\n                        {props.leftIcon}\n                    </ViewPercentageBorderradius>\n                </ViewPixelRatio>\n            )\n        }\n        return null;\n    }\n\n    function renderRightIcon(){\n        let rightIcon = props?.rightIcon\n        if(rightIcon===undefined){\n            rightIcon = <View style={{opacity: 0}}><Text selectable={false}><Icon name={\"chevron-right\"}  /></Text></View>;\n        }\n        if(rightIcon===null){\n            return null;\n        }\n\n            return(\n                <ViewPixelRatio style={{marginLeft: 0}}>\n                    <ViewPercentageBorderradius style={{backgroundColor: props?.color, paddingHorizontal: 5, borderRadius: \"20%\", justifyContent: \"center\"}}>\n                        {rightIcon}\n                    </ViewPercentageBorderradius>\n                </ViewPixelRatio>\n            )\n    }\n\n    let innerFlexStyle = {flex: props?.flex}\n\n    let renderedLeftContent = null;\n    if(leftContent){\n        renderedLeftContent = (\n            <View style={{justifyContent: \"flex-start\", flexWrap: \"wrap\", alignItems: \"flex-start\", backgroundColor: leftBackgroundColor, ...innerFlexStyle}}>\n                {leftContent}\n            </View>\n        )\n    }\n\n    let renderedRightContent = null;\n    if(rightContent){\n        renderedRightContent = (\n            <View style={{flexWrap: \"wrap-reverse\" ,marginLeft: 5,justifyContent: \"flex-start\", alignItems: \"flex-start\", backgroundColor: rightBackgroundColor, ...innerFlexStyle}}>\n                {rightContent}\n            </View>\n        )\n    }\n\n    return(\n        <View style={{flexDirection: \"row\", justifyContent: \"flex-start\", paddingHorizontal: 10, paddingVertical: 10, flexGrow: 1, backgroundColor: outerBackgroundColor}}>\n            {renderLeftIcon()}\n            {renderedLeftContent}\n            {renderedRightContent}\n            <View style={{alignSelf: \"flex-start\", alignItems: \"flex-end\", flexDirection: \"row\"}}>\n                {renderRightIcon()}\n            </View>\n        </View>\n    )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {Divider, View} from \"native-base\";\nimport {Icon} from \"../../../kitcheningredients\";\nimport {MyThemedBox} from \"../../../kitcheningredients\"\nimport {SettingsRowInner} from \"./SettingsRowInner\";\nimport {MyTouchableOpacity} from \"../buttons/MyTouchableOpacity\";\n\nexport interface SettingsRowProps {\n    leftContent: string | any,\n    rightContent?: string | any,\n    leftIcon?: any | string,\n    rightIcon?: any,\n    onPress: any,\n    color?: any\n    hideLeftContent?: boolean,\n    expandable?: boolean,\n    expanded?: boolean,\n    customDivider?: any,\n    accessibilityLabel?: string,\n    accessibilityRole?: string,\n    accessibilityState?: any,\n    flex?: number,\n    shadeLevel?: number\n}\nexport const SettingsRow: FunctionComponent<SettingsRowProps> = (props) => {\n\n    const expanded = props.expanded;\n\n    let accessibilityLabel = props?.accessibilityLabel\n    if (accessibilityLabel === undefined) {\n        accessibilityLabel = \"\";\n        let leftContent = props?.leftContent;\n        if(typeof leftContent === \"string\"){\n            accessibilityLabel += leftContent\n        }\n        if(!!accessibilityLabel && accessibilityLabel.length > 0){\n            accessibilityLabel += \" \"\n        }\n        let rightContent = props?.rightContent;\n        if(typeof rightContent === \"string\"){\n            accessibilityLabel += rightContent\n        }\n    }\n\n    function renderLeftIcon(){\n        if(props?.leftIcon){\n            if(typeof props?.leftIcon === \"string\"){\n                return <Icon name={props.leftIcon} />\n            }\n            return props.leftIcon\n        }\n        return null;\n    }\n\n    function renderInner(showPress){\n        let rightIcon = props?.rightIcon\n        if(showPress && !rightIcon){\n            rightIcon = <Icon name={\"chevron-right\"}  />;\n        }\n\n        const divider = props.customDivider!==undefined ? props.customDivider : <Divider />\n\n        const flex = props.flex!==undefined ? props.flex : 1;\n\n        return(\n            <>\n                <SettingsRowInner flex={flex} leftContent={props?.leftContent} leftIcon={renderLeftIcon()} rightContent={props?.rightContent} rightIcon={rightIcon} />\n                {divider}\n            </>\n        )\n    }\n\n    function renderOuter(){\n        let children = expanded ? props.children : null\n\n        if(!!props.onPress){\n            return(\n                <MyTouchableOpacity accessibilityState={props?.accessibilityState} accessibilityRole={props?.accessibilityRole} accessibilityLabel={accessibilityLabel} key={props?.key+props.leftIcon} onPress={props.onPress} >\n                    {renderInner(true)}\n                    {children}\n                </MyTouchableOpacity>\n            )\n        }\n        return(\n            <View key={props?.key+props.leftIcon} >\n                {renderInner(false)}\n                {children}\n            </View>\n        )\n    }\n\n    let shadeLevel = props?.shadeLevel\n    if(shadeLevel===undefined){\n        shadeLevel = 1;\n    }\n\n    return(\n        <MyThemedBox _shadeLevel={shadeLevel}  >\n            {renderOuter()}\n        </MyThemedBox>\n    )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\n// From https://www.svgrepo.com/\nconst svg = `\n<svg version=\"1.1\" id=\"Layer_1\" xmlns:x=\"&ns_extend;\" xmlns:i=\"&ns_ai;\" xmlns:graph=\"&ns_graphs;\"\n\\t xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\\t viewBox=\"0 0 24 24\" enable-background=\"new 0 0 24 24\" xml:space=\"preserve\">\n<metadata>\n\\t<sfw  xmlns=\"&ns_sfw;\">\n\\t\\t<slices></slices>\n\\t\\t<sliceSourceBounds  width=\"505\" height=\"984\" bottomLeftOrigin=\"true\" x=\"0\" y=\"-984\"></sliceSourceBounds>\n\\t</sfw>\n</metadata>\n<g>\n\\t<g>\n\\t\\t<g>\n\\t\\t\\t<path d=\"M12,24c-5,0-9-4-9-9c0-4,2.4-8.2,3.4-9.8C7,4.3,9.8,0,12,0c0.6,0,1,0.4,1,1s-0.4,1-1,1c-1.4,0.2-7,7.4-7,13\n\\t\\t\\t\\tc0,3.9,3.1,7,7,7s7-3.1,7-7c0-0.8-0.1-1.6-0.3-2.6c-0.5-1.9-1.4-4.1-2.7-6.1c-0.3-0.5-0.2-1.1,0.3-1.4c0.5-0.3,1.1-0.2,1.4,0.3\n\\t\\t\\t\\tc1.4,2.2,2.4,4.6,3,6.7C20.9,13,21,14.1,21,15C21,20,17,24,12,24z\"/>\n\\t\\t</g>\n\\t</g>\n\\t<g>\n\\t\\t<g>\n\\t\\t\\t<path d=\"M15,9.9c-0.3,0-0.6-0.1-0.8-0.3C12.1,7.2,11,4.2,11,1c0-0.6,0.4-1,1-1s1,0.4,1,1c0,2.7,1,5.3,2.7,7.3\n\\t\\t\\t\\tc0.4,0.4,0.3,1-0.1,1.4C15.5,9.8,15.2,9.9,15,9.9z\"/>\n\\t\\t</g>\n\\t</g>\n\\t<g>\n\\t\\t<g>\n\\t\\t\\t<path d=\"M15,9.9c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4c0.7-0.8,1.3-1.7,1.5-2.7C15.9,5,16.5,4.7,17,4.8\n\\t\\t\\t\\tc0.5,0.1,0.9,0.7,0.7,1.2c-0.3,1.3-1.1,2.6-2,3.6C15.5,9.8,15.2,9.9,15,9.9z\"/>\n\\t\\t</g>\n\\t</g>\n\\t<g>\n\\t\\t<g>\n\\t\\t\\t<path d=\"M12,24c-2.8,0-5-2.2-5-5c0-3.1,3.1-8,5-8c0.6,0,1,0.4,1,1c0,0.5-0.4,0.9-0.9,1C11.4,13.4,9,16.6,9,19c0,1.7,1.3,3,3,3\n\\t\\t\\t\\ts3-1.3,3-3c0-0.3-0.1-0.7-0.2-1.2c-0.2-0.9-0.7-1.9-1.3-2.9c-0.3-0.5-0.2-1.1,0.3-1.4c0.5-0.3,1.1-0.2,1.4,0.3\n\\t\\t\\t\\tc0.7,1.1,1.3,2.4,1.6,3.5c0.1,0.6,0.2,1.1,0.2,1.7C17,21.8,14.8,24,12,24z\"/>\n\\t\\t</g>\n\\t</g>\n\\t<g>\n\\t\\t<g>\n\\t\\t\\t<path d=\"M13.5,17c-0.3,0-0.6-0.1-0.8-0.3C11.6,15.3,11,13.7,11,12c0-0.6,0.4-1,1-1s1,0.4,1,1c0,1.2,0.4,2.4,1.2,3.3\n\\t\\t\\t\\tc0.4,0.4,0.3,1-0.1,1.4C14,16.9,13.7,17,13.5,17z\"/>\n\\t\\t</g>\n\\t</g>\n\\t<g>\n\\t\\t<g>\n\\t\\t\\t<path d=\"M13.5,17c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4c0.3-0.3,0.5-0.7,0.6-1.1c0.1-0.5,0.7-0.9,1.2-0.7\n\\t\\t\\t\\tc0.5,0.1,0.9,0.7,0.7,1.2c-0.2,0.8-0.6,1.5-1.2,2C14,16.9,13.7,17,13.5,17z\"/>\n\\t\\t</g>\n\\t</g>\n</g>\n</svg>\n`\n\nexport default svg;","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\n// From https://www.svgrepo.com/\nconst svg = `\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\\t viewBox=\"0 0 512.001 512.001\" style=\"enable-background:new 0 0 512.001 512.001;\" xml:space=\"preserve\">\n<g>\n\\t<g>\n\\t\\t<path d=\"M506.375,164.948c-3.234-2.916-22.116-19.555-45.162-32.219c5.021-3.443,9.657-7.233,13.72-11.295\n\\t\\t\\tc27.564-27.564,31.614-91.294,31.985-98.471c0.518-10.032-7.74-18.396-17.889-17.888c-7.176,0.371-70.906,4.42-98.471,31.984\n\\t\\t\\tc-4.077,4.077-7.863,8.707-11.307,13.693c-12.662-23.03-29.286-41.897-32.201-45.129c-6.765-7.504-18.543-7.491-25.297,0\n\\t\\t\\tc-3.864,4.284-31.808,36.021-42.685,68.539c-0.087-0.098-0.193-0.216-0.263-0.294c-6.765-7.503-18.543-7.492-25.298,0\n\\t\\t\\tc-3.863,4.284-31.807,36.02-42.684,68.539c-0.086-0.096-0.192-0.215-0.262-0.294c-6.766-7.504-18.543-7.491-25.298,0\n\\t\\t\\tc-3.863,4.284-31.807,36.02-42.684,68.539c-0.086-0.096-0.192-0.215-0.262-0.294c-6.766-7.504-18.543-7.491-25.298,0\n\\t\\t\\tc-4.812,5.337-47.013,53.265-47.013,92.246c0,29.383,15.078,63.577,35.938,79.373L4.993,482.926\n\\t\\t\\tc-6.651,6.651-6.651,17.435,0,24.086c3.326,3.326,7.685,4.989,12.042,4.989s8.718-1.662,12.043-4.989l100.948-100.948\n\\t\\t\\tc15.8,20.856,49.989,35.93,79.367,35.93c38.981,0,86.909-42.201,92.246-47.013c7.504-6.766,7.49-18.543,0-25.298\n\\t\\t\\tc-0.078-0.072-0.196-0.176-0.294-0.262c32.518-10.878,64.255-38.822,68.539-42.685c7.504-6.766,7.49-18.543,0-25.298\n\\t\\t\\tc-0.078-0.07-0.196-0.176-0.294-0.263c32.518-10.876,64.254-38.821,68.538-42.684c7.504-6.766,7.491-18.543,0-25.298\n\\t\\t\\tc-0.078-0.07-0.196-0.176-0.294-0.262c32.518-10.876,64.255-38.821,68.539-42.684C513.878,183.48,513.866,171.703,506.375,164.948\n\\t\\t\\tz M414.644,61.145c10.273-10.273,35.036-16.792,56.154-19.953c-3.161,21.122-9.68,45.882-19.952,56.156\n\\t\\t\\tc-9.7,9.7-23.333,16.245-35.262,19.284c1.164-5.456-0.362-11.37-4.601-15.609c-4.248-4.248-10.178-5.77-15.644-4.592\n\\t\\t\\tC398.595,83.631,405.618,70.17,414.644,61.145z M334.412,44.035c12.694,17.14,25.586,39.243,25.586,53.834\n\\t\\t\\tc0,26.506-17.965,51.658-25.599,54.09c-8.129-2.591-25.599-28.073-25.599-54.09C308.802,83.335,321.712,61.206,334.412,44.035z\n\\t\\t\\t M266.167,112.28c9.694,13.089,25.586,37.573,25.586,53.834c0,26.705-18.047,51.683-25.599,54.089\n\\t\\t\\tc-8.118-2.588-25.599-28.055-25.599-54.089C240.556,151.58,253.466,129.451,266.167,112.28z M197.923,180.524\n\\t\\t\\tc9.7,13.098,25.586,37.576,25.586,53.834c0,26.61-18.012,51.671-25.599,54.089c-8.118-2.588-25.599-28.055-25.599-54.089\n\\t\\t\\tC172.312,219.826,185.222,197.696,197.923,180.524z M129.666,356.692c-8.118-2.588-25.599-28.055-25.599-54.089\n\\t\\t\\tc0-14.533,12.91-36.662,25.611-53.834c9.7,13.098,25.586,37.576,25.586,53.834C155.264,329.269,137.232,354.279,129.666,356.692z\n\\t\\t\\t M209.394,407.931c-25.987,0-51.497-17.465-54.09-25.599c2.543-7.986,27.939-25.599,54.09-25.599\n\\t\\t\\tc16.193,0,40.669,15.874,53.834,25.611C246.087,395.039,223.986,407.931,209.394,407.931z M277.639,339.686\n\\t\\t\\tc-25.987,0-51.497-17.465-54.09-25.599c2.426-7.609,27.245-25.599,54.09-25.599c16.193,0,40.665,15.872,53.816,25.599\n\\t\\t\\tC314.284,326.787,292.166,339.686,277.639,339.686z M345.884,271.441c-25.987,0-51.499-17.467-54.089-25.599\n\\t\\t\\tc2.421-7.598,27.487-25.599,54.089-25.599c16.194,0,40.666,15.87,53.834,25.611C382.577,258.549,360.474,271.441,345.884,271.441z\n\\t\\t\\t M414.128,203.196c-25.987,0-51.498-17.464-54.089-25.599c2.404-7.548,27.247-25.599,54.089-25.599\n\\t\\t\\tc14.534,0,36.664,12.91,53.834,25.611C450.822,190.304,428.719,203.196,414.128,203.196z\"/>\n\\t</g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n`\n\nexport default svg;","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\n// From https://www.svgrepo.com/\nconst svg = `\n<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\\t viewBox=\"0 0 296.773 296.773\" style=\"enable-background:new 0 0 296.773 296.773;\" xml:space=\"preserve\">\n<g>\n\\t<path d=\"M157.815,245.762c-12.965-15.225-20.803-34.943-20.803-56.461c0-18.895,5.912-41.121,17.625-66.391\n\\t\\tc3.994-8.617,8.664-17.59,14.005-26.906c-25.189-45.43-56.067-82.18-58.245-84.75L100.861,0l-9.536,11.254\n\\t\\tC87.61,15.639,0.345,119.504,0.345,196.256c0,55.426,45.091,100.518,100.516,100.518c30.167,0,57.269-13.359,75.71-34.471\n\\t\\tC169.553,257.707,163.236,252.129,157.815,245.762z\"/>\n\\t<path d=\"M224.221,41.002c-17.996,22.789-72.209,95.807-72.209,148.299c0,39.816,32.392,72.207,72.207,72.207\n\\t\\tc39.816,0,72.209-32.391,72.209-72.207C296.428,136.762,242.217,63.777,224.221,41.002z\"/>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n`\n\nexport default svg;","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\n// From https://www.svgrepo.com/\nconst svg = `\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\\t viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;\" xml:space=\"preserve\">\n<g>\n\\t<g>\n\\t\\t<circle cx=\"382.425\" cy=\"76.873\" r=\"15.32\"/>\n\\t</g>\n</g>\n<g>\n\\t<g>\n\\t\\t<path d=\"M507.955,48.307l-2.887-12.639l-28.014-0.72l-0.72-28.014l-12.639-2.887c-30.661-7.003-73.918-4.824-115.713,5.827\n\\t\\t\\tC316.85,17.808,274.012,33.68,234.923,65.13c-38.325,0.988-95.202,26.734-125.59,57.123c-8.174,8.174-12.167,18.625-11.548,30.226\n\\t\\t\\tc0.806,15.114,9.614,32.138,26.178,50.599c3.253,3.626,6.479,6.937,9.445,9.842c-10.075,31.318-13.655,61.082-12.597,86.835\n\\t\\t\\tc-45.114-3.278-95.008,13.067-112.657,33.091c-7.758,8.801-10.121,19.246-6.481,28.656c6.859,17.729,25.719,21.114,43.96,24.388\n\\t\\t\\tc18.712,3.359,39.923,7.165,56.617,23.86s20.501,37.904,23.86,56.617c3.273,18.24,6.659,37.101,24.387,43.96\n\\t\\t\\tc2.898,1.121,5.895,1.673,8.913,1.673c6.777,0,13.654-2.785,19.744-8.154c20.024-17.65,36.37-67.539,33.091-112.657\n\\t\\t\\tc2.877,0.118,5.804,0.179,8.778,0.179c23.646-0.001,50.242-3.829,78.063-12.779c3.017,3.1,6.503,6.509,10.332,9.944\n\\t\\t\\tc18.46,16.564,35.485,25.372,50.599,26.178c0.78,0.042,1.555,0.062,2.324,0.062c10.671,0,20.278-3.988,27.902-11.612\n\\t\\t\\tc30.691-30.69,56.648-88.396,57.148-126.723c31.111-38.916,46.845-81.459,54.735-112.42\n\\t\\t\\tC512.778,122.225,514.957,78.968,507.955,48.307z M131.127,150.704c-0.114-2.119,0.363-3.386,1.816-4.84\n\\t\\t\\tc14.007-14.005,35.948-27.303,57.754-36.228c-18.71,22.738-33.088,46.028-43.801,68.977\n\\t\\t\\tC138.403,168.723,131.525,158.163,131.127,150.704z M366.633,379.554c-1.452,1.452-2.721,1.923-4.829,1.817\n\\t\\t\\tc-7.555-0.395-18.375-7.536-28.442-16.258c23.307-10.876,46.965-25.528,70.04-44.663\n\\t\\t\\tC394.479,342.697,380.929,365.258,366.633,379.554z M469.772,155.773c-3.087,12.113-7.514,26.206-13.825,41.109\n\\t\\t\\tc-35.728-4.401-68.985-20.566-94.623-46.206c-18.17-18.17-31.41-39.668-39.353-63.897L290.244,97.18\n\\t\\t\\tc9.59,29.254,25.561,55.196,47.471,77.106c28.113,28.113,63.825,46.774,102.465,53.925c-9.252,15.633-20.821,31.28-35.281,45.739\n\\t\\t\\tc-32.395,32.394-70.483,56.882-110.148,70.817c-34.333,12.061-69.698,16.056-99.583,11.245l-24.943-4.013l6.087,24.519\n\\t\\t\\tc4.586,18.472,3.767,42.384-2.246,65.601c-3.882,14.993-8.761,25.242-12.55,31.162c-0.951-3.935-1.82-8.786-2.543-12.814\n\\t\\t\\tc-3.804-21.197-9.015-50.229-33.114-74.328s-53.131-29.31-74.328-33.114c-4.028-0.723-8.878-1.594-12.814-2.543\n\\t\\t\\tc5.92-3.789,16.169-8.668,31.162-12.55c23.217-6.014,47.128-6.833,65.601-2.246L160,341.773l-4.013-24.943\n\\t\\t\\tc-4.809-29.884-0.815-65.25,11.245-99.583c13.934-39.665,38.422-77.753,70.817-110.148c38.55-38.55,85.543-56.556,118.179-64.875\n\\t\\t\\tc35.454-9.036,66.423-10.097,87.414-7.716l0.848,32.997l32.997,0.848C479.869,89.352,478.807,120.32,469.772,155.773z\"/>\n\\t</g>\n</g>\n<g>\n\\t<g>\n\\t\\t<path d=\"M125.859,386.142L125.859,386.142L125.859,386.142z\"/>\n\\t</g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n`\n\nexport default svg;","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\n// From https://www.svgrepo.com/\nconst svg = `\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\\t viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;\" xml:space=\"preserve\">\n<g>\n\\t<g>\n\\t\\t<path d=\"M356.174,200.348v-33.391c18.412,0,33.391-14.979,33.391-33.391C389.565,59.917,329.648,0,256,0\n\\t\\t\\tS122.435,59.917,122.435,133.565c0,18.412,14.979,33.391,33.391,33.391v33.391c-27.618,0-50.087,22.469-50.087,50.087v211.478\n\\t\\t\\tc0,27.618,22.469,50.087,50.087,50.087h200.348c27.618,0,50.087-22.469,50.087-50.087V250.435\n\\t\\t\\tC406.261,222.817,383.792,200.348,356.174,200.348z M256,33.391c55.236,0,100.174,44.938,100.174,100.174\n\\t\\t\\tc-7.899,0-184.574,0-200.348,0C155.826,78.329,200.764,33.391,256,33.391z M322.783,166.957v33.391H189.217v-33.391H322.783z\n\\t\\t\\t M372.87,461.913c0,9.206-7.49,16.696-16.696,16.696H155.826c-9.206,0-16.696-7.49-16.696-16.696V250.435\n\\t\\t\\tc0-9.206,7.49-16.696,16.696-16.696c16.136,0,192.686,0,200.348,0c9.206,0,16.696,7.49,16.696,16.696V461.913z\"/>\n\\t</g>\n</g>\n<g>\n\\t<g>\n\\t\\t<circle cx=\"256\" cy=\"66.783\" r=\"16.696\"/>\n\\t</g>\n</g>\n<g>\n\\t<g>\n\\t\\t<circle cx=\"205.913\" cy=\"100.174\" r=\"16.696\"/>\n\\t</g>\n</g>\n<g>\n\\t<g>\n\\t\\t<circle cx=\"306.087\" cy=\"100.174\" r=\"16.696\"/>\n\\t</g>\n</g>\n<g>\n\\t<g>\n\\t\\t<path d=\"M205.913,267.13c-9.22,0-16.696,7.475-16.696,16.696v144.696c0,9.22,7.475,16.696,16.696,16.696\n\\t\\t\\tc9.22,0,16.696-7.475,16.696-16.696V283.826C222.609,274.606,215.133,267.13,205.913,267.13z\"/>\n\\t</g>\n</g>\n<g>\n\\t<g>\n\\t\\t<path d=\"M306.087,267.13c-9.22,0-16.696,7.475-16.696,16.696v144.696c0,9.22,7.475,16.696,16.696,16.696\n\\t\\t\\ts16.696-7.475,16.696-16.696V283.826C322.783,274.606,315.307,267.13,306.087,267.13z\"/>\n\\t</g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n`\n\nexport default svg;","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\n// From https://www.svgrepo.com/\nconst svg = `\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" enable-background=\"new 0 0 512 512\">\n  <g>\n    <path d=\"m492.3,433.2c-8.4-7.4-21.2-6.6-28.6,1.8-34,38.5-71.8,24.5-89.4,14.4 36.3-230.5-45.8-273.4-158.7-332.4-47.5-24.8-101.3-53-155.7-100.9-5.3-4.7-12.6-6.2-19.3-4.2-6.7,2-11.9,7.4-13.7,14.2-29.5,112.2-12.1,221.3 49.2,307.1 60.2,84.3 155.5,135.8 268.6,145.5 16.1,11.3 41,22.3 68.6,22.3 26.3,0 55-10 80.8-39.2 7.3-8.4 6.6-21.2-1.8-28.6zm-383.2-123.6c-48.5-67.8-65.8-152.5-50-241.5 48.7,38.3 95.6,62.8 137.7,84.8 103,53.8 163,85.2 141.6,260.2l-52.3-63.8 11-65.4c1.8-11-5.6-21.5-16.7-23.3-11-1.8-21.5,5.6-23.3,16.6l-5.1,30.5-70.4-85.9-39.4-59.8c-6.1-9.4-18.7-12-28.1-5.8-9.3,6.1-11.9,18.7-5.8,28l39.9,60.7c0.4,0.6 0.8,1.2 1.3,1.7l20.4,24.9-14.7,.2c-11.2,0.2-20.1,9.4-20,20.5 0.2,11.1 9.2,20 20.3,20 0.1,0 0.2,0 0.3,0l47-.7 98.2,119.9c-80.2-17-147.2-59.2-191.9-121.8z\"/>\n  </g>\n</svg>\n`\n\nexport default svg;","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\n// From https://www.svgrepo.com/\nconst svg = `\n<svg viewBox=\"0 0 22 22\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMinYMin\" class=\"jam jam-water-drop-f\"><path d='M7 .565c4.667 6.09 7 10.423 7 13a7 7 0 1 1-14 0c0-2.577 2.333-6.91 7-13z' /></svg>\n`\n\nexport default svg;","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\n// From https://www.svgrepo.com/\nconst svg = `\n<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\\t viewBox=\"0 0 211.336 211.336\" style=\"enable-background:new 0 0 211.336 211.336;\" xml:space=\"preserve\">\n<g>\n\\t<path d=\"M205.033,137.867c-8.945-8.84-20.785-13.705-33.374-13.705c-2.801,0-5.561,0.255-8.265,0.727\n\\t\\tc0.425-1.279,0.797-2.577,1.137-3.885c0.018-0.064,0.035-0.127,0.051-0.191c1.254-4.89,1.916-9.965,1.916-15.146\n\\t\\tc0.001-16.247-6.327-31.522-17.817-43.012c-11.488-11.485-26.761-17.813-43.005-17.813c-6.645,0-13.121,1.075-19.248,3.113\n\\t\\tc2.587-14.747-1.79-30.488-13.157-41.855C69.336,2.167,64.105,0,58.544,0C52.981,0,47.749,2.167,43.81,6.103\n\\t\\tc-3.579,3.579-5.58,8.148-6.004,12.834c-4.853,0.432-9.357,2.53-12.844,6.016c-3.487,3.485-5.587,7.987-6.021,12.837\n\\t\\tc-4.85,0.435-9.351,2.534-12.836,6.019c-3.936,3.935-6.103,9.165-6.103,14.729c0,5.563,2.167,10.795,6.103,14.73\n\\t\\tc8.971,8.969,20.898,13.907,33.585,13.907c0.001,0,0.001,0,0.002,0c2.8,0,5.559-0.254,8.261-0.726\n\\t\\tc-0.424,1.277-0.796,2.572-1.135,3.878c-0.019,0.067-0.037,0.134-0.054,0.201c-1.252,4.888-1.914,9.96-1.915,15.138\n\\t\\tc-0.001,16.246,6.326,31.52,17.813,43.006c11.489,11.49,26.765,17.818,43.011,17.818c6.646,0,13.122-1.075,19.25-3.114\n\\t\\tc-2.577,14.681,1.747,30.346,12.998,41.699c0.05,0.054,0.102,0.106,0.153,0.159c3.935,3.935,9.166,6.101,14.73,6.101\n\\t\\tc5.565,0,10.797-2.166,14.729-6.102c3.484-3.485,5.583-7.987,6.018-12.835c4.849-0.434,9.351-2.533,12.834-6.017\n\\t\\tc3.487-3.484,5.586-7.987,6.021-12.837c4.849-0.434,9.351-2.533,12.837-6.02c8.117-8.119,8.118-21.332,0.002-29.455\n\\t\\tC205.176,138.002,205.105,137.934,205.033,137.867z M59.85,105.667c0-1.966,0.136-3.911,0.379-5.83l90.89-0.001\n\\t\\tc0.242,1.92,0.379,3.863,0.379,5.83c0,1.967-0.137,3.912-0.379,5.832l-90.89,0.001C59.986,109.578,59.85,107.634,59.85,105.667z\n\\t\\t M105.676,59.843c12.237,0,23.744,4.767,32.399,13.42c3.448,3.448,6.268,7.354,8.426,11.573l-81.651,0.001\n\\t\\tc2.158-4.218,4.977-8.122,8.424-11.569C81.929,64.61,93.436,59.843,105.676,59.843z M39.692,72.176\n\\t\\tc-8.682,0-16.843-3.38-22.98-9.518c-1.102-1.101-1.708-2.563-1.708-4.12c0-1.557,0.607-3.021,1.709-4.123\n\\t\\tc1.103-1.103,2.567-1.71,4.126-1.71c1.558,0,3.022,0.606,4.125,1.708c2.93,2.928,7.678,2.926,10.605-0.004\n\\t\\tc2.928-2.93,2.927-7.678-0.002-10.605c-1.103-1.103-1.709-2.566-1.709-4.122c0-1.555,0.606-3.017,1.71-4.119\n\\t\\tc1.101-1.102,2.564-1.708,4.12-1.708c1.557,0,3.021,0.606,4.125,1.709c2.929,2.926,7.678,2.925,10.604-0.003\n\\t\\tc2.928-2.929,2.929-7.676,0.001-10.604c-0.001-0.001-0.003-0.003-0.004-0.004c-0.001-0.002-0.003-0.003-0.004-0.004\n\\t\\tc-2.266-2.275-2.263-5.969,0.005-8.237C55.52,15.608,56.986,15,58.544,15c1.556,0,3.019,0.606,4.121,1.71\n\\t\\tc6.138,6.137,9.518,14.296,9.518,22.975c0,8.679-3.38,16.839-9.517,22.978C56.531,68.798,48.372,72.177,39.692,72.176z\n\\t\\t M105.675,151.491c-12.239,0-23.747-4.768-32.404-13.425c-3.446-3.446-6.265-7.35-8.423-11.567l81.652-0.001\n\\t\\tc-2.158,4.219-4.978,8.124-8.426,11.571C129.42,146.725,117.913,151.491,105.675,151.491z M194.637,156.92\n\\t\\tc-1.104,1.103-2.568,1.71-4.126,1.71c-1.557,0-3.02-0.606-4.121-1.708c-2.93-2.928-7.678-2.928-10.607,0\n\\t\\tc-1.464,1.465-2.196,3.385-2.196,5.304c0,1.919,0.732,3.839,2.196,5.304c1.103,1.102,1.709,2.566,1.709,4.122\n\\t\\ts-0.607,3.021-1.711,4.123c-1.102,1.103-2.566,1.709-4.123,1.709c-1.557,0-3.021-0.606-4.124-1.709\n\\t\\tc-2.932-2.929-7.679-2.93-10.606,0.001c-1.465,1.465-2.196,3.384-2.196,5.304c0,1.919,0.732,3.839,2.197,5.303\n\\t\\tc1.102,1.102,1.709,2.566,1.709,4.122c0,1.557-0.607,3.021-1.712,4.125c-1.1,1.102-2.563,1.707-4.119,1.707\n\\t\\tc-1.513,0-2.938-0.572-4.027-1.614c-0.032-0.032-0.063-0.064-0.096-0.097c-12.665-12.666-12.664-33.279-0.002-45.947\n\\t\\tc6.139-6.136,14.299-9.516,22.977-9.516c8.678,0,16.836,3.38,22.972,9.516c0.042,0.042,0.085,0.083,0.128,0.124\n\\t\\tC196.907,151.086,196.867,154.691,194.637,156.92z\"/>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n`\n\nexport default svg;","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {useColorMode, useTheme} from \"native-base\";\n\nimport InlineSVG from 'svg-inline-react';\nimport {SvgXml} from \"react-native-svg\";\nimport {Platform} from \"react-native\";\nimport {PlatformHelper} from \"../helper/PlatformHelper\";\n\nexport interface AppState{\n\tsvg: string,\n}\nexport const CrossSvg: FunctionComponent<AppState> = (props) => {\n\n\tconst colorMode = useColorMode();\n\tconst theme = useTheme();\n\tconst colors = theme?.colors;\n\tconst lightText = colors?.lightText;\n\tconst darkText = colors?.darkText;\n\n\tconst themedFillColor = colorMode.colorMode===\"dark\" ? lightText : darkText;\n\n\tconst fillColor = themedFillColor || \"#FFFFFF\";\n\n\tif(PlatformHelper.isWeb()){\n\t\treturn <InlineSVG src={props?.svg} style={{width: \"100%\", height: \"100%\", fill: fillColor}} />\n\t} else {\n\t\treturn <SvgXml xml={props?.svg} width=\"100%\" height=\"100%\" fill={fillColor} />\n\t}\n\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {useColorMode, useTheme, Icon, View} from \"native-base\";\n\nimport {CrossSvg} from \"./CrossSvg\";\n\nexport interface AppState{\n\tsvg: string,\n\tcontentSpacer?: any\n}\nexport const CrossNativeBaseSvg: FunctionComponent<AppState> = (props) => {\n\n\tconst spacer = props?.contentSpacer || <Icon name={\"account\"} />\n\n\treturn(\n\t\t<View style={{flex: 1}}>\n\t\t\t<View style={{opacity: 0}}>\n\t\t\t\t{spacer}\n\t\t\t</View>\n\t\t\t<View style={{position: \"absolute\", width: \"100%\", height: \"100%\"}}>\n\t\t\t\t<CrossSvg svg={props.svg} />\n\t\t\t</View>\n\t\t</View>\n\t)\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\nimport calories from \"./icons/NutritionIconCaloriesSvg\";\nimport carbohydrate from \"./icons/NutritionIconCarbohydrateSvg\";\nimport fat from \"./icons/NutritionIconFatSvg\";\nimport protein from \"./icons/NutritionIconProteinSvg\";\nimport salt from \"./icons/NutritionIconSaltSvg\";\nimport fiber from \"./icons/NutritionIconFiberSvg\";\nimport saturatedFat from \"./icons/NutritionIconSaturatedFatSvg\";\nimport sugar from \"./icons/NutritionIconSugarSvg\";\n\n\nimport {CrossNativeBaseSvg} from \"../../CrossNativeBaseSvg\";\n\nexport interface AppState{\n    nutritionkey: string,\n    contentSpacer?: any\n}\nexport const SpeicificNutritionIcon: FunctionComponent<AppState> = (props) => {\n\n    let svg = null;\n\n    switch (props.nutritionkey){\n        case \"calories_kcal\": svg = calories; break;\n        case \"sugar_g\": svg = sugar; break;\n        case \"fiber_g\": svg = fiber; break;\n        case \"protein_g\": svg = protein; break;\n        case \"sodium_g\": svg = salt; break;\n        case \"carbohydrate_g\": svg = carbohydrate; break;\n        case \"saturated_fat_g\": svg = saturatedFat; break;\n        case \"fat_g\": svg = fat; break;\n    }\n\n  return (\n      <CrossNativeBaseSvg svg={svg} contentSpacer={props?.contentSpacer} />\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {SettingsRow} from \"../../settings/SettingsRow\";\nimport {StringHelper} from \"../../../helper/StringHelper\";\nimport {Text, View} from \"native-base\";\nimport {SpeicificNutritionIcon} from \"./SpeicificNutritionIcon\";\nimport {useAppTranslation} from \"../../translations/AppTranslation\";\n\nexport enum NutritionKeys{\n\tcalories_kcal= \"calories_kcal\"\n}\n\nexport interface AppState {\n\ticon?: any,\n\tnutritionkey: string,\n\tvalue: string,\n}\nexport const Nutrition: FunctionComponent<AppState> = (props) => {\n\n\tlet text = useAppTranslation(props?.nutritionkey) || \"?\"\n\n\tlet isKcal = props?.nutritionkey===NutritionKeys.calories_kcal\n\n\tlet value = props.value\n\tlet valueWithUnit = \"\";\n\tif(value===null || value===undefined){\n\t\tvalueWithUnit = \"?\";\n\t} else if (isKcal){\n\t\tvalueWithUnit = value;\n\t} else {\n\t\tvalueWithUnit = value+StringHelper.NONBREAKING_SPACE+\"g\";\n\t}\n\n\tlet amountOfLines = 2\n\n\tfunction renderSpacer(){\n\t\tlet spacer = [];\n\t\tfor(let i=0; i<amountOfLines; i++){\n\t\t\tspacer.push(<Text key={i+\"\"}>{StringHelper.EMPTY_SPACE}</Text>)\n\t\t}\n\t\treturn \t<View style={{opacity: 0}}>\n\t\t\t{spacer}\n\t\t</View>;\n\t}\n\n\tfunction renderContent(): JSX.Element{\n\t\t\treturn(\n\t\t\t\t<View\n\t\t\t\t\tstyle={{flexGrow: 1}}>\n\t\t\t\t\t<Text key={\"nutritionValue\"}>{valueWithUnit}</Text>\n\t\t\t\t\t<View style={{flexDirection: \"row\"}}>\n\t\t\t\t\t\t{renderSpacer()}\n\t\t\t\t\t\t<Text key={\"nutritionText\"} italic={true} numberOfLines={amountOfLines} >{text}</Text>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t)\n\t}\n\n\t/**\n\t <Text style={{flexWrap: 'wrap'}} numberOfLines={amountOfLines} italic={true} fontSize={\"sm\"} >{text+\" \"+text}</Text>\n\t */\n\n\treturn(\n\t\t<View style={{flex: 1}}>\n\t\t\t<SettingsRow leftContent={renderContent()} customDivider={null} leftIcon={\n\t\t\t\t<View style={{marginTop: 0, marginBottom: 0, flex: 1}}>\n\t\t\t\t\t<View style={{flex: 1}}>\n\t\t\t\t\t\t<SpeicificNutritionIcon nutritionkey={props.nutritionkey} contentSpacer={\n\t\t\t\t\t\t\t<View>\n\t\t\t\t\t\t\t\t<Text>{\"MM\"}</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t} />\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t} />\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Foods} from \"../../../directusTypes/types\";\nimport {Divider, Text, View} from \"native-base\";\nimport {GridList} from \"../../GridList\";\nimport {Nutrition, NutritionKeys} from \"./Nutrition\";\nimport {Layout} from \"../../../../kitcheningredients\";\n\n\ninterface AppState {\n\tfood: Foods,\n}\nexport const Nutritions: FunctionComponent<AppState> = (props) => {\n\n\t//sugar: spoon-sugar //cube-outline\n\t//salt: shaker-outline\n\n\tlet food = props.food;\n\n\tfunction renderCalories(){\n\t\tlet value = food?.calories_kcal;\n\t\tlet nutritionkey = NutritionKeys.calories_kcal;\n\t\treturn(\n\t\t\t<Nutrition key={nutritionkey} nutritionkey={nutritionkey} value={value} />\n\t\t)\n\t}\n\n\tfunction renderNutritions(){\n\t\tlet renderedNutritions = [];\n\t\tif(!food){\n\t\t\treturn null;\n\t\t}\n\t\tlet keys = Object.keys(food);\n\t\tlet nutritionkeys = [];\n\t\tfor(let key of keys){\n\t\t\tif(key.endsWith(\"_g\")){\n\t\t\t\tnutritionkeys.push(key);\n\t\t\t}\n\t\t}\n\n\t\trenderedNutritions.push(renderCalories())\n\t\tfor(let nutritionkey of nutritionkeys){\n\t\t\tlet value = food[nutritionkey];\n\t\t\trenderedNutritions.push(<Nutrition key={nutritionkey} nutritionkey={nutritionkey} value={value} />);\n\t\t}\n\n\t\treturn renderedNutritions;\n\t}\n\n\tlet defaultBreakpoints = {\n\t\tbase: 1,\n\t\tsm: 2,\n\t\tmd: 3,\n\t\tlg: 4,\n\t\txl: 5,\n\t}\n\n\treturn(\n\t\t<>\n\t\t\t<GridList beakpointsColumns={defaultBreakpoints} paddingHorizontal={\"0%\"} paddingVertical={\"0%\"} divider={<Divider/>}>\n\t\t\t\t{renderNutritions()}\n\t\t\t</GridList>\n\n\t\t</>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\nimport {Ionicons} from \"@expo/vector-icons\";\nimport {Icon} from \"../../../../kitcheningredients\";\n\nexport interface AppState{\n    color?: string\n}\nexport const NutritionIcon: FunctionComponent<AppState> = (props) => {\n\n  return (\n      <Icon name={\"nutrition\"} as={Ionicons} color={props.color} />\n  )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {View, Text, Divider} from \"native-base\";\nimport {Icon, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {TouchableOpacity} from \"react-native\";\nimport {MyThemedBox} from \"../../../kitcheningredients\"\nimport {ViewPixelRatio} from \"../../helper/PixelRatioView\";\nimport {StringHelper} from \"../../helper/StringHelper\";\n\ninterface AppState {\n\n}\nexport const SettingsSpacer: FunctionComponent<AppState> = (props) => {\n\n    return(\n        <View><Text>{StringHelper.renderZeroSpaceHeight(1)}</Text></View>\n    )\n}\n","import {CustomDirectusTypes} from \"../../../directusTypes/types\";\nimport {ServerAPI} from \"../../../../kitcheningredients\";\nimport {Directus} from \"@directus/sdk\";\nimport {Profiles} from \"../../../directusTypes/types\";\nimport {useJSONState} from \"../../../helper/synchedJSONState\";\nimport {SynchedStateKeys} from \"../../../helper/synchedVariables/SynchedStateKeys\";\nimport {loadProfileRemote, useSynchedProfile} from \"../../profile/ProfileAPI\";\n\nexport class FoodFeedbackAPI{\n\n\tstatic collection: string = \"foods_feedbacks\";\n\n\tstatic getOwnFeedbacks(): any {\n\t\tconst [profile, setProfile] = useSynchedProfile();\n\t\tconst foods_feedbacks = profile?.foods_feedbacks;\n\t\treturn foods_feedbacks;\n\t}\n\n\tstatic getOwnFoodRating(foods_feedbacks, food_id){\n\t\tlet ownRating = undefined;\n\t\tif(!!foods_feedbacks){\n\t\t\tfor(let food_feedback of foods_feedbacks){\n\t\t\t\tif(food_feedback.foods_id === food_id){\n\t\t\t\t\townRating = food_feedback.rating;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ownRating;\n\t}\n\n\tstatic getOwnFoodNotify(foods_feedbacks, food_id){\n\t\tlet ownNotify = false;\n\t\tif(!!foods_feedbacks){\n\t\t\tfor(let food_feedback of foods_feedbacks){\n\t\t\t\tlet isSame = food_feedback.foods_id+\"\" === \"\"+food_id;\n\t\t\t\tif(isSame){\n\t\t\t\t\townNotify = food_feedback.notify;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ownNotify;\n\t}\n\n\tstatic useOwnFoodRating(food_id): [value: number, setValue: (value) => {}] {\n\t\tif(!food_id){\n\t\t\treturn [null, () => {}];\n\t\t}\n\t\tconst [profile, setProfile] = useSynchedProfile();\n\t\tconst foods_feedbacks = FoodFeedbackAPI.getOwnFeedbacks();\n\t\tlet ownRating = FoodFeedbackAPI.getOwnFoodRating(foods_feedbacks, food_id);\n\n\t\tconst setValue = async (rating) => {\n\t\t\tawait FoodFeedbackAPI.createOrUpdateRating(profile, food_id, rating);\n\t\t\tlet reloadedProfile = await loadProfileRemote();\n\t\t\tsetProfile(reloadedProfile);\n\t\t}\n\n\t\treturn [\n\t\t\townRating,\n\t\t\tsetValue\n\t\t]\n\t}\n\n\tstatic useOwnFoodNotify(food_id): [value: boolean, setValue: (value) => {}] {\n\t\tif(!food_id){\n\t\t\treturn [null, () => {}];\n\t\t}\n\t\tconst [profile, setProfile] = useSynchedProfile();\n\t\tconst foods_feedbacks = FoodFeedbackAPI.getOwnFeedbacks();\n\t\tlet ownNotify = FoodFeedbackAPI.getOwnFoodNotify(foods_feedbacks, food_id);\n\n\t\tconst setValue = async (rating) => {\n\t\t\tawait FoodFeedbackAPI.createOrUpdateNotify(profile, food_id, rating);\n\t\t\tlet reloadedProfile = await loadProfileRemote();\n\t\t\tsetProfile(reloadedProfile);\n\t\t}\n\n\t\treturn [\n\t\t\townNotify,\n\t\t\tsetValue\n\t\t]\n\t}\n\n\tstatic useSynchedFoodFeedbacks(food_id, initialFeedbacks?): [value: Profiles, setValue: (value) => {}] {\n\t\tconst [jsonState, setJsonState] = useJSONState(SynchedStateKeys.synchedFoodFeedbacks);\n\n\t\tconst setValue = async (feedbacks) => {\n\t\t\tlet newJsonState = {...jsonState};\n\t\t\tnewJsonState[food_id] = feedbacks;\n\t\t\tawait setJsonState(newJsonState);\n\t\t\treturn true;\n\t\t}\n\n\t\tconst foodsFeedbacks = jsonState?.[food_id] || initialFeedbacks || [];\n\n\t\treturn [\n\t\t\tfoodsFeedbacks,\n\t\t\tsetValue\n\t\t]\n\t}\n\n\tstatic async createOrUpdateNotify(profile, foods_id, notify, users_canteenId?){\n\t\tlet feedback = FoodFeedbackAPI.getFeedbackObj(profile, foods_id, users_canteenId)\n\t\tfeedback.notify = notify;\n\n\t\tlet usersFeedback = await FoodFeedbackAPI.searchUsersFeedback(profile, foods_id);\n\n\t\tawait FoodFeedbackAPI.createUpdateOrDeleteFeedback(usersFeedback, feedback)\n\n\t\treturn true;\n\t}\n\n\tstatic async createOrUpdateRating(profile, foods_id, rating, users_canteenId?){\n\t\tlet feedback = FoodFeedbackAPI.getFeedbackObj(profile, foods_id, users_canteenId)\n\t\tfeedback.rating = rating;\n\n\t\tlet usersFeedback = await FoodFeedbackAPI.searchUsersFeedback(profile, foods_id);\n\n\t\tawait FoodFeedbackAPI.createUpdateOrDeleteFeedback(usersFeedback, feedback)\n\n\t\treturn true;\n\t}\n\n\tstatic async createOrUpdateComment(profile, foods_id, comment, users_canteenId?){\n\t\tlet feedback = FoodFeedbackAPI.getFeedbackObj(profile, foods_id, users_canteenId)\n\t\tfeedback.comment = comment;\n\n\t\tlet usersFeedback = await FoodFeedbackAPI.searchUsersFeedback(profile, foods_id);\n\n\t\tawait FoodFeedbackAPI.createUpdateOrDeleteFeedback(usersFeedback, feedback)\n\n\t\treturn true;\n\t}\n\n\tprivate static getFeedbackObj(profile, foods_id, users_canteenId?): any{\n\t\tlet profiles_id = profile?.id;\n\n\t\tlet feedback: any = {\n\t\t\tfoods_id: foods_id,\n\t\t\tprofiles_id: {id: profiles_id, user: profile.user},\n\t\t\tstatus: \"published\"\n\t\t}\n\t\tif(!!users_canteenId){\n\t\t\tfeedback.canteens_id = users_canteenId;\n\t\t}\n\n\t\treturn feedback;\n\t}\n\n\tstatic async searchUsersFeedback(profile, foods_id){\n\t\tlet directus: Directus<CustomDirectusTypes> = ServerAPI.getClient();\n\t\tlet andFilters = FoodFeedbackAPI.getFilters(profile, foods_id);\n\t\tlet searchAnswer = await directus.items(FoodFeedbackAPI.collection).readByQuery( {\n\t\t\tlimit: -1,\n\t\t\tfilter: {\n\t\t\t\t_and: andFilters\n\t\t\t}\n\t\t});\n\n\t\tlet foundFeedbacks = searchAnswer?.data;\n\t\tlet usersFeedback = null;\n\t\tif(!!foundFeedbacks && foundFeedbacks.length > 0){ // if there is feedback\n\t\t\tlet foundFeedback = foundFeedbacks[0];\n\t\t\tif(foundFeedback.profiles_id === profile?.id){ //if it is the users own feedback\n\t\t\t\tusersFeedback = foundFeedback;\n\t\t\t}\n\t\t}\n\n\t\treturn usersFeedback;\n\t}\n\n\tprivate static getFilters(profile, foods_id){\n\t\tlet profiles_id = profile?.id;\n\n\t\tlet andFilters = [];\n\t\tandFilters.push(\n\t\t\t{\n\t\t\t\tfoods_id: {\n\t\t\t\t\t_eq: foods_id\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\tif(!!profiles_id){\n\t\t\tandFilters.push(\n\t\t\t\t{\n\t\t\t\t\tprofiles_id: {\n\t\t\t\t\t\t_eq: profiles_id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\n\t\treturn andFilters;\n\t}\n\n\tprivate static async createUpdateOrDeleteFeedback(usersFeedback, feedbackObj){\n\t\tif(!!usersFeedback){\n\t\t\tlet updateResult = await FoodFeedbackAPI.updateFeedback(usersFeedback, feedbackObj)\n\n\t\t\tconst shouldDelete = updateResult?.comment===null && updateResult?.rating===null && !updateResult?.notify\n\t\t\tif(shouldDelete){\n\t\t\t\tlet deleteResult = await FoodFeedbackAPI.deleteFeedback(usersFeedback)\n\t\t\t}\n\t\t} else {\n\t\t\tlet createdFeedback = await FoodFeedbackAPI.createFeedback(feedbackObj)\n\t\t}\n\t}\n\n\tprivate static async createFeedback(feedbackObj){\n\t\tlet directus: Directus<CustomDirectusTypes> = ServerAPI.getClient();\n\t\treturn await directus.items(FoodFeedbackAPI.collection).createOne(feedbackObj);\n\t}\n\n\tprivate static async updateFeedback(usersFeedback, feedbackObj){\n\t\tlet directus: Directus<CustomDirectusTypes> = ServerAPI.getClient();\n\t\treturn await directus.items(FoodFeedbackAPI.collection).updateOne(usersFeedback.id, feedbackObj);\n\t}\n\n\tprivate static async deleteFeedback(usersFeedback){\n\t\tlet directus: Directus<CustomDirectusTypes> = ServerAPI.getClient();\n\t\treturn await directus.items(FoodFeedbackAPI.collection).deleteOne(usersFeedback.id);\n\t}\n\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {CrossLottie, Layout} from \"../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport notAllowed from \"../../assets/NotAllowed.json\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {ProjectColoredCrossLottie} from \"./ProjectColoredCrossLottie\";\n\nexport const NotAllowed = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"40%\",\n\t\tsm: \"30%\",\n\t\tmd: Layout.WIDTH_MD*0.3,\n\t\tlg: Layout.WIDTH_LG*0.3,\n\t\txl: Layout.WIDTH_XL*0.3\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<ProjectColoredCrossLottie source={notAllowed} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","import React from \"react\";\nimport {View} from \"native-base\";\nimport {TouchableOpacity} from \"react-native\";\n\nexport const TouchableOpacityIgnoreChildEvents = ({onPress, style, useDefaultOpacity,children, ...props}) => {\n    const opacity = useDefaultOpacity ? 0.3 : 1;\n\n    let isStyleArray = Array.isArray(style);\n    const opacityStyle = {opacity: opacity};\n    let mergedStyle = {...opacityStyle, ...style };\n    if(isStyleArray){\n        mergedStyle = [opacityStyle ,...style];\n    }\n\n    return(\n        <TouchableOpacity {...props} style={mergedStyle} onPress={() => {\n            if(onPress){\n                onPress();\n            }\n        }}>\n            <View pointerEvents={\"none\"}>\n                {children}\n            </View>\n        </TouchableOpacity>\n    )\n\n}\n","import {ConfigHolder, MyActionsheet, Navigation, NavigatorHelper, ServerAPI} from \"../../kitcheningredients\";\nimport React, {FunctionComponent} from \"react\";\nimport {View, Text} from \"native-base\";\nimport {PermissionHelper} from \"./PermissionHelper\";\nimport {TouchableOpacity} from \"react-native\";\nimport {NotAllowed} from \"../components/animations/NotAllowed\";\nimport {AppTranslation, useAppTranslation} from \"../components/translations/AppTranslation\";\nimport {TouchableOpacityIgnoreChildEvents} from \"./overlay/TouchableOpacityIgnoreChildEvents\";\n\nexport type PermissonHelperComponentProps = {\n    collection: string,\n    fields: string[],\n    actions: string[],\n    hideIfNotAllowed?: boolean,\n}\nexport const AccountRequiredComponent: FunctionComponent<PermissonHelperComponentProps> = (props) => {\n\n    const translationNoPermission = useAppTranslation(\"noPermission\");\n    const translationCreateAnAccount = useAppTranslation(\"createAnAccount\");\n    const loginOrRegister = useAppTranslation(\"loginOrCreate\");\n\n    const user = ConfigHolder.instance.getUser();\n    const actionsheet = MyActionsheet.useActionsheet();\n\n    if(user.isGuest){\n        return (\n            <TouchableOpacityIgnoreChildEvents\n                style={props?.style}\n                useDefaultOpacity={true}\n                onPress={() => {\n                actionsheet.show({\n                    title: translationNoPermission+\". \"+translationCreateAnAccount,\n                    onAccept: async () => {\n                        Navigation.navigateHome()\n//                        NavigatorHelper.navigateHome();\n                        ServerAPI.handleLogout();\n                    },\n                    acceptLabel: loginOrRegister,\n                    cancelLabel: <AppTranslation id={\"cancel\"} />,\n                    renderDescription: () => {\n                        return (\n                            <NotAllowed />\n                        )\n                    }\n                });\n            }}>\n                    {props.children}\n            </TouchableOpacityIgnoreChildEvents>\n        )\n    }\n\n    return (\n        <>\n            {props.children}\n        </>\n    )\n}\n","import {ConfigHolder, MyActionsheet, NavigatorHelper, ServerAPI} from \"../../kitcheningredients\";\nimport React, {FunctionComponent} from \"react\";\nimport {View, Text} from \"native-base\";\nimport {PermissionHelper} from \"./PermissionHelper\";\nimport {TouchableOpacity} from \"react-native\";\nimport {NotAllowed} from \"../components/animations/NotAllowed\";\nimport {AppTranslation, useAppTranslation} from \"../components/translations/AppTranslation\";\nimport {AccountRequiredComponent} from \"./AccountRequiredComponent\";\nimport {TouchableOpacityIgnoreChildEvents} from \"./overlay/TouchableOpacityIgnoreChildEvents\";\n\nexport type PermissonHelperComponentProps = {\n    collection: string,\n    fields: string[],\n    actions: string[],\n    hideIfNotAllowed?: boolean,\n}\nexport const PermissionHelperComponent: FunctionComponent<PermissonHelperComponentProps> = (props) => {\n\n    const translationNoPermission = useAppTranslation(\"noPermission\");\n\n    const user = ConfigHolder.instance.getUser();\n    const actionsheet = MyActionsheet.useActionsheet();\n\n    let allowed = true;\n    for(let field of props.fields){\n        for(let action of props.actions){\n            allowed = allowed && PermissionHelper.isFieldAllowedForAction(ConfigHolder.instance.getRole(), ConfigHolder.instance.getPermissions(), props.collection, props.fields, action);\n        }\n    }\n\n    if(allowed){\n        return (\n            <>\n                {props.children}\n            </>\n        )\n    }\n\n    let title = translationNoPermission;\n    let acceptLabel = <AppTranslation id={\"okay\"} />;\n    let onAccept = () => {};\n\n    if(user.isGuest){\n        return (\n            <AccountRequiredComponent>\n                {props.children}\n            </AccountRequiredComponent>\n        )\n    }\n\n    return (\n        <TouchableOpacityIgnoreChildEvents\n            useDefaultOpacity={true}\n            onPress={() => {\n                actionsheet.show({\n                    title: title,\n                    onAccept: onAccept,\n                    acceptLabel: acceptLabel,\n                    cancelLabel: <AppTranslation id={\"cancel\"}/>,\n                    renderDescription: () => {\n                        return (\n                            <NotAllowed/>\n                        )\n                    }\n                });\n            }}\n        >\n            {props.children}\n        </TouchableOpacityIgnoreChildEvents>\n    )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Skeleton} from \"native-base\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport enum RatingType{\n\tdisabled=\"disabled\",\n\thearts = \"hearts\",\n\tlikes = \"likes\",\n\tstars= \"stars\",\n\tsmilies=\"smilies\"\n}\nexport interface AppState{\n\tratingType: RatingType,\n\tratingValue: number,\n\tisActive: boolean,\n\tcolor?: string\n}\nexport const MAX_RATING_VALUE = 5;\nexport const RatingValueIcon: FunctionComponent<AppState> = (props) => {\n\n\n\n\tconst ratingType = props.ratingType;\n\tconst isActive = props.isActive;\n\tconst ratingValue = props.ratingValue;\n\n\tconst maxRatingValue = 5;\n\n\tfunction renderOnlyLikes(){\n\t\tlet icon = isActive ? \"heart\" : \"heart-outline\";\n\t\treturn (\n\t\t\t\t<Icon color={props?.color} name={icon}></Icon>\n\t\t)\n\t}\n\n\tfunction renderLikeAndDislike(){\n\t\tlet iconName = \"thumb-down\";\n\t\tif(ratingValue >= maxRatingValue){\n\t\t\ticonName = \"thumb-up\";\n\t\t}\n\t\tif(!isActive){\n\t\t\ticonName+=\"-outline\";\n\t\t}\n\n\t\treturn <Icon color={props?.color} name={iconName}></Icon>\n\n\t}\n\n\tfunction renderSmily(){\n\t\tlet smily_5 = \"emoticon\";\n\t\tlet smily_4 = \"emoticon-happy\";\n\t\tlet smily_3 = \"emoticon-neutral\";\n\t\tlet smily_2 = \"emoticon-sad\";\n\t\tlet smily_1 = \"emoticon-cry\";\n\n\t\tlet name = \"emoticon-cool\";\n\n\t\tswitch (ratingValue){\n\t\t\tcase 5: name = smily_5; break;\n\t\t\tcase 4: name = smily_4; break;\n\t\t\tcase 3: name = smily_3; break;\n\t\t\tcase 2: name = smily_2; break;\n\t\t\tcase 1: name = smily_1; break;\n\t\t}\n\n\t\tif(!isActive){\n\t\t\tname+=\"-outline\";\n\t\t}\n\n\t\treturn(\n\t\t\t<Icon color={props?.color} name={name}/>\n\t\t)\n\t}\n\n\tfunction renderStar(){\n\t\tlet name = \"star\";\n\n\t\tif(!isActive){\n\t\t\tname+=\"-outline\";\n\t\t}\n\n\t\treturn(\n\t\t\t<Icon color={props?.color} name={name}/>\n\t\t)\n\t}\n\n\tfunction renderRatingType(){\n\t\tif(!ratingType){\n\t\t\treturn <Skeleton />\n\t\t}\n\n\t\tswitch (ratingType){\n\t\t\tcase RatingType.disabled: return null;\n\t\t\tcase RatingType.hearts: return renderOnlyLikes();\n\t\t\tcase RatingType.likes: return renderLikeAndDislike();\n\t\t\tcase RatingType.stars: return renderStar();\n\t\t\tcase RatingType.smilies: return renderSmily();\n\t\t\tdefault: return null\n\t\t}\n\t}\n\n\treturn renderRatingType()\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {useSynchedImageOverlays, useSynchedImageOverlaysDict} from \"../../helper/synchedJSONState\";\nimport {IMAGE_OVERLAY_CUSTOM_POSITION_FIELD, IMAGE_OVERLAY_ID_FIELD} from \"./ImageOverlay\";\n\nexport enum ImageOverlayPosition {\n\tTOP_LEFT = \"top_left\",\n\tTOP_RIGHT = \"top_right\",\n\tBOTTOM_LEFT = \"bottom_left\",\n\tBOTTOM_RIGHT = \"bottom_right\",\n}\ninterface AppState {\n\twidth?: number,\n}\nexport const ImageOverlays: FunctionComponent<AppState> = (props) => {\n\n\tconst width = props?.width;\n\tconst [imageOverlays, setImageOverlays] = useSynchedImageOverlaysDict();\n\n\tconst renderedChildren = [];\n\n\tconst topLeftRenderedChildren = [];\n\tconst topRightRenderedChildren = [];\n\tconst bottomLeftRenderedChildren = [];\n\tconst bottomRightRenderedChildren = [];\n\n\t//https://stackoverflow.com/questions/29670173/accessing-react-component-children-props-from-the-parent\n\tconst children = props?.children || [];\n\n\tReact.Children.forEach(children, element => {\n\t\tif (!React.isValidElement(element)) return\n\n\t\tconst childProps = element.props;\n\n\t\tconst idField = IMAGE_OVERLAY_ID_FIELD\n\t\tconst imageOverlayId = childProps?.[idField];\n\n\t\tconst customPosition = childProps?.[IMAGE_OVERLAY_CUSTOM_POSITION_FIELD];\n\t\tlet position = customPosition;\n\n\t\tif(!!imageOverlayId){\n\t\t\tconst imageOverlay = imageOverlays[imageOverlayId];\n\t\t\tposition = imageOverlay?.position;\n\t\t}\n\n\t\tif(!!position){\n\t\t\tconst topleft = position === ImageOverlayPosition.TOP_LEFT;\n\t\t\tconst topright = position === ImageOverlayPosition.TOP_RIGHT;\n\t\t\tconst bottomleft = position === ImageOverlayPosition.BOTTOM_LEFT;\n\t\t\tconst bottomright = position === ImageOverlayPosition.BOTTOM_RIGHT;\n\n\t\t\t//add the prop width to the child with the original childprops\n\t\t\tconst childWithWidth = React.cloneElement(element, {\n\t\t\t\t//@ts-ignore\n\t\t\t\t...childProps,\n\t\t\t\twidth: width,\n\t\t\t});\n\n\t\t\tif(topleft){\n\t\t\t\ttopLeftRenderedChildren.push(childWithWidth);\n\t\t\t} else if(topright){\n\t\t\t\ttopRightRenderedChildren.push(childWithWidth);\n\t\t\t} else if(bottomleft){\n\t\t\t\tbottomLeftRenderedChildren.push(childWithWidth);\n\t\t\t} else if(bottomright){\n\t\t\t\tbottomRightRenderedChildren.push(childWithWidth);\n\t\t\t} else {\n\t\t\t\tbottomRightRenderedChildren.push(childWithWidth);\n\t\t\t}\n\t\t} else {\n\t\t\trenderedChildren.push(element);\n\t\t}\n\n\t\t//do something with source..\n\t})\n\n\trenderedChildren.push(\n\t\t<View key=\"topLeft\" style={{position: \"absolute\", top: 0, left: 0}}>\n\t\t\t{topLeftRenderedChildren}\n\t\t</View>\n\t)\n\trenderedChildren.push(\n\t\t<View key=\"topRight\" style={{position: \"absolute\", top: 0, right: 0}}>\n\t\t\t{topRightRenderedChildren}\n\t\t</View>\n\t)\n\trenderedChildren.push(\n\t\t<View key=\"bottomLeft\" style={{position: \"absolute\", bottom: 0, left: 0}}>\n\t\t\t{bottomLeftRenderedChildren}\n\t\t</View>\n\t)\n\trenderedChildren.push(\n\t\t<View key=\"bottomRight\" style={{position: \"absolute\", bottom: 0, right: 0}}>\n\t\t\t{bottomRightRenderedChildren}\n\t\t</View>\n\t)\n\n\treturn renderedChildren\n\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {ViewPixelRatio} from \"../../helper/ViewPixelRatio\";\nimport {View} from \"native-base\";\nimport {ImageOverlayPosition} from \"../imageOverlays/ImageOverlays\";\nimport {ImageOverlayPaddingStyle} from \"../imageOverlays/ImageOverlay\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\nimport {useMyContrastColor} from \"../../../kitcheningredients\";\n\ninterface AppState {\n\twidth?: number,\n\tposition?: ImageOverlayPosition,\n\twithouthPadding?: boolean,\n\tbackgroundColor?: string,\n\trenderContent?: (backgroundColor, textColor) => any // TODO: implement and refactor and use textContrastColor\n}\nexport const DefaultComponentCardOverlayBox: FunctionComponent<AppState> = (props) => {\n\n\tconst width = props?.width;\n\n\tlet borderRadius = getBorderRadius(width);\n\n\tconst projectColor = ColorHelper.useProjectColor();\n\n\tfunction getBorderRadius(width){\n\t\treturn width ? Math.round(width*0.05) : 0;\n\t}\n\n\tfunction getPositionStyle(position: ImageOverlayPosition){\n\t\tlet style = {};\n\t\tif(props?.position === ImageOverlayPosition.TOP_LEFT){\n\t\t\tstyle = {\n\t\t\t\tborderTopRightRadius: borderRadius,\n\t\t\t\tborderBottomRightRadius: borderRadius,\n\t\t\t\tpaddingLeft: borderRadius/4,\n\t\t\t}\n\t\t}\n\t\tif(props?.position === ImageOverlayPosition.TOP_RIGHT){\n\t\t\tstyle = {\n\t\t\t\tborderTopLeftRadius: borderRadius,\n\t\t\t\tborderBottomLeftRadius: borderRadius,\n\t\t\t\tpaddingRight: borderRadius/4,\n\t\t\t}\n\t\t}\n\t\tif(props?.position === ImageOverlayPosition.BOTTOM_LEFT){\n\t\t\tstyle = {\n\t\t\t\tborderTopRightRadius: borderRadius,\n\t\t\t\tborderBottomRightRadius: borderRadius,\n\t\t\t\tpaddingLeft: borderRadius/4,\n\t\t\t}\n\t\t}\n\t\tif(props?.position === ImageOverlayPosition.BOTTOM_RIGHT){\n\t\t\tstyle = {\n\t\t\t\tborderTopLeftRadius: borderRadius,\n\t\t\t\tborderBottomLeftRadius: borderRadius,\n\t\t\t\tpaddingRight: borderRadius/4,\n\t\t\t}\n\t\t}\n\t\treturn style;\n\t}\n\n\tconst position = props?.position;\n\tconst positionStyle = getPositionStyle(position);\n\n\tconst withouthPadding = props?.withouthPadding;\n\n\tfunction renderContent(content){\n\t\tif(withouthPadding){\n\t\t\treturn content;\n\t\t}\n\t\treturn <View style={ImageOverlayPaddingStyle}>{content}</View>\n\t}\n\n\tconst backgroundColor = props?.backgroundColor || projectColor || \"orange\";\n\n\tconst textContrastColor = useMyContrastColor(backgroundColor);\n\n\tlet content = props?.children;\n\tif(!content){\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ViewPixelRatio style={{flexDirection: \"row\", justifyContent: \"center\", backgroundColor: backgroundColor, alignItems: \"flex-end\", ...positionStyle}}>\n\t\t\t{renderContent(\n\t\t\t\t<View style={[{flexDirection: \"row\"}]}>\n\t\t\t\t\t{content}\n\t\t\t\t</View>\n\t\t\t)}\n\t\t</ViewPixelRatio>\n\t)\n\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {DirectusMarkdown} from \"../../../kitcheningredients\";\nimport {useDirectusTranslation} from \"./DirectusTranslationUseFunction\";\n\ninterface AppState {\n\titem?: any,\n\tfield?: string,\n\tignoreFallbackLanguage?: boolean,\n\tfallback_text?: string | any,\n\tcolor?: string\n}\nexport const DirectusTranslatedMarkdown: FunctionComponent<AppState> = (props) => {\n\t\tconst item = props?.item;\n\t\tconst translations = item?.translations;\n\t\tconst field = props?.field;\n\t\tconst content = useDirectusTranslation(translations, field, props?.ignoreFallbackLanguage, props?.fallback_text);\n\n\t\treturn (\n\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t<DirectusMarkdown color={props?.color} data={{\n\t\t\t\t\tcontent: content\n\t\t\t\t}} fieldname={\"content\"} />\n\t\t\t</View>\n\t\t);\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon, MyActionsheet, useMyContrastColor} from \"../../../kitcheningredients\";\nimport {useSynchedImageOverlays} from \"../../helper/synchedJSONState\";\nimport {MaterialIcons} from \"@expo/vector-icons\";\nimport {TouchableOpacityIgnoreChildEvents} from \"../../helper/overlay/TouchableOpacityIgnoreChildEvents\";\nimport {View, Text, Tooltip} from \"native-base\";\nimport {useDirectusTranslation} from \"../translations/DirectusTranslationUseFunction\";\nimport {DefaultComponentCardOverlayBox} from \"../detailsComponent/DefaultComponentCardOverlayBox\";\nimport {ImageOverlayPosition} from \"./ImageOverlays\";\nimport {DirectusTranslatedMarkdown} from \"../translations/DirectusTranslatedMarkdown\";\nimport {TouchableOpacity} from \"react-native\";\n\nexport const IMAGE_OVERLAY_ID_FIELD = \"image_overlay_id\";\nexport const IMAGE_OVERLAY_CUSTOM_POSITION_FIELD = \"position\";\ninterface AppState {\n\t[IMAGE_OVERLAY_ID_FIELD]?: string,\n\twidth?: number,\n\tadditionalContent?: any,\n\tposition?: ImageOverlayPosition,\n\tparams?: any\n\taccessibilityLabel?: any\n\tbackgroundColor?: string,\n\ttextColor?: string\n}\n\nexport const ImageOverlayPaddingStyle = {padding: 5}\n\nexport const ImageOverlay: FunctionComponent<AppState> = (props) => {\n\n\tconst width = props?.width;\n\n\tconst actionsheet = MyActionsheet.useActionsheet();\n\n\tconst resource_id = props?.[IMAGE_OVERLAY_ID_FIELD];\n\tconst resource = useSynchedImageOverlays(resource_id);\n\n\tconst imageOverlay = resource;\n\n\tconst directusIconName = imageOverlay?.icon;\n\tconst backgroundColor = props?.backgroundColor || imageOverlay?.color;\n\tconst position = props?.position || imageOverlay?.position;\n\n\tlet textColor = props?.textColor;\n\tconst contrastTextColor = useMyContrastColor(backgroundColor);\n\ttextColor = textColor || contrastTextColor;\n\n\tconst translations = imageOverlay?.translations || {};\n\tlet title = useDirectusTranslation(translations, \"title\", undefined, undefined, props?.params);\n\tif(props?.accessibilityLabel){\n\t\ttitle = props.accessibilityLabel;\n\t}\n\n\tfunction renderDirectusIcon(){\n\t\tlet iconName = directusIconName || \"help\";\n\t\ticonName = iconName.replace(/_/g, \"-\");\n\t\treturn <Icon color={textColor} name={iconName} as={MaterialIcons} />\n\t}\n\n\tfunction onAccept(){\n\t\t// do nothing\n\t}\n\n\tconst renderedAdditionalContent = props?.additionalContent;\n\tconst spacer = !!renderedAdditionalContent ? <View style={{width: 10}} /> : null;\n\n\treturn (\n\t\t<Tooltip label={title} >\n\t\t\t<TouchableOpacity\n\t\t\t\taccessibilityLabel={title}\n\t\t\t\tonPress={() => {\n\t\t\t\t\tactionsheet.show({\n\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\trenderCustomContent: (onClose) => {\n\t\t\t\t\t\t\treturn <View>\n\t\t\t\t\t\t\t\t<DirectusTranslatedMarkdown item={imageOverlay} field={\"description\"} fallback_text={\"\"} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DefaultComponentCardOverlayBox backgroundColor={backgroundColor} width={width} position={position}>\n\t\t\t\t\t{renderDirectusIcon()}\n\t\t\t\t\t{spacer}\n\t\t\t\t\t{renderedAdditionalContent}\n\t\t\t\t</DefaultComponentCardOverlayBox>\n\t\t\t</TouchableOpacity>\n\t\t</Tooltip>\n\t)\n\n\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {View} from \"native-base\";\nimport {TouchableOpacity} from \"react-native\";\nimport {FoodFeedbackAPI} from \"../FoodFeedbackAPI\";\nimport {useSynchedSettingsFoods} from \"../../../../helper/synchedJSONState\";\nimport {PermissionHelperComponent} from \"../../../../helper/PermissionHelperComponent\";\nimport {RatingType, RatingValueIcon} from \"../../../ratings/RatingValueIcon\";\nimport {useAppTranslation} from \"../../../translations/AppTranslation\";\nimport {MyTouchableOpacity} from \"../../../buttons/MyTouchableOpacity\";\nimport {ImageOverlayPaddingStyle} from \"../../../imageOverlays/ImageOverlay\";\n\nexport interface AppState{\n\tfood_id: any,\n\tratingValue?: number,\n\tdefaultRatingValue?: number,\n\tratingType?: RatingType,\n\tonSelectRating?: any,\n\tcolor?: string\n}\nexport const FoodRatingSingle: FunctionComponent<AppState> = (props) => {\n\n\tconst food_id = props.food_id;\n\n\tconst [userRating, setUserRating] = FoodFeedbackAPI.useOwnFoodRating(food_id);\n\n\n\tconst translationCurrently = useAppTranslation(\"currently\")\n\tconst translationLike = useAppTranslation(\"rating_like\")\n\tconst translationDislike = useAppTranslation(\"rating_dislike\")\n\n\n\tconst ratingValue = props.ratingValue || userRating || props?.defaultRatingValue;\n\n\tconst [foodSettings, setFoodSettings] = useSynchedSettingsFoods()\n\tconst ratingType = props.ratingType || foodSettings?.ratings_type\n\n\tconst maxRatingValue = 5;\n\tconst minRatingValue = 1;\n\tconst middleRatingValue = (maxRatingValue+minRatingValue)/2;\n\n\tconst isActive = getIsActive();\n\n\tconst accessibilityLabelCurrentState = isActive ? translationLike : translationDislike;\n\tconst accessibilityLabel = translationCurrently+\": \"+accessibilityLabelCurrentState;\n\n\tasync function load(){\n\n\t}\n\n\tuseEffect(() => {\n\t\tload();\n\t}, [props]);\n\n\tfunction isUsersRatingSameAsRatingValue(){\n\t\treturn ratingValue === userRating;\n\t}\n\n\tasync function handleSelectRating(ratingValue, isActive){\n\t\t//console.log(\"handleSelectRating\", ratingValue, isActive);\n\t\tif(isActive && isUsersRatingSameAsRatingValue()){ // if we click at the rating again, we will delete it instead\n\t\t\tratingValue = null; //so a null value is correct\n\t\t}\n\t\tawait setUserRating(ratingValue);\n\t\tif(!!props.onSelectRating){\n\t\t\tprops.onSelectRating(ratingValue);\n\t\t}\n\t\tawait load();\n\t}\n\n\n\tfunction isRatingBelowAvg(ratingValue) {\n\t\tif(ratingValue!==null && ratingValue !== undefined){\n\t\t\treturn ratingValue<middleRatingValue;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction isRatingAbouveAvg(ratingValue) {\n\t\tif(ratingValue!==null && ratingValue !== undefined){\n\t\t\treturn ratingValue>=middleRatingValue;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction isLikeRatingActive(){\n\t\tif(isRatingAbouveAvg(ratingValue)){\n\t\t\treturn isRatingAbouveAvg(userRating);\n\t\t}\n\t\treturn isRatingBelowAvg(userRating);\n\t}\n\n\tfunction getIsActive(): boolean {\n\t\tswitch (ratingType){\n\t\t\tcase RatingType.disabled: return false;\n\t\t\tcase RatingType.hearts: return userRating===ratingValue || isRatingAbouveAvg(userRating);\n\t\t\tcase RatingType.likes: return userRating===ratingValue || isLikeRatingActive();\n\t\t\tcase RatingType.stars: return userRating>=ratingValue;\n\t\t\tcase RatingType.smilies: return userRating>=ratingValue;\n\t\t\tdefault: return false\n\t\t}\n\t}\n\n\tfunction getIsRatingEnabled(): boolean {\n\t\tif(!ratingType){\n\t\t\treturn false;\n\t\t}\n\t\tif(ratingType===RatingType.disabled){\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tif(!getIsRatingEnabled()){\n\t\treturn null;\n\t}\n\n\treturn(\n\t\t\t<View>\n\t\t\t\t<PermissionHelperComponent collection={FoodFeedbackAPI.collection} fields={[\"rating\"]} actions={[\"create\", \"update\", \"delete\"]} >\n\t\t\t\t\t<MyTouchableOpacity\n\t\t\t\t\t\taccessibilityLabel={accessibilityLabel}\n\t\t\t\t\t\tstyle={ImageOverlayPaddingStyle}\n\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\thandleSelectRating(ratingValue, isActive)\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<View style={props?.style}>\n\t\t\t\t\t\t\t<RatingValueIcon color={props?.color} ratingType={ratingType} ratingValue={ratingValue} isActive={isActive} />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</MyTouchableOpacity>\n\t\t\t\t</PermissionHelperComponent>\n\t\t\t</View>\n\t)\n}\n","export class FoodRatingConstant{\n\tstatic maxRatingValue = 5;\n\tstatic minRatingValue = 1;\n\tstatic middleRatingValue = (FoodRatingConstant.maxRatingValue+FoodRatingConstant.minRatingValue)/2;\n\n\n\tstatic isRatingBelowAvg(ratingValue) {\n\t\tif(ratingValue!==null && ratingValue !== undefined){\n\t\t\treturn ratingValue<FoodRatingConstant.middleRatingValue;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic isRatingAbouveAvg(ratingValue) {\n\t\tif(ratingValue!==null && ratingValue !== undefined){\n\t\t\treturn ratingValue>=FoodRatingConstant.middleRatingValue;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic isLikeRating(rating){\n\t\treturn rating>=FoodRatingConstant.middleRatingValue;\n\t}\n\n\tstatic isDislikeRating(rating){\n\t\tif(!!rating){\n\t\t\treturn rating<FoodRatingConstant.middleRatingValue;\n\t\t}\n\t\treturn false;\n\t}\n}\n","export class FoodFeedbackHelper {\n\n    static getDate(feedback){\n        let date = feedback?.date_updated || feedback?.date_created\n        if(typeof date===\"string\"){\n            date = new Date(date);\n        }\n        return date;\n    }\n\n    static getRating(feedback){\n        return feedback?.rating;\n    }\n\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {Skeleton, Text, View} from \"native-base\";\nimport {useSynchedSettingsFoods} from \"../../../helper/synchedJSONState\";\nimport {FoodFeedbackAPI} from \"./FoodFeedbackAPI\";\nimport {FoodLoader} from \"../FoodLoader\";\nimport {FoodRatingSingle} from \"./foodrating/FoodRatingSingle\";\nimport {FoodRatingConstant} from \"./foodrating/FoodRatingConstant\";\nimport {FoodFeedbackHelper} from \"../../../helper/FoodFeedbackHelper\";\n\nexport enum RatingType{\n\tdisabled=\"disabled\",\n\thearts = \"hearts\",\n\tlikes = \"likes\",\n\tstars= \"stars\",\n\tsmilies=\"smilies\"\n}\nexport interface AppState{\n\tfood_id?: any,\n\tratingType?: RatingType,\n\tuserRating?: number,\n\tonSelectRating?: any\n}\nexport const FoodRating: FunctionComponent<AppState> = (props) => {\n\tconst food_id = props.food_id;\n\n\tconst [synchedFeedbacks, setSynchedFeedbacks] = FoodFeedbackAPI.useSynchedFoodFeedbacks(food_id);\n\tconst feedbacks = synchedFeedbacks || [];\n\n\tconst [foodSettings, setFoodSettings] = useSynchedSettingsFoods()\n\tconst ratingType = props.ratingType || foodSettings?.ratings_type\n\tconst foodratings_avg_display = props.foodratings_avg_display || foodSettings?.ratings_avg_display\n\tconst foodratings_amount_display = props.foodratings_amount_display || foodSettings?.ratings_amount_display\n\n\tconst others_users_avg_rating = calculateAvg(feedbacks);\n\t//\tconst avg_rating = food?.avg_rating; //TODO maybe use this instead of own calculation TODO implement calc. backend\n\n\tconst others_users_avg_rating_with_fraction = !!others_users_avg_rating ? Number(others_users_avg_rating).toFixed(1) : \"\";\n\n\tconst amountLikeRatings = getAmountLikes(feedbacks);\n\tconst amountDislikeRatings = getAmountDislikes(feedbacks);\n\n\tasync function load(){\n\t\tlet reloadedFood = await FoodLoader.loadFoodDetails(food_id);\n\t\tsetSynchedFeedbacks(reloadedFood?.feedbacks);\n\t}\n\n\tuseEffect(() => {\n\t\tload();\n\t}, [props]);\n\n\tfunction getRatingValues(feedbacks){\n\t\tlet ratingValues = [];\n\t\tif(!!feedbacks && feedbacks.length>0){\n\t\t\tfor(let feedback of feedbacks){\n\t\t\t\tlet rating = FoodFeedbackHelper.getRating(feedback);\n\t\t\t\tif(rating!==undefined && rating!==null){\n\t\t\t\t\tratingValues.push(rating);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ratingValues;\n\t}\n\n\tfunction getAmountLikes(feedbacks){\n\t\tlet ratingValues = getRatingValues(feedbacks);\n\t\tlet amountLikes = 0;\n\t\tfor(let ratingValue of ratingValues){\n\t\t\tif(FoodRatingConstant.isRatingAbouveAvg(ratingValue)){\n\t\t\t\tamountLikes++;\n\t\t\t}\n\t\t}\n\t\treturn amountLikes;\n\t}\n\n\tfunction getAmountDislikes(feedbacks){\n\t\tlet ratingValues = getRatingValues(feedbacks);\n\t\tlet amountDislikes = 0;\n\t\tfor(let ratingValue of ratingValues){\n\t\t\tif(FoodRatingConstant.isRatingBelowAvg(ratingValue)){\n\t\t\t\tamountDislikes++;\n\t\t\t}\n\t\t}\n\t\treturn amountDislikes;\n\t}\n\n\tfunction calculateAvg(feedbacks){\n\t\tif(!!feedbacks && feedbacks.length>0){\n\t\t\tlet sum = 0;\n\t\t\tlet amount = 0;\n\t\t\tfor(let feedback of feedbacks){\n\t\t\t\tlet rating = feedback?.rating;\n\t\t\t\tif(rating!==undefined && rating!==null){\n\t\t\t\t\tsum+=rating;\n\t\t\t\t\tamount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet avg = sum/amount;\n\t\t\treturn avg;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tfunction convertHumanReadableNumber(num){\n\t\tif(num>=1000){\n\t\t\treturn num/1000+\"k\";\n\t\t}\n\t\treturn num;\n\t}\n\n\tfunction renderSingleFoodRating(amountRatings, ratingType, ratingValue){\n\t\tlet renderedAmount = null;\n\t\tif(foodratings_amount_display){\n\t\t\trenderedAmount = (\n\t\t\t\t<>\n\t\t\t\t\t<View style={{width: 18}}></View>\n\t\t\t\t\t<Text>{convertHumanReadableNumber(amountRatings)}</Text>\n\t\t\t\t</>\n\t\t\t)\n\t\t}\n\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<View style={{alignItems: \"center\", flexDirection: \"row\"}}>\n\t\t\t\t\t<FoodRatingSingle updateOtherValues={true} food_id={food_id} ratingValue={ratingValue} ratingType={ratingType} />\n\t\t\t\t\t{renderedAmount}\n\t\t\t\t</View>\n\t\t\t\t<View style={{width: 30}}></View>\n\t\t\t</>\n\t\t)\n\t}\n\n\tfunction renderOnlyLikes(){\n\t\treturn renderSingleFoodRating(amountLikeRatings, RatingType.hearts, FoodRatingConstant.maxRatingValue)\n\t}\n\n\tfunction renderLikeAndDislike(){\n\t\treturn [\n\t\t\t\trenderSingleFoodRating(amountLikeRatings, RatingType.likes, FoodRatingConstant.maxRatingValue),\n\t\t\t\trenderSingleFoodRating(amountDislikeRatings, RatingType.likes, FoodRatingConstant.minRatingValue)\n\t\t]\n\t}\n\n\tfunction renderSmily(ratingValue){\n\t\treturn <FoodRatingSingle updateOtherValues={true} food_id={food_id} ratingValue={ratingValue} ratingType={RatingType.smilies} />\n\t}\n\n\tfunction renderStar(ratingValue){\n\t\treturn <FoodRatingSingle updateOtherValues={true} food_id={food_id} ratingValue={ratingValue} ratingType={RatingType.stars} />\n\t}\n\n\tfunction renderAvg() {\n\t\tif(foodratings_avg_display){\n\t\t\treturn(<Text>{\"(\"+others_users_avg_rating_with_fraction+\")\"}</Text>)\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tfunction renderMultipleSelections(itemRenderFunction){\n\t\tlet renderedSelections = [];\n\t\tlet steps = 1;\n\t\tfor(let ratingValue=FoodRatingConstant.minRatingValue; ratingValue<=FoodRatingConstant.maxRatingValue; ratingValue+=steps){\n\t\t\trenderedSelections.push(\n\t\t\t\t\titemRenderFunction(ratingValue)\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<View style={{flexDirection: \"row\"}}>\n\t\t\t\t\t{renderedSelections}\n\t\t\t\t</View>\n\t\t\t\t{renderAvg()}\n\t\t\t</>\n\t\t)\n\t}\n\n\tfunction renderRatingType(){\n\t\tif(!foodSettings && !ratingType){\n\t\t\treturn <Skeleton />\n\t\t}\n\n\t\tswitch (ratingType){\n\t\t\tcase RatingType.disabled: return null;\n\t\t\tcase RatingType.hearts: return renderOnlyLikes();\n\t\t\tcase RatingType.likes: return renderLikeAndDislike();\n\t\t\tcase RatingType.stars: return renderMultipleSelections(renderStar.bind(null));\n\t\t\tcase RatingType.smilies: return renderMultipleSelections(renderSmily.bind(null));\n\t\t\tdefault: return null\n\t\t}\n\t}\n\n\treturn(\n\t\t\t<View style={{flexDirection: \"row\", width: \"100%\", alignItems: \"center\"}}>\n\t\t\t\t{renderRatingType()}\n\t\t\t</View>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Skeleton, View} from \"native-base\";\nimport {Icon, TextWithIcon} from \"../../../../kitcheningredients\";\nimport {useSynchedSettingsFoods} from \"../../../helper/synchedJSONState\";\nimport {FoodRatingConstant} from \"./foodrating/FoodRatingConstant\";\n\nexport enum RatingType{\n\tdisabled=\"disabled\",\n\thearts = \"hearts\",\n\tlikes = \"likes\",\n\tstars= \"stars\",\n\tsmilies=\"smilies\"\n}\nexport interface AppState{\n\tuserRating?: number,\n\ttext?: any,\n\tisActive?: boolean,\n}\nexport const FoodRatingDisplay: FunctionComponent<AppState> = (props) => {\n\n\tif(props.userRating === undefined || props.userRating === null){\n\t\treturn <Icon style={{color: \"transparent\"}} name={\"thumb-up\"} />; //render placeholder\n\t}\n\n\tconst userRating = props.userRating;\n\tconst [foodSettings, setFoodSettings] = useSynchedSettingsFoods()\n\tconst ratingType = props.ratingType || foodSettings?.ratings_type\n\n\n\tfunction renderOnlyLikes(){\n\t\tlet icon = FoodRatingConstant.isRatingAbouveAvg(userRating) ? \"heart\" : \"heart-outline\";\n\t\treturn (\n\t\t\t<View style={{flexDirection: \"row\", width: \"100%\"}}>\n\t\t\t\t<Icon name={icon}>{props.text}</Icon>\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction renderLikeAndDislike(){\n\t\tif(FoodRatingConstant.isRatingAbouveAvg(userRating)){\n\t\t\treturn(\n\t\t\t\t<View style={{flexDirection: \"row\", width: \"100%\"}}>\n\t\t\t\t\t<Icon name={\"thumb-up\"}>{props.text}</Icon>\n\t\t\t\t</View>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<View style={{flexDirection: \"row\", width: \"100%\"}}>\n\t\t\t\t\t<Icon name={\"thumb-down\"}>{props.text}</Icon>\n\t\t\t\t</View>\n\t\t\t)\n\t\t}\n\t}\n\n\tfunction renderSmily(ratingValue){\n\t\tlet smily_5 = \"emoticon\";\n\t\tlet smily_4 = \"emoticon-happy\";\n\t\tlet smily_3 = \"emoticon-neutral\";\n\t\tlet smily_2 = \"emoticon-sad\";\n\t\tlet smily_1 = \"emoticon-cry\";\n\n\t\tlet name = \"emoticon-cool\";\n\n\t\tswitch (ratingValue){\n\t\t\tcase 5: name = smily_5; break;\n\t\t\tcase 4: name = smily_4; break;\n\t\t\tcase 3: name = smily_3; break;\n\t\t\tcase 2: name = smily_2; break;\n\t\t\tcase 1: name = smily_1; break;\n\t\t}\n\n\t\tif(!props.isActive){\n\t\t\tname+=\"-outline\";\n\t\t}\n\n\t\treturn(\n\t\t\t<Icon name={name}>{props?.text}</Icon>\n\t\t)\n\t}\n\n\tfunction renderStar(ratingValue){\n\t\tlet name = \"star-outline\";\n\t\tif(props.isActive){\n\t\t\tname = \"star\";\n\t\t}\n\n\t\treturn(\n\t\t\t<TextWithIcon icon={name}>{props?.text || ratingValue}</TextWithIcon>\n\t\t)\n\t}\n\n\tfunction renderRatingType(){\n\t\tif(!foodSettings && !ratingType){\n\t\t\treturn <Skeleton />\n\t\t}\n\n\t\tswitch (ratingType){\n\t\t\tcase RatingType.disabled: return null;\n\t\t\tcase RatingType.hearts: return renderOnlyLikes();\n\t\t\tcase RatingType.likes: return renderLikeAndDislike();\n\t\t\tcase RatingType.stars: return renderStar(userRating);\n\t\t\tcase RatingType.smilies: return renderSmily(userRating);\n\t\t\tdefault: return null\n\t\t}\n\t}\n\n\treturn renderRatingType()\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {Icon, Navigation, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {SettingsRow, SettingsRowProps} from \"./SettingsRow\";\nimport {View} from \"native-base\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\ninterface AppState {\n    destinationComponent: FunctionComponent,\n    destinationParams?: any\n    accessibilityLabel: any\n\n}\nexport const SettingsRowNavigator: FunctionComponent<SettingsRowProps & AppState> = ({accessibilityLabel, ...props}) => {\n\n    let rightIcon = (\n        <Icon name={\"chevron-right\"}  />\n    )\n\n    const translationNavigateTo = useAppTranslation(\"navigateTo\")\n    const accessibilityLabelWithNavigation = translationNavigateTo+\": \"+accessibilityLabel;\n\n    return(\n        <SettingsRow accessibilityRole={AccessibilityRoles.link} accessibilityLabel={accessibilityLabelWithNavigation} {...props} rightIcon={props?.rightIcon || rightIcon} onPress={() => {\n            if(!!props.onPress){\n                props.onPress();\n            } else {\n                Navigation.navigateTo(props.destinationComponent, {showbackbutton: true, ...props?.destinationParams})\n//                NavigatorHelper.navigateWithoutParams(props.destinationComponent, false, {showbackbutton: true, ...props?.destinationParams})\n            }\n        }} />\n    )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {SettingsRow} from \"../../settings/SettingsRow\";\nimport {Navigation} from \"../../../../kitcheningredients\";\nimport {DateHelper} from \"../../../helper/DateHelper\";\nimport {FoodRatingDisplay} from \"./FoodRatingDisplay\";\nimport {SettingsRowNavigator} from \"../../settings/SettingsRowNavigator\";\nimport {FoodDetails} from \"../../../screens/food/FoodDetails\";\nimport {FoodFeedbackHelper} from \"../../../helper/FoodFeedbackHelper\";\nimport {PermissionHelper} from \"../../../helper/PermissionHelper\";\n\nexport interface AppState{\n\tfeedback: any,\n\tnavigateToFood?: boolean,\n\tleftContent?: any,\n}\nexport const FoodFeedbackRow: FunctionComponent<AppState> = (props) => {\n\n\tconst amountOfLines = 3;\n\n\tlet isAdmin = PermissionHelper.isAdmin();\n\n\tconst navigateToFood = props.navigateToFood ?? false;\n\tconst feedback = props.feedback;\n\tconst foods_id = feedback?.foods_id;\n\tlet content = null;\n\tif(!!feedback?.comment){\n\t\tcontent = '\"'+feedback?.comment+'\"';\n\t}\n\tlet renderedText = <Text italic={true} selectable={true} numberOfLines={amountOfLines}>{content}</Text>\n\n\tlet date = FoodFeedbackHelper.getDate(feedback);\n\tlet renderedDate = <Text sub={true}>{DateHelper.formatOfferDateToReadable(date, true, false)}</Text>\n\tlet rightContent = <View>\n\t\t{renderedDate}\n\t</View>\n\tlet customLeftContent = props.leftContent;\n\tlet leftContent = (\n\t\t<View style={{flex: 1, alignItems: \"center\", flexDirection: \"row\"}}>\n\t\t\t{customLeftContent}\n\t\t\t<FoodRatingDisplay userRating={feedback?.rating} isActive={true} />\n\t\t</View>\n\t)\n\n\tif(navigateToFood){\n\t\treturn (\n\t\t\t<View style={{flex: 1, width: \"100%\"}}>\n\t\t\t\t<SettingsRowNavigator leftContent={\n\t\t\t\t\t<View style={{flex: 1, flexDirection: \"column\", justifyContent: \"space-between\"}}>\n\t\t\t\t\t\t{renderedText}\n\t\t\t\t\t\t<View style={{alignItems: \"flex-end\"}}>\n\t\t\t\t\t\t\t{renderedDate}\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t} rightIcon={null} leftIcon={leftContent} onPress={\n\t\t\t\t\t() => {\n\t\t\t\t\t\tNavigation.navigateTo(FoodDetails, {id: \"\"+foods_id, showbackbutton: true})\n//\t\t\t\t\t\tNavigatorHelper.navigateWithoutParams(FoodDetails, false, {id: \"\"+foods_id, showbackbutton: true});\n\t\t\t\t\t}\n\t\t\t\t} />\n\t\t\t</View>\n\t\t);\n\t}\n\n\treturn (\n\t\t<View style={{flex: 1, width: \"100%\"}}>\n\t\t\t<SettingsRow leftContent={renderedText} leftIcon={leftContent} rightIcon={rightContent} />\n\t\t</View>\n\t);\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {SettingsRow} from \"../../settings/SettingsRow\";\nimport {MyActionsheet} from \"../../../../kitcheningredients\";\nimport {SettingsSpacer} from \"../../settings/SettingsSpacer\";\nimport {FoodFeedbackRow} from \"./FoodFeedbackRow\";\nimport {FoodFeedbackHelper} from \"../../../helper/FoodFeedbackHelper\";\nimport {AppTranslation, useAppTranslation} from \"../../translations/AppTranslation\";\nimport {PermissionHelper} from \"../../../helper/PermissionHelper\";\n\nexport enum FoodFeedbackSortType{\n\tnewest = \"newest\",\n\toldest = \"oldest\",\n\tmost_liked = \"most_liked\",\n\tmost_disliked = \"most_disliked\",\n}\n\nexport interface AppState{\n\tfeedbacks?: any\n\tcustomRender?: any\n}\nexport const FoodFeedbackList: FunctionComponent<AppState> = (props) => {\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props])\n\n\tconst feedbacks = props.feedbacks || [];\n\n\tconst translation = {\n\t\t[FoodFeedbackSortType.newest]: useAppTranslation(\"newest\"),\n\t\t[FoodFeedbackSortType.oldest]: useAppTranslation(\"oldest\"),\n\t\t[FoodFeedbackSortType.most_liked]: useAppTranslation(\"mostLiked\"),\n\t\t[FoodFeedbackSortType.most_disliked]: useAppTranslation(\"mostDisliked\"),\n\t}\n\n\tconst sortByOptions = Object.keys(translation);\n\n\tconst [sortBy, setSortBy] = useState(sortByOptions[0]);\n\tconst actionsheet = MyActionsheet.useActionsheet();\n\tlet sortedFeedbacks = sortFeedbacks(feedbacks);\n\n\n\tfunction sortFeedbacks(feedbacks: any[]) {\n\t\tif(!!feedbacks && feedbacks.length > 0){\n\t\t\tif (sortBy === FoodFeedbackSortType.newest) {\n\t\t\t\treturn feedbacks.sort((a, b) => FoodFeedbackHelper.getDate(b) - FoodFeedbackHelper.getDate(a));\n\t\t\t} else if (sortBy === FoodFeedbackSortType.oldest) {\n\t\t\t\treturn feedbacks.sort((a, b) => FoodFeedbackHelper.getDate(a) - FoodFeedbackHelper.getDate(b));\n\t\t\t}  else if (sortBy === FoodFeedbackSortType.most_liked) {\n\t\t\t\treturn feedbacks.sort((a, b) => FoodFeedbackHelper.getRating(b) - FoodFeedbackHelper.getRating(a));\n\t\t\t} else if (sortBy === FoodFeedbackSortType.most_disliked) {\n\t\t\t\treturn feedbacks.sort((a, b) => FoodFeedbackHelper.getRating(a) - FoodFeedbackHelper.getRating(b));\n\t\t\t}\n\t\t}\n\n\t\treturn feedbacks;\n\t}\n\n\tfunction renderSortButton(){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<SettingsRow leftContent={<View><AppTranslation id={\"sortBy\"} postfix={\": \"+translation[sortBy]} /></View>} leftIcon={\"sort\"} rightIcon={null} onPress={() => {\n\t\t\t\t\tactionsheet.show({\n\t\t\t\t\t\ttitle: <AppTranslation id={\"sortBy\"} />,\n\t\t\t\t\t\tonOptionSelect: (key) => {\n\t\t\t\t\t\t\t//console.log(key);\n\t\t\t\t\t\t\tsetSortBy(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, translation);\n\t\t\t\t}} />\n\t\t\t\t<SettingsSpacer />\n\t\t\t</>\n\t\t)\n\t}\n\n\tlet output = [];\n\n\tif(!!sortedFeedbacks && sortedFeedbacks.length > 0){\n\t\toutput.push(renderSortButton())\n\t\tfor(let feedback of feedbacks){\n\t\t\tif(props?.customRender){\n\t\t\t\toutput.push(props.customRender(feedback));\n\t\t\t} else {\n\t\t\t\toutput.push(<FoodFeedbackRow feedback={feedback} />)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output;\n\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Input, useToast, View} from \"native-base\";\nimport {TouchableOpacity} from \"react-native\";\nimport {SettingsRow} from \"../../settings/SettingsRow\";\nimport {MyThemedBox} from \"../../../../kitcheningredients\"\nimport {Icon, useThemeTextColor} from \"../../../../kitcheningredients\";\nimport {useSynchedSettingsFoods} from \"../../../helper/synchedJSONState\";\nimport {FoodFeedbackAPI} from \"./FoodFeedbackAPI\";\nimport {useSynchedProfile, useSynchedProfileCanteen} from \"../../profile/ProfileAPI\";\nimport {FoodLoader} from \"../FoodLoader\";\nimport {FoodFeedbackList} from \"./FoodFeedbackList\";\nimport {PermissionHelperComponent} from \"../../../helper/PermissionHelperComponent\";\nimport {AppTranslation, useAppTranslation} from \"../../translations/AppTranslation\";\n\nexport enum CommentType{\n\tdisabled=\"disabled\",\n\tread = \"read\",\n\twrite = \"write\",\n\treadAndWrite= \"readAndWrite\",\n}\nexport interface AppState{\n\tfood_id?: any\n}\nexport const FoodCommentsComponent: FunctionComponent<AppState> = (props) => {\n\n\tconst toast = useToast();\n\n//\tlet uploadPermission = PermissionHelper.canUpdate(\"foods_feedbacks\", itemImageField);\n\n\tconst [profile, setProfile] = useSynchedProfile();\n\tconst commentsWriteAComment = useAppTranslation(\"commentsWriteAComment\");\n\tconst commentsBeTheFirstToComment = useAppTranslation(\"commentsBeTheFirstToComment\")\n\n\tconst textUpdated = useAppTranslation(\"updated\");\n\tconst textDeleted = useAppTranslation(\"deleted\")\n\n\tconst textColor = useThemeTextColor()\n\n\tconst [profileCanteenId, setProfileCanteenId] = useSynchedProfileCanteen();\n\n\tconst [foodSettings, setFoodSettings] = useSynchedSettingsFoods()\n\tconst foodcommentstype = props.foodcommentstype || foodSettings?.comments_type\n\n\tconst [usersRemoteFeedback, setUsersRemoteFeedback] = useState(undefined);\n\tconst hasUsersRemoteFeedback = usersRemoteFeedback !== undefined;\n\n\tconst food_id = props.food_id;\n\n\tconst [synchedFeedbacks, setSynchedFeedbacks] = FoodFeedbackAPI.useSynchedFoodFeedbacks(food_id);\n\tconst feedbacks = synchedFeedbacks || [];\n\n\tconst feedbacksWithComments = getFeedbacksWithComments(feedbacks);\n\tlet amountFeedbacksWithComments = feedbacksWithComments?.length\n\n\tasync function load(){\n\t\tlet reloadedFood = await FoodLoader.loadFoodDetails(food_id);\n\t\tsetSynchedFeedbacks(reloadedFood?.feedbacks);\n\t\tlet usersFeedback = await FoodFeedbackAPI.searchUsersFeedback(profile, food_id);\n\t\tsetUsersRemoteFeedback(usersFeedback);\n\t\tif(!!usersFeedback && !!usersFeedback?.comment){\n\t\t\tsetCommentText(usersFeedback?.comment);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tload()\n\t}, [props])\n\n\n\tif(!foodcommentstype || foodcommentstype===CommentType.disabled){\n\t\treturn null;\n\t}\n\n\tconst [commentText, setCommentText] = useState(usersRemoteFeedback?.comment || \"\");\n\n\n\tfunction getFeedbacksWithComments(feedbacks){\n\t\tlet feedbacksWithComments = [];\n\t\tif(!!feedbacks && feedbacks.length > 0){\n\t\t\tfor(let feedback of feedbacks){\n\t\t\t\tif(!!feedback?.comment && feedback?.comment!==\"\"){\n\t\t\t\t\tfeedbacksWithComments.push(feedback);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn feedbacksWithComments;\n\t}\n\n\tfunction renderComments(){\n\t\tif(foodcommentstype===CommentType.read || foodcommentstype===CommentType.readAndWrite){\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<SettingsRow leftIcon={<AppTranslation id={\"comments\"} postfix={\" (\"+amountFeedbacksWithComments+\")\"} />} />\n\t\t\t\t\t<FoodFeedbackList feedbacks={feedbacksWithComments}  />\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\treturn <SettingsRow leftIcon={<AppTranslation id={\"commentsOtherReadingDisabled\"} />} />;\n\t}\n\n\tasync function handleSyncComment(profile, deleteComment: boolean){\n\t\tlet text = commentText+\"\";\n\t\tif(text===\"\" || deleteComment){\n\t\t\ttext=null;\n\t\t}\n\t\tlet success = await FoodFeedbackAPI.createOrUpdateComment(profile, food_id, text, profileCanteenId);\n\t\tif(!!success){\n\t\t\tlet description = !!text ? textUpdated : textDeleted;\n\t\t\ttoast.show({\n\t\t\t\tdescription: description\n\t\t\t});\n\t\t\tlet reloadedFood = await FoodLoader.loadFoodDetails(food_id);\n\t\t\tsetSynchedFeedbacks(reloadedFood?.feedbacks);\n\t\t}\n\t}\n\n\tfunction renderOwnComment(){\n\t\tif(foodcommentstype===CommentType.write || foodcommentstype===CommentType.readAndWrite){\n\t\t\tlet sendIcon = <Icon name={\"send\"} />\n\n\t\t\tlet placeHolder = commentsWriteAComment;\n\t\t\tif(!amountFeedbacksWithComments){\n\t\t\t\tplaceHolder = commentsBeTheFirstToComment;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t\t<PermissionHelperComponent collection={FoodFeedbackAPI.collection} fields={[\"comment\"]} actions={[\"create\", \"update\", \"delete\"]} >\n\t\t\t\t\t\t<MyThemedBox key={\"food_name\"} _shadeLevel={3} style={{flexDirection: \"row\", paddingVertical: \"1%\", paddingHorizontal: \"1%\"}}>\n\t\t\t\t\t\t\t<View style={{flexDirection: \"row\", flex: 1, width: \"100%\"}}>\n\t\t\t\t\t\t\t\t<Input placeholderTextColor={textColor} width={\"100%\"} numberOfLines={4} size={\"lg\"} multiline={true} placeholder={placeHolder} style={{flex: 1, flexGrow: 1}} value={commentText} onChangeText={async (text) => {\n\t\t\t\t\t\t\t\t\tsetCommentText(text);\n\t\t\t\t\t\t\t\t\tif(hasUsersRemoteFeedback && (!text || text===\"\")){\n\t\t\t\t\t\t\t\t\t\thandleSyncComment(profile, true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t<View style={{marginHorizontal: 5, marginVertical: 5}}>\n\t\t\t\t\t\t\t\t<TouchableOpacity onPress={() => {\n\t\t\t\t\t\t\t\t\thandleSyncComment(profile, false)\n\t\t\t\t\t\t\t\t}} style={{justifyContent: \"center\", flexDirection: \"row\", backgroundColor: \"orange\", borderRadius: 10}} >\n\t\t\t\t\t\t\t\t\t<View style={{margin: 10}}>{sendIcon}</View>\n\t\t\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</MyThemedBox>\n\t\t\t\t\t</PermissionHelperComponent>\n\t\t\t\t</View>\n\t\t\t);\n\t\t}\n\t\treturn <SettingsRow leftIcon={<AppTranslation id={\"commentsWritingCommentsDisabled\"} />} />;\n\t}\n\n\treturn (\n\t\t<View>\n\t\t\t{renderOwnComment()}\n\t\t\t{renderComments()}\n\t\t</View>\n\t);\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Text, View} from \"native-base\";\nimport ImageViewer from \"react-native-image-zoom-viewer-fixed\";\nimport {Modal, TouchableOpacity} from \"react-native\";\nimport {\n\tIcon,\n\tNavigatorHelper,\n\tKitchenSafeAreaView,\n\tgetDirectusImageUrl,\n\tConfigHolder,\n\tNavigation\n} from \"../../../kitcheningredients\";\nimport {ViewPercentageBorderradius} from \"../../helper/ViewPercentageBorderradius\";\n\nexport interface AppState{\n\tassetId: string;\n}\n\nexport const ImageFullscreen: FunctionComponent<AppState> = (props) => {\n\n\t//TODO Refactor FoodImageFullscreen into FullscreenImage and pass only the assetId\n\n\tlet id = props?.route?.params.id;\n\n\tconst [history, setHistory] = Navigation.useNavigationHistory();\n\tconst [showCloseButton, setShowCloseButton] = useState(true);\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props?.route?.params])\n\n\tlet smallest = props?.dimension?.width > props?.dimension?.height ? props?.dimension?.height : props?.dimension?.width;\n\n\t//\n\n\tasync function handleClose(){\n\t\tif(history?.length >= 1){\n\t\t\tNavigation.navigateBack()\n//\t\t\tNavigatorHelper.goBack();\n\t\t} else {\n\t\t\tNavigation.navigateHome()\n//\t\t\tNavigatorHelper.navigateHome()\n\t\t}\n\t}\n\n\tfunction renderImage(){\n\t\tif(!!id){\n\t\t\tlet url = getDirectusImageUrl({assetId: id});\n\n\t\t\tconst images = [{\n\t\t\t\t// Simplest usage.\n\t\t\t\turl: url,\n\n\t\t\t\t// width: number\n\t\t\t\t// height: number\n\t\t\t\t// Optional, if you know the image size, you can set the optimization performance\n\t\t\t}];\n\n\t\t\treturn (\n\t\t\t\t\t<ImageViewer\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetShowCloseButton(!showCloseButton)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{width: props?.dimension?.width, height: props?.dimension?.height, backgroundColor: \"black\"}} imageUrls={images}/>\n\t\t\t)\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction renderCloseButton(){\n\t\tif(showCloseButton){\n\t\t\treturn (\n\t\t\t\t<View style={{position: \"absolute\", top: 0, right: 0, opacity: 0.5}}>\n\t\t\t\t\t<TouchableOpacity onPress={handleClose}>\n\t\t\t\t\t\t<ViewPercentageBorderradius style={{borderRadius: \"100%\", padding: 10, margin: 10, backgroundColor: \"gray\",alignItems: \"center\", justifyContent: \"center\", }}>\n\t\t\t\t\t\t\t<Icon name={\"close\"} color=\"white\" />\n\t\t\t\t\t\t</ViewPercentageBorderradius>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</View>\n\t\t\t)\n\t\t}\n\t\treturn null;\n\t}\n\n\treturn(\n\t\t<KitchenSafeAreaView>\n\t\t\t<View style={{width: props?.dimension?.width, height: props?.dimension?.height, backgroundColor: \"black\", alignItems: \"center\", justifyContent: \"center\"}}>\n\t\t\t\t<View style={{width: props?.dimension?.width, height: props?.dimension?.height, alignItems: \"center\", justifyContent: \"center\", backgroundColor: \"black\"}}>\n\t\t\t\t\t{renderImage()}\n\t\t\t\t</View>\n\t\t\t\t{renderCloseButton()}\n\t\t\t</View>\n\t\t</KitchenSafeAreaView>\n\t)\n}\n","import {FoodoffersMarkings, FoodsMarkings, Markings, ProfilesMarkings} from \"../../directusTypes/types\";\nimport {useSynchedProfile} from \"./ProfileAPI\";\nimport {useSynchedMarkingsDict} from \"../../helper/synchedJSONState\";\n\nconst FIELD_MARKINGS_ID = \"markings_id\";\n\nfunction useSynchedProfileMarkings(): ProfilesMarkings[] {\n    const [profile, setProfile] = useSynchedProfile();\n    // @ts-ignore\n    return profile?.markings || [];\n}\n\nexport function useSynchedProfileMarking(marking_id: number): [profileMarking: ProfilesMarkings, setDislikes: (dislikes: boolean) => any, removeProfileMarking: () => any] {\n    const [profilesMarkingsDict, setProfileMarking, removeProfileMarking] = useSynchedProfileMarkingsDict();\n    let profileMarking = profilesMarkingsDict[marking_id];\n\n    const setProfileMarkingDislikes = (dislikes: boolean) => {\n        setProfileMarking(marking_id, dislikes);\n    }\n\n    const removeProfileMarkingSingle = () => {\n        removeProfileMarking(marking_id);\n    }\n\n    return [\n        profileMarking, setProfileMarkingDislikes, removeProfileMarkingSingle\n    ]\n}\n\nexport function useSynchedProfileMarkingsDict(): [value: {[key: string]: ProfilesMarkings}, setProfileMarking: (markingId: number, dislikes: boolean) => any, removeProfileMarking: (markingId: number) => any] {\n    const [profile, setProfile] = useSynchedProfile();\n\n    const markings = useSynchedProfileMarkings();\n    let profilesMarkingsDict = {};\n    if(!!markings){\n        for(let marking of markings){\n            profilesMarkingsDict[marking?.[FIELD_MARKINGS_ID]] = marking;\n        }\n    }\n\n    const privateSetMarkings = (markingId: number, dislikes: boolean, remove: boolean) => {\n        let markingsDictCopy = JSON.parse(JSON.stringify(profilesMarkingsDict));\n        markingsDictCopy[markingId] = {[FIELD_MARKINGS_ID]: markingId, profiles_id: profile?.id, dislikes: !!dislikes};\n        if(remove){\n            delete markingsDictCopy[markingId];\n        }\n\n        let markingsIds = Object.keys(markingsDictCopy);\n        let newMarkings = [];\n        for(let markingId of markingsIds){\n            newMarkings.push(markingsDictCopy[markingId]);\n        }\n        // @ts-ignore\n        profile.markings = newMarkings;\n        setProfile(profile);\n    }\n\n    const setProfileMarking = (markingId: number, dislikes: boolean) => {\n        privateSetMarkings(markingId, dislikes, false);\n    }\n\n    const removeProfileMarking = (markingId: number) => {\n        privateSetMarkings(markingId, false, true);\n    }\n\n    return [\n        profilesMarkingsDict, setProfileMarking, removeProfileMarking\n    ]\n}\n\nexport function countDislikedMarkings(markings, ownMarkingsDict){\n    return getDislikedMarkings(markings, ownMarkingsDict).length;\n}\n\nexport function getDislikedMarkings(markings: Markings[], ownMarkingsDict){\n    let dislikedMarkings = [];\n    if(!!markings){\n        for(let marking of markings){\n            let dislikeValue = ownMarkingsDict[marking?.id]?.dislikes;\n            if(dislikeValue===\"true\" || dislikeValue===true){\n                dislikedMarkings.push(marking);\n            }\n        }\n    }\n    return dislikedMarkings;\n}\n\nexport function useMarkingsFromFoodofferMarkings(foodoffer_markings: FoodoffersMarkings[] | FoodsMarkings[], allMarkingsDictPassed?){\n    let usedAllMarkingsDict = allMarkingsDictPassed;\n    if(!usedAllMarkingsDict){\n        const [allMarkingsDict, setAllMarkingsDict] = useSynchedMarkingsDict();\n        usedAllMarkingsDict = allMarkingsDict;\n    }\n\n    let markings = [];\n    if(!!foodoffer_markings){\n        for(let foodoffer_marking of foodoffer_markings){\n            let marking_id = foodoffer_marking?.[FIELD_MARKINGS_ID];\n            if(!!marking_id){\n                markings.push(usedAllMarkingsDict[marking_id]);\n            }\n        }\n    }\n    return markings;\n}\n\nexport function countLikedMarkings(markings, ownMarkingsDict){\n    let count = 0;\n    if(!!markings){\n        for(let marking of markings){\n            let dislikeValue = ownMarkingsDict[marking?.[FIELD_MARKINGS_ID]]?.dislikes;\n            if(dislikeValue===\"false\" || dislikeValue===false){\n                count++;\n            }\n        }\n    }\n    return count;\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const DebugIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"bug\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Markings} from \"../../directusTypes/types\";\nimport {useDirectusTranslation} from \"../translations/DirectusTranslationUseFunction\";\nimport {Text} from \"native-base\";\n\nexport const useMarkingName: (marking: Markings) => string = (marking: Markings) => {\n\tconst translations = marking?.translations;\n\tconst ignoreMissingTranslation = !marking;\n\tlet translatedName = useDirectusTranslation(translations, \"name\");\n\n\tlet name = translatedName;\n\tlet renderedLabel = marking?.label || \"\";\n\tif(marking?.label){\n\t\trenderedLabel = \"(\"+marking?.label+\")\";\n\t}\n\tlet rowContent = name+\" \"+renderedLabel;\n\treturn rowContent\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Markings} from \"../../directusTypes/types\";\nimport {useDirectusTranslation} from \"../translations/DirectusTranslationUseFunction\";\nimport {Text} from \"native-base\";\nimport {useMarkingName} from \"./UseMarkingName\";\n\ninterface AppState {\n\tmarking?: Markings,\n}\nexport const MarkingName: FunctionComponent<AppState> = (props) => {\n\tlet rowContent = useMarkingName(props?.marking);\n\treturn  <Text selectable={true} >{rowContent}</Text>;\n}\n","export enum DefaultComponentBorderColors {\n\tlike = \"#80BA27\",\n\tdislike = \"red\",\n\tneutral = \"transparent\"\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {DefaultComponentBorderColors} from \"./DefaultComponentBorderColors\";\nimport {ViewPercentageBorderradius} from \"../../helper/ViewPercentageBorderradius\";\n\n\ninterface AppState {\n\thideBottomPartAndQuickRate?: boolean,\n\tborderRadius?: string | number,\n\tborderWidth?: number,\n\tborderColor?: string,\n\tlike?: boolean,\n\tdislike?: boolean,\n}\nexport const DetailsCardBorder: FunctionComponent<AppState> = (props) => {\n\n\tlet overlayBorderWidth = 2;\n\tif(props?.borderWidth !== undefined && props?.borderWidth !== null){\n\t\toverlayBorderWidth = props?.borderWidth;\n\t}\n\n\tconst borderOverlayStyle = {\n\t\theight: \"100%\",\n\t\twidth: \"100%\",\n\t\tposition: \"absolute\",\n\t\tborderRadius: props?.borderRadius,\n\t\tborderBottomLeftRadius: props?.borderRadius,\n\t\tborderBottomRightRadius: props?.borderRadius,\n\t\tpointerEvents: \"box-none\", //for web PointerEvents is a style not a prop\n\t\tborderWidth: overlayBorderWidth,\n        borderColor: \"transparent\"\n\t}\n\n\tif(props?.hideBottomPartAndQuickRate){\n\t\tborderOverlayStyle.borderBottomLeftRadius = 0;\n\t\tborderOverlayStyle.borderBottomRightRadius = 0;\n\t}\n\n\tif(!!props?.borderColor){\n\t\tborderOverlayStyle.borderColor = props?.borderColor;\n\t}\n\tif(props?.like === true){\n\t\tborderOverlayStyle.borderColor = DefaultComponentBorderColors.like;\n\t}\n\tif(props?.dislike === true){\n\t\tborderOverlayStyle.borderColor = DefaultComponentBorderColors.dislike;\n\t}\n\n\t// in react-native PointerEvents is a prop not a style\n\treturn(\n\t\t<ViewPercentageBorderradius style={borderOverlayStyle} pointerEvents=\"box-none\" />\n\t)\n}\n","import React, {FunctionComponent, useCallback, useState} from \"react\";\nimport {HStack, Text, Tooltip, View} from \"native-base\";\nimport {DirectusImage, Icon, KitchenSkeleton, DirectusIcon} from \"../../../kitcheningredients\";\nimport {useSynchedProfile} from \"../profile/ProfileAPI\";\nimport {SettingsRow} from \"../settings/SettingsRow\";\nimport {TouchableOpacity, Image} from \"react-native\";\nimport {useSynchedProfileMarking} from \"../profile/MarkingAPI\";\nimport {DebugIcon} from \"../icons/DebugIcon\";\nimport {useDebugMode} from \"../../helper/synchedJSONState\";\nimport {MarkingName} from \"./MarkingName\";\nimport {Markings} from \"../../directusTypes/types\";\nimport {DetailsCardBorder} from \"../detailsComponent/DetailsCardBorder\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {useMarkingName} from \"./UseMarkingName\";\nimport {MyTouchableOpacity} from \"../buttons/MyTouchableOpacity\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\ninterface AppState {\n\tmarking: Markings,\n\tonPress?: () => any\n}\nexport const MarkingSetting: FunctionComponent<AppState> = (props) => {\n\n\tconst marking = props?.marking || {};\n\tlet markingId = marking?.id;\n\n\tconst onPress = props?.onPress;\n\n\tconst markingName = useMarkingName(marking);\n\n\tconst [profile, setProfile] = useSynchedProfile();\n\tconst [profileMarking, setProfileMarking, removeProfileMarking] = useSynchedProfileMarking(markingId);\n\n\tconst translation_marking_like = useAppTranslation(\"marking_like\");\n\tconst translation_marking_like_undo = useAppTranslation(\"marking_like_undo\");\n\tconst translation_marking_dislike = useAppTranslation(\"marking_dislike\");\n\tconst translation_marking_dislike_undo = useAppTranslation(\"marking_dislike_undo\");\n\n\tconst [debug, setDebug] = useDebugMode()\n\tconst [showMore, setShowMore] = useState(false);\n\n\tlet dislikes = profileMarking?.dislikes;\n\tlet likes = dislikes===false;\n\n\tconst handleSelect = useCallback((nextDislikeState) => {\n\t\tif (!!profile) {\n\t\t\tif (nextDislikeState === true || nextDislikeState === false) {\n\t\t\t\tsetProfileMarking(nextDislikeState);\n\t\t\t} else {\n\t\t\t\tremoveProfileMarking();\n\t\t\t}\n\t\t}\n\t\tif (!!onPress) {\n\t\t\tonPress(marking, nextDislikeState);\n\t\t}\n\t}, [profile, onPress, setProfileMarking, removeProfileMarking]);\n\n\tconst renderLikeState = useCallback(() => {\n\t\tconst handleLikePress = () => { handleSelect(undefined) };\n\t\tconst handleUnlikePress = () => { handleSelect(false) };\n\n\t\tconst accessibilityLabel = likes ? translation_marking_like_undo : translation_marking_like;\n\t\tconst iconName = likes ? \"thumb-up\" : \"thumb-up-outline\";\n\n\t\treturn (\n\t\t\t<MyTouchableOpacity\n\t\t\t\t\taccessibilityState={{checked: likes}}\n\t\t\t\t\taccessibilityRole={AccessibilityRoles.switch}\n\t\t\t\t\taccessibilityLabel={`${accessibilityLabel}: ${markingName}`}\n\t\t\t\t\tonPress={likes ? handleLikePress : handleUnlikePress}>\n\t\t\t\t\t<Icon name={iconName} />\n\t\t\t</MyTouchableOpacity>\n\t\t);\n\t}, [likes, handleSelect, translation_marking_like, translation_marking_like_undo, markingName]);\n\n\n\tfunction renderDislikeState(){\n\t\tlet onPress = () => {handleSelect(undefined)};\n\t\tlet accessibilityLabel = translation_marking_dislike_undo;\n\t\tlet iconName = \"thumb-down\";\n\t\tif(!dislikes){\n\t\t\tonPress = () => {handleSelect(true)};\n\t\t\taccessibilityLabel = translation_marking_dislike;\n\t\t\ticonName = \"thumb-down-outline\";\n\t\t}\n\n\t\treturn(\n\t\t\t<MyTouchableOpacity\n\t\t\t\taccessibilityState={{checked: dislikes}}\n\t\t\t\taccessibilityRole={AccessibilityRoles.switch}\n\t\t\t\taccessibilityLabel={accessibilityLabel+\": \"+markingName}\n\t\t\t\tonPress={onPress}>\n\t\t\t\t<Icon name={iconName} />\n\t\t\t</MyTouchableOpacity>\n\t\t)\n\t}\n\n\tfunction renderSpacer(){\n\t\treturn <View style={{width: 18}} />\n\t}\n\n\tfunction renderDebugInformations(){\n\t\tif(debug && showMore){\n\t\t\treturn(\n\t\t\t\t<View>\n\t\t\t\t\t<Text>{JSON.stringify(profileMarking, null, 2)}</Text>\n\t\t\t\t\t<Text>{JSON.stringify(marking, null, 2)}</Text>\n\t\t\t\t</View>\n\t\t\t)\n\t\t}\n\t}\n\n\tfunction showMoreDebugInformations(){\n\t\tif(debug){\n\t\t\treturn [\n\t\t\t\t<TouchableOpacity onPress={() => {\n\t\t\t\t\tsetShowMore(!showMore)\n\t\t\t\t}}>\n\t\t\t\t\t<DebugIcon />\n\t\t\t\t</TouchableOpacity>,\n\t\t\t\trenderSpacer()\n\t\t\t]\n\t\t}\n\t}\n\n\tfunction renderMarkingIcon(marking){\n\t\tconst width = 24;\n\t\tlet icon = marking?.icon;\n\t\tlet image_url = marking?.image_url;\n\t\tlet image = marking?.image;\n\n\t\tif(!!icon){\n\t\t\treturn <DirectusIcon name={icon} width={width} />\n\t\t}\n\t\tif(!!image_url){\n\t\t\treturn <DirectusImage isPublic={true} url={image_url} style={{width: width, height: width}} />\n\t\t}\n\t\tif(!!image){\n\t\t\treturn <DirectusImage assetId={image} style={{width: width, height: width}} />\n\t\t}\n\t\treturn <View style={{opacity: 0}} ><Text selectable={false}><Icon name={\"bug\"} /></Text></View>\n\t}\n\n\tfunction renderMarking(marking){\n\t\tlet content = <Text>{JSON.stringify(marking)}</Text>\n\n\t\tif(!!marking?.id){\n\t\t\tlet rowContent = <MarkingName marking={marking} />\n\t\t\tlet markingIcon = renderMarkingIcon(marking);\n\n\t\t\tcontent = <View style={{flex: 1}}>\n\t\t\t\t<SettingsRow leftIcon={markingIcon} leftContent={rowContent} rightIcon={<View style={{flexDirection: \"row\"}}>\n\t\t\t\t\t{showMoreDebugInformations()}\n\t\t\t\t\t{renderLikeState()}\n\t\t\t\t\t{renderSpacer()}\n\t\t\t\t\t{renderDislikeState()}\n\t\t\t\t</View>} />\n\t\t\t\t{renderDebugInformations()}\n\t\t\t\t<DetailsCardBorder like={likes} dislike={dislikes} />\n\t\t\t</View>;\n\t\t}\n\n\n\t\treturn(\n\t\t\t<HStack alignItems=\"center\" space={4}>\n\t\t\t\t{content}\n\t\t\t</HStack>\n\t\t)\n\t}\n\n\treturn(\n\t\t<>\n\t\t\t{renderMarking(marking)}\n\t\t</>\n\t)\n}\n","import React, {FunctionComponent, useState} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tactive?: boolean;\n\tcolor?,\n\n}\nexport const NotificationIcon: FunctionComponent<AppState> = ({active, ...props}) => {\n\n\tconst iconName = active ? \"bell\" : \"bell-off\";\n\treturn <Icon name={iconName} {...props} color={props?.color} />\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {CrossLottie, Layout} from \"../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport notificationBell from \"../../assets/notificationBell.json\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {ProjectColoredCrossLottie} from \"./ProjectColoredCrossLottie\";\n\nexport const AnimationNotificationBell = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"40%\",\n\t\tsm: \"30%\",\n\t\tmd: Layout.WIDTH_MD*0.3,\n\t\tlg: Layout.WIDTH_LG*0.3,\n\t\txl: Layout.WIDTH_XL*0.3\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<ProjectColoredCrossLottie source={notificationBell} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","import {MyActionsheet} from \"../../../../kitcheningredients\";\nimport React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {useSynchedSettingsNotifications} from \"../../../helper/synchedJSONState\";\nimport {AppTranslation, useAppTranslation} from \"../../translations/AppTranslation\";\nimport {TouchableOpacityIgnoreChildEvents} from \"../../../helper/overlay/TouchableOpacityIgnoreChildEvents\";\nimport {AnimationNotificationBell} from \"../../animations/AnimationNotificationBell\";\nimport {MyTouchableOpacity} from \"../../buttons/MyTouchableOpacity\";\n\nexport type NotificationHelperComponentProps = {\n    onPress?: (nextValue: boolean) => any;\n    active: boolean;\n}\nexport const NotificationHelperComponentRemoteWeb: FunctionComponent<NotificationHelperComponentProps> = (props) => {\n\n    const [notficationSettings, setNotficationSettings] = useSynchedSettingsNotifications()\n    const actionsheet = MyActionsheet.useActionsheet();\n    const server_notification_email = notficationSettings?.email_enabled;\n\n    const translation_enable = useAppTranslation(\"enable\")\n    const translation_disable = useAppTranslation(\"disable\")\n\n    const translation_push_notification = useAppTranslation(\"push_notification\")\n    const translation_okay = useAppTranslation(\"okay\")\n    const translation_cancel = useAppTranslation(\"cancel\")\n    const translation_push_notification_currently_no_email_support = useAppTranslation(\"push_notification_currently_no_email_support\");\n\n    let actionsheetOptions = {};\n\n    function renderTouchable(actionsheetOptions, withoutOpacity = false){\n        return (\n            <TouchableOpacityIgnoreChildEvents\n                useDefaultOpacity={!withoutOpacity}\n                onPress={() => {\n                actionsheet.show(actionsheetOptions);\n            }}>\n                    {props.children}\n            </TouchableOpacityIgnoreChildEvents>\n        )\n    }\n\n    if(!server_notification_email){\n        actionsheetOptions = {\n            title: translation_push_notification,\n            acceptLabel: translation_okay,\n            cancelLabel: translation_cancel,\n            renderDescription: () => {\n                return(\n                    <View>\n                        <AnimationNotificationBell />\n                        <Text>{translation_push_notification_currently_no_email_support}</Text>\n                    </View>\n                )\n            }\n        }\n        return renderTouchable(actionsheetOptions);\n    } else {\n        let accessibilityLabel = props?.active ? translation_disable : translation_enable;\n\n        return (\n            <MyTouchableOpacity accessibilityLabel={translation_push_notification+\" \"+accessibilityLabel} onPress={() => {\n                if(props.onPress){\n                    let nextValue = !props.active;\n                    props.onPress(nextValue);\n                }\n            }} >\n                {props.children}\n            </MyTouchableOpacity>\n        )\n    }\n}\n","import * as Notifications from \"expo-notifications\";\nimport {useSynchedJSONState, ConfigHolder} from \"../../../kitcheningredients\";\nimport {SynchedStateKeys} from \"../synchedVariables/SynchedStateKeys\";\nimport {Platform} from \"react-native\";\n\n\nexport enum NotificationPermissionStatus {\n    GRANTED = \"granted\",\n    DENIED = \"denied\",\n    UNDETERMINED = \"undetermined\",\n}\nexport type NotificationPermissionType = {\n    status: NotificationPermissionStatus,\n    expires: string,\n    granted: string,\n    canAskAgain: boolean\n}\nexport type NotificationPushTokenType = {\n    data: string,\n}\nexport type NotificationObjType = {\n    permission: NotificationPermissionType,\n    pushtokenObj: NotificationPushTokenType\n}\nexport class NotificationHelper{\n\n    static getExperienceId(){\n        return ConfigHolder?.AppConfig?.experienceId;\n    }\n\n    static useNotificationPermission(): [NotificationObjType, (notificationObj: NotificationObjType) => void]{\n        const [notificationObj, setNotificationObjRaw] = useSynchedJSONState(SynchedStateKeys.SYNCHED_NotificationPermission);\n        const setNotificationObj = (newNotificationObj) => {\n            let newNotificationObjCopy: NotificationObjType = {...notificationObj};\n            if(newNotificationObj?.permission!==undefined){\n                newNotificationObjCopy.permission = newNotificationObj?.permission;\n            }\n            if(newNotificationObj?.pushtokenObj!==undefined){\n                newNotificationObjCopy.pushtokenObj = newNotificationObj?.pushtokenObj;\n            }\n            setNotificationObjRaw(newNotificationObj);\n        }\n        return [notificationObj, setNotificationObj];\n    }\n\n    static isDeviceNotificationPermissionDenied(notificationObj: NotificationObjType){\n        return notificationObj?.permission?.status === NotificationPermissionStatus.DENIED;\n    }\n\n    static isDeviceNotificationPermissionGranted(notificationObj: NotificationObjType){\n        return notificationObj?.permission?.status === NotificationPermissionStatus.GRANTED;\n    }\n\n    static isDeviceNotificationPermissionUndetermined(notificationObj: NotificationObjType){\n        return notificationObj?.permission?.status === NotificationPermissionStatus.UNDETERMINED;\n    }\n\n    static getExperienceId(){\n        return ConfigHolder?.AppConfig?.experienceId;\n    }\n\n    static async loadDeviceNotificationPermission(): Promise<NotificationObjType>{\n        let permission = await NotificationHelper.getDeviceNotificationPermission();\n        let pushtokenObj = undefined;\n        if(permission?.status === NotificationPermissionStatus.GRANTED){\n            const experienceId = NotificationHelper.getExperienceId();\n            pushtokenObj = await Notifications.getExpoPushTokenAsync({\n                experienceId: experienceId,\n            });\n        }\n        return {\n            permission: permission,\n            pushtokenObj: pushtokenObj\n        }\n    }\n\n    private static async getDeviceNotificationPermission(): Promise<NotificationPermissionType>{\n        try{\n            let permission = await Notifications.getPermissionsAsync();\n            // @ts-ignore\n            return permission;\n        } catch (err) {\n            //TODO: handle emulator\n            //console.log(err)\n        }\n    }\n\n\n    static async requestDeviceNotificationPermission(): Promise<NotificationPermissionType>{\n        try{\n            let permission = await Notifications.requestPermissionsAsync(\n                {\n                    android: {\n                      // On Android, all available permissions are granted by default\n                    },\n                    ios: {\n                        allowAlert: true,\n                        allowBadge: true,\n                        allowSound: true,\n                        allowAnnouncements: true,\n                    }\n                }\n            );\n            // @ts-ignore\n            return permission;\n        } catch (err) {\n            //TODO: handle emulator\n            //console.log(err)\n            return undefined;\n        }\n    }\n\n    private static async getExpoPushTokenAsync(): Promise<NotificationPushTokenType>{\n        try{\n            // @ts-ignore\n            const experienceId = getExperienceId();\n            const token = await Notifications.getExpoPushTokenAsync({\n                experienceId: experienceId,\n            });\n            return token;\n        } catch (err) {\n            //TODO: handle emulator\n            //console.log(err)\n            return undefined;\n        }\n\n    }\n\n    static async scheduleLocalNotification(title, body, secondsFromNow, customIdentifier){\n        let notification_id = await Notifications.scheduleNotificationAsync( {\n            content: {\n                title: title,\n                body: body,\n                data: { customIdentifier: customIdentifier },\n                sound: Platform.OS === \"android\" ? null : \"default\", // https://stackoverflow.com/a/70085728/8908657\n            },\n            trigger: {\n                seconds: secondsFromNow,\n                channelId: 'testChannel',\n            },\n        })\n        let notification = await NotificationHelper.getScheduledLocalNotification(notification_id);\n        return notification;\n    }\n\n    static async cancelScheduledLocalNotification(notificationId){\n        await Notifications.cancelScheduledNotificationAsync(notificationId)\n        let foundNotification = await NotificationHelper.getScheduledLocalNotification(notificationId)\n        return !foundNotification;\n    }\n\n    static async getAllScheuledLocalNotifications(){\n        let notifications = await Notifications.getAllScheduledNotificationsAsync()\n        return notifications;\n    }\n\n    static async getScheduledLocalNotification(notificationId){\n        let notifications = await NotificationHelper.getAllScheuledLocalNotifications()\n        if(!!notifications){\n            return notifications.find((notification) => notification?.identifier === notificationId)\n        }\n        return null;\n    }\n\n    static async getScheduleLocalNotificationByCustomIdentifier(customIdentifier){\n        let notifications = await NotificationHelper.getAllScheuledLocalNotifications()\n        if(!!notifications){\n            return notifications.find((notification) => notification?.content?.data?.customIdentifier === customIdentifier)\n        }\n        return null;\n    }\n\n}\n","import React from \"react\";\nimport {useSynchedJSONState, DeviceHelper} from \"../../kitcheningredients\";\nimport {SynchedStateKeys} from \"./synchedVariables/SynchedStateKeys\";\nimport {NotificationHelper} from \"./notification/NotificationHelper\";\n\nexport class DeviceInformationHelper {\n\n\tstatic useLocalDeviceInformation(): any{\n\t\treturn useSynchedJSONState(SynchedStateKeys.SYNCHED_DeviceInformations);\n\t}\n\n\tstatic async getDeviceInformation(): Promise<any>{ // Promise<DeviceInformationType>\n\t\tconst baseInformation = await DeviceHelper.getInformations();\n\t\tdelete baseInformation.deviceFingerprint; // We dont want to deal with extra policy: https://www.npmjs.com/package/react-native-device-info#getdeviceid\n\n\t\tlet pushTokenObj = await NotificationHelper.loadDeviceNotificationPermission();\n\n\t\tlet informations = {\n\t\t\t...baseInformation,\n\t\t\tpushTokenObj: pushTokenObj,\n\t\t}\n\n\t\treturn informations\n\t}\n\n}\n","import {ConfigHolder, MyActionsheet, PlatformHelper} from \"../../../../kitcheningredients\";\nimport React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {useSynchedSettingsNotifications} from \"../../../helper/synchedJSONState\";\nimport {AppTranslation, useAppTranslation, useAppTranslationRaw} from \"../../translations/AppTranslation\";\nimport {TouchableOpacityIgnoreChildEvents} from \"../../../helper/overlay/TouchableOpacityIgnoreChildEvents\";\nimport {SystemActionHelper} from \"../../../helper/SystemActionHelper\";\nimport {AnimationNotificationBell} from \"../../animations/AnimationNotificationBell\";\nimport {DeviceInformationHelper} from \"../../../helper/DeviceInformationHelper\";\nimport {NotificationHelper} from \"../../../helper/notification/NotificationHelper\";\nimport {MyTouchableOpacity} from \"../../buttons/MyTouchableOpacity\";\n\nexport type NotificationHelperComponentProps = {\n    onPress?: (nextValue: boolean) => any;\n    active: boolean;\n}\nexport const NotificationHelperComponentRemoteMobile: FunctionComponent<NotificationHelperComponentProps> = (props) => {\n\n    const [notificationSettings, setNotificationSettings] = useSynchedSettingsNotifications()\n    const [notificationObj, setNotificationObj] = NotificationHelper.useNotificationPermission();\n    const [deviceInformation, setDeviceInformation] = DeviceInformationHelper.useLocalDeviceInformation();\n    const isSimulator = deviceInformation?.isSimulator;\n\n    const translation_enable = useAppTranslation(\"enable\")\n    const translation_disable = useAppTranslation(\"disable\")\n\n    const translation_push_notification = useAppTranslation(\"push_notification\")\n    const translation_okay = useAppTranslation(\"okay\")\n    const translation_cancel = useAppTranslation(\"cancel\")\n    const translation_push_notification_not_enabled_for = useAppTranslation(\"push_notification_not_enabled_for\");\n    const translation_push_notification_your_device_not_supported = useAppTranslation(\"push_notification_your_device_not_supported\");\n    const translation_open_system_settings = useAppTranslation(\"open_system_settings\");\n    const translation_push_notification_please_allow_notifications_in_system_settings = useAppTranslation(\"push_notification_please_allow_notifications_in_system_settings\");\n    const translation_push_notification_we_will_ask_for_permission = useAppTranslation(\"push_notification_we_will_ask_for_permission\");\n    const translation_push_notification_please_be_patient_trying_to_get_information = useAppTranslation(\"push_notification_please_be_patient_trying_to_get_information\");\n\n    const serverEnabledNotifications = PlatformHelper.isIOS() ? notificationSettings?.ios_enabled : notificationSettings?.android_enabled;\n    const platformName = PlatformHelper.getPlatformDisplayName();\n\n    const user = ConfigHolder.instance.getUser();\n    const actionsheet = MyActionsheet.useActionsheet();\n\n    let actionsheetOptions = {};\n\n    const notificationTokenSet = !!notificationObj?.pushtokenObj?.data;\n    const deviceSupportsNotification = !isSimulator;\n    const permissionExplicitlyDenied = NotificationHelper.isDeviceNotificationPermissionDenied(notificationObj);\n    const permissionUndetermined = NotificationHelper.isDeviceNotificationPermissionUndetermined(notificationObj);\n\n    function renderTouchable(actionsheetOptions, withoutOpacity = false){\n        return (\n            <TouchableOpacityIgnoreChildEvents\n                useDefaultOpacity={!withoutOpacity}\n                onPress={() => {\n                    actionsheet.show(actionsheetOptions);\n                }}\n            >\n                {props.children}\n            </TouchableOpacityIgnoreChildEvents>\n        )\n    }\n\n    if(!serverEnabledNotifications){\n        actionsheetOptions = {\n            title: translation_push_notification,\n            acceptLabel: translation_okay,\n            cancelLabel: translation_cancel,\n            renderDescription: () => {\n                return(\n                    <View>\n                        <AnimationNotificationBell />\n                        <Text>{translation_push_notification_not_enabled_for+\" \"+platformName}</Text>\n                    </View>\n                )\n            }\n        }\n\n        return renderTouchable(actionsheetOptions);\n    }\n\n    if(!deviceSupportsNotification){\n        actionsheetOptions = {\n            title: translation_push_notification,\n            acceptLabel: translation_okay,\n            cancelLabel: translation_cancel,\n            renderDescription: () => {\n                return(\n                    <View>\n                        <AnimationNotificationBell />\n                        <Text>{translation_push_notification_your_device_not_supported}</Text>\n                    </View>\n                )\n            }\n        }\n        return renderTouchable(actionsheetOptions);\n    }\n\n    if(permissionExplicitlyDenied){\n        actionsheetOptions = {\n            title: translation_push_notification,\n            onAccept: () => {\n                SystemActionHelper.mobileSystemActionHelper.openSystemAppSettings()\n            },\n            acceptLabel: translation_open_system_settings,\n            cancelLabel: translation_cancel,\n            renderDescription: () => {\n                return(\n                    <View>\n                        <AnimationNotificationBell />\n                        <Text>{translation_push_notification_please_allow_notifications_in_system_settings}</Text>\n                    </View>\n                )\n            }\n        }\n        return renderTouchable(actionsheetOptions);\n    }\n\n    if(notificationTokenSet){\n        let accessibilityLabel = props?.active ? translation_disable : translation_enable;\n\n        return (\n            <MyTouchableOpacity accessibilityLabel={translation_push_notification+\" \"+accessibilityLabel} onPress={() => {\n                if(props.onPress){\n                    let nextValue = !props.active;\n                    props.onPress(nextValue);\n                }\n            }} >\n                {props.children}\n            </MyTouchableOpacity>\n        )\n    } else {\n        if(permissionUndetermined){\n            actionsheetOptions = {\n                title: translation_push_notification,\n                onAccept: async () => {\n                    await NotificationHelper.requestDeviceNotificationPermission();\n                    let newNotificationObj = await NotificationHelper.loadDeviceNotificationPermission();\n                    setNotificationObj(newNotificationObj);\n                },\n                acceptLabel: translation_okay,\n                cancelLabel: translation_cancel,\n                renderDescription: () => {\n                    return(\n                        <View>\n                            <AnimationNotificationBell />\n                            <Text>{translation_push_notification_we_will_ask_for_permission}</Text>\n                        </View>\n                    )\n                }\n            }\n            return renderTouchable(actionsheetOptions, true);\n        } else {\n            actionsheetOptions = {\n                title: translation_push_notification,\n                onAccept: async () => {\n\n                },\n                acceptLabel: \"Hmmm?\",\n                cancelLabel: translation_cancel,\n                renderDescription: () => {\n                    return(\n                        <View>\n                            <AnimationNotificationBell />\n                            <Text>{translation_push_notification_please_be_patient_trying_to_get_information}</Text>\n                        </View>\n                    )\n                }\n            }\n            return renderTouchable(actionsheetOptions, true);\n        }\n    }\n\n    return null;\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {NotificationHelperComponentRemoteWeb} from \"./NotificationHelperComponentRemoteWeb\";\nimport {NotificationHelperComponentRemoteMobile} from \"./NotificationHelperComponentRemoteMobile\";\nimport {ConfigHolder, PlatformHelper} from \"../../../../kitcheningredients\";\nimport {useSynchedProfile} from \"../../profile/ProfileAPI\";\nimport {AccountRequiredComponent} from \"../../../helper/AccountRequiredComponent\";\n\nexport type NotificationHelperComponentProps = {\n    accountRequired?: boolean;\n    active?: boolean;\n    onPress?: (nextValue: boolean) => any;\n}\nexport const NotificationHelperComponentRemote: FunctionComponent<NotificationHelperComponentProps> = (props) => {\n\n    const user = ConfigHolder.instance.getUser();\n    const [profile, setProfile] = useSynchedProfile();\n\n    const accountRequired = props.accountRequired ?? true; // default to true if not set explicitly to false\n\n    if(accountRequired){\n        if(user.isGuest || !profile?.id){ // guests dont have provided a mail, so they cant be notified\n            return(\n                <AccountRequiredComponent>\n                    {props.children}\n                </AccountRequiredComponent>\n            )\n        }\n    }\n\n    if(PlatformHelper.isWeb()){\n        return (\n            <NotificationHelperComponentRemoteWeb onPress={props?.onPress} active={props?.active}>\n                {props.children}\n            </NotificationHelperComponentRemoteWeb>\n        )\n    } else {\n       return(\n           <NotificationHelperComponentRemoteMobile onPress={props?.onPress} active={props?.active}>\n               {props.children}\n           </NotificationHelperComponentRemoteMobile>\n       )\n    }\n\n}\n","import {MyActionsheet} from \"../../../../kitcheningredients\";\nimport React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {AppTranslation, useAppTranslation} from \"../../translations/AppTranslation\";\nimport {TouchableOpacityIgnoreChildEvents} from \"../../../helper/overlay/TouchableOpacityIgnoreChildEvents\";\nimport {SystemActionHelper} from \"../../../helper/SystemActionHelper\";\nimport {AnimationNotificationBell} from \"../../animations/AnimationNotificationBell\";\nimport {DeviceInformationHelper} from \"../../../helper/DeviceInformationHelper\";\nimport {NotificationHelper} from \"../../../helper/notification/NotificationHelper\";\nimport {TouchableOpacity} from \"react-native\";\n\nexport type NotificationHelperComponentProps = {\n    onPress?: () => any;\n    style?: any;\n}\nexport const NotificationHelperMobileTouchable: FunctionComponent<NotificationHelperComponentProps> = (props) => {\n\n    const [notificationObj, setNotificationObj] = NotificationHelper.useNotificationPermission();\n    const [deviceInformation, setDeviceInformation] = DeviceInformationHelper.useLocalDeviceInformation();\n    const isSimulator = deviceInformation?.isSimulator;\n\n    const translation_push_notification = useAppTranslation(\"push_notification\")\n    const translation_okay = useAppTranslation(\"okay\")\n    const translation_cancel = useAppTranslation(\"cancel\")\n    const translation_push_notification_not_enabled_for = useAppTranslation(\"push_notification_not_enabled_for\");\n    const translation_push_notification_your_device_not_supported = useAppTranslation(\"push_notification_your_device_not_supported\");\n    const translation_open_system_settings = useAppTranslation(\"open_system_settings\");\n    const translation_push_notification_please_allow_notifications_in_system_settings = useAppTranslation(\"push_notification_please_allow_notifications_in_system_settings\");\n    const translation_push_notification_we_will_ask_for_permission = useAppTranslation(\"push_notification_we_will_ask_for_permission\");\n    const translation_push_notification_please_be_patient_trying_to_get_information = useAppTranslation(\"push_notification_please_be_patient_trying_to_get_information\");\n\n    const touchableStyle = props?.style;\n\n    const actionsheet = MyActionsheet.useActionsheet();\n\n    let actionsheetOptions = {};\n\n    const notificationTokenSet = !!notificationObj?.pushtokenObj?.data;\n    const deviceSupportsNotification = !isSimulator;\n    const permissionExplicitlyDenied = NotificationHelper.isDeviceNotificationPermissionDenied(notificationObj);\n    const permissionUndetermined = NotificationHelper.isDeviceNotificationPermissionUndetermined(notificationObj);\n\n    function renderTouchableActionSheet(actionsheetOptions, withoutOpacity = false){\n        return (\n            <TouchableOpacityIgnoreChildEvents style={touchableStyle}\n                useDefaultOpacity={!withoutOpacity}\n                onPress={() => {\n                    actionsheet.show(actionsheetOptions);\n                }}\n            >\n                {props.children}\n            </TouchableOpacityIgnoreChildEvents>\n        )\n    }\n\n    if(!deviceSupportsNotification){\n        actionsheetOptions = {\n            title: translation_push_notification,\n            acceptLabel: translation_okay,\n            cancelLabel: translation_cancel,\n            renderDescription: () => {\n                return(\n                    <View>\n                        <AnimationNotificationBell />\n                        <Text>{translation_push_notification_your_device_not_supported}</Text>\n                    </View>\n                )\n            }\n        }\n        return renderTouchableActionSheet(actionsheetOptions);\n    }\n\n    if(permissionExplicitlyDenied){\n        actionsheetOptions = {\n            title: translation_push_notification,\n            onAccept: () => {\n                SystemActionHelper.mobileSystemActionHelper.openSystemAppSettings()\n            },\n            acceptLabel: translation_open_system_settings,\n            cancelLabel: translation_cancel,\n            renderDescription: () => {\n                return(\n                    <View>\n                        <AnimationNotificationBell />\n                        <Text>{translation_push_notification_please_allow_notifications_in_system_settings}</Text>\n                    </View>\n                )\n            }\n        }\n        return renderTouchableActionSheet(actionsheetOptions);\n    }\n\n    if(notificationTokenSet){\n        return (\n            <TouchableOpacity style={touchableStyle} onPress={async () => {\n                if(props?.onPress){\n                    await props.onPress();\n                }\n            }}>\n                {props.children}\n            </TouchableOpacity>\n        )\n    } else {\n        if(permissionUndetermined){\n            actionsheetOptions = {\n                title: translation_push_notification,\n                onAccept: async () => {\n                    await NotificationHelper.requestDeviceNotificationPermission();\n                    let newNotificationObj = await NotificationHelper.loadDeviceNotificationPermission();\n                    setNotificationObj(newNotificationObj);\n                },\n                acceptLabel: translation_open_system_settings,\n                cancelLabel: translation_cancel,\n                renderDescription: () => {\n                    return(\n                        <View>\n                            <AnimationNotificationBell />\n                            <Text>{translation_push_notification_we_will_ask_for_permission}</Text>\n                        </View>\n                    )\n                }\n            }\n            return renderTouchableActionSheet(actionsheetOptions, true);\n        } else {\n            actionsheetOptions = {\n                title: translation_push_notification,\n                onAccept: async () => {\n\n                },\n                acceptLabel: \"Hmmm?\",\n                cancelLabel: translation_cancel,\n                renderDescription: () => {\n                    return(\n                        <View>\n                            <AnimationNotificationBell />\n                            <Text>{translation_push_notification_please_be_patient_trying_to_get_information}</Text>\n                        </View>\n                    )\n                }\n            }\n            return renderTouchableActionSheet(actionsheetOptions, true);\n        }\n    }\n\n    return null;\n\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {NotificationIcon} from \"../NotificationIcon\";\nimport {NotificationHelper} from \"../../../helper/notification/NotificationHelper\";\nimport {NotificationHelperMobileTouchable} from \"./NotificationHelperMobileTouchable\";\n\nexport type NotificationHelperComponentProps = {\n    localNotificationKey?: string;\n    // async function\n    getNotificationMessageObject?: () => Promise<any>;\n    style?: any;\n}\nexport const NotificationHelperComponentLocalMobile: FunctionComponent<NotificationHelperComponentProps> = (props) => {\n\n    const notificationKey = props.localNotificationKey || \"\";\n    const [notification, setNotification] = useState(undefined);\n    const [error, setError] = useState(undefined);\n    const loading = notification === undefined;\n    const active = notification !== undefined && notification !== null;\n    const notificationIdentifier = notification?.identifier || \"\";\n    //console.log(\"NotificationHelperComponentLocalMobile\");\n    //console.log(\"notificationKey\", notificationKey);\n    //console.log(\"notification\", notification);\n    //console.log(\"loading\", loading);\n    //console.log(\"active\", active);\n    //console.log(\"notificationIdentifier\", notificationIdentifier);\n\n    async function loadNotification(){\n        let notification = null;\n        try{\n            notification = await NotificationHelper.getScheduleLocalNotificationByCustomIdentifier(notificationKey);\n        } catch (e) {\n            console.error(\"NotificationHelperComponentLocalMobile.loadNotification\", notificationKey, e);\n            setError(e);\n        }\n        setNotification(notification);\n    }\n\n    if(!notificationKey){\n        return null;\n    }\n\n    // run useEffect to get NotificationHelper notification by custom Identifier\n    useEffect(() => {\n        //console.log(\"useEffect: loadNotification\");\n        loadNotification();\n    }, []);\n\n    return (\n        <NotificationHelperMobileTouchable style={props?.style} onPress={async () => {\n            if(active){\n                NotificationHelper.cancelScheduledLocalNotification(notificationIdentifier);\n            } else {\n                // title, body, secondsFromNow, customIdentifier\n                let notificationMessageObject = {};\n                if(props?.getNotificationMessageObject){\n                    notificationMessageObject = await props.getNotificationMessageObject();\n                }\n\n                const title = notificationMessageObject?.title || \"title\";\n                const body = notificationMessageObject?.body || \"body\";\n                const secondsFromNow = notificationMessageObject?.secondsFromNow || 10;\n\n                NotificationHelper.scheduleLocalNotification(title, body, secondsFromNow, notificationKey);\n            }\n            loadNotification();\n        }} >\n\n            <NotificationIcon active={active} />\n        </NotificationHelperMobileTouchable>\n    )\n\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {CrossLottie, Layout} from \"../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport underConstruction from \"../../assets/under-construction.json\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {ProjectColoredCrossLottie} from \"./ProjectColoredCrossLottie\";\n\nexport const CommingSoonAnimation = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"40%\",\n\t\tsm: \"30%\",\n\t\tmd: Layout.WIDTH_MD*0.3,\n\t\tlg: Layout.WIDTH_LG*0.3,\n\t\txl: Layout.WIDTH_XL*0.3\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<ProjectColoredCrossLottie source={underConstruction} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","import {MyActionsheet} from \"../../kitcheningredients\";\nimport React, {FunctionComponent} from \"react\";\nimport {AppTranslation, useAppTranslation} from \"../components/translations/AppTranslation\";\nimport {TouchableOpacityIgnoreChildEvents} from \"./overlay/TouchableOpacityIgnoreChildEvents\";\nimport {CommingSoonAnimation} from \"../components/animations/CommingSoonAnimation\";\n\nexport const ComingSoonComponent: FunctionComponent = (props) => {\n\n    const translationNoPermission = useAppTranslation(\"comingSoon\");\n    const actionsheet = MyActionsheet.useActionsheet();\n\n    let title = translationNoPermission;\n    let acceptLabel = <AppTranslation id={\"okay\"} />;\n    let onAccept = () => {};\n\n    return (\n        <TouchableOpacityIgnoreChildEvents\n            useDefaultOpacity={true}\n            onPress={() => {\n                actionsheet.show({\n                    title: title,\n                    onAccept: onAccept,\n                    acceptLabel: acceptLabel,\n                    cancelLabel: <AppTranslation id={\"cancel\"}/>,\n                    renderDescription: () => {\n                        return (\n                            <CommingSoonAnimation/>\n                        )\n                    }\n                });\n            }}\n        >\n            {props.children}\n        </TouchableOpacityIgnoreChildEvents>\n    )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {PlatformHelper} from \"../../../../kitcheningredients\";\nimport {NotificationHelperComponentLocalMobile} from \"./NotificationHelperComponentLocalMobile\";\nimport {ComingSoonComponent} from \"../../../helper/ComingSoonComponent\";\nimport {NotificationIcon} from \"../NotificationIcon\";\nimport {View} from \"native-base\";\n\nexport type NotificationHelperComponentProps = {\n    localNotificationKey?: string;\n    getNotificationMessageObject?: () => any;\n    style?: any;\n}\nexport const NotificationHelperComponentLocal: FunctionComponent<NotificationHelperComponentProps> = (props) => {\n\n    if(PlatformHelper.isSmartPhone()) {\n        return (\n            <NotificationHelperComponentLocalMobile {...props} />\n        )\n    } else {\n        return (\n            <ComingSoonComponent>\n                <View style={props?.style}>\n                    <NotificationIcon active={false} />\n                </View>\n            </ComingSoonComponent>\n        );\n    }\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {NotificationIcon} from \"./NotificationIcon\";\nimport {NotificationHelperComponentRemote} from \"./helper/NotificationHelperComponentRemote\";\nimport {PlatformHelper} from \"../../../kitcheningredients\";\nimport {NotificationHelperComponentLocal} from \"./helper/NotificationHelperComponentLocal\";\n\nexport interface AppState{\n\taccountRequired?: boolean;\n\tlocalNotificationKey?: string;\n\tlocalNotificationEnabledNative?: boolean;\n\tlocalNotificationEnabledWeb?: boolean;\n\tgetNotificationMessageObject?: () => any;\n\ttextColor?: string;\n\tonPress?: (nextValue: boolean) => any;\n\tactive?: boolean;\n\tstyle?: any;\n}\nexport const NotificationItem: FunctionComponent<AppState> = (props) => {\n\n\tconst localNotificationKey = props.localNotificationKey || \"\";\n\n\t// native: local notification\n\t// native: push notification\n\t// web: local notification?\n\t// web: mail notification?\n\n\tconst isWebAndShowLocalNotification = PlatformHelper.isWeb() && props?.localNotificationEnabledWeb;\n\tconst isNativeAndShowLocalNotification = PlatformHelper.isSmartPhone() && props?.localNotificationEnabledNative;\n\tconst showLocalNotification = isWebAndShowLocalNotification || isNativeAndShowLocalNotification;\n\n\tif(!!localNotificationKey && showLocalNotification){\n\t\t\treturn (\n\t\t\t\t<NotificationHelperComponentLocal localNotificationKey={localNotificationKey} getNotificationMessageObject={props?.getNotificationMessageObject} style={props?.style} onPress={props?.onPress} active={props.active}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</NotificationHelperComponentLocal>\n\t\t\t)\n\t}\n\n\treturn(\n\t\t<NotificationHelperComponentRemote accountRequired={props?.accountRequired} onPress={props?.onPress} active={props?.active} >\n\t\t\t<NotificationIcon active={props?.active} color={props?.textColor} />\n\t\t</NotificationHelperComponentRemote>\n\t)\n}\n","import React, {FunctionComponent, useState} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {AccessibilityRole, TouchableOpacity} from \"react-native\";\nimport {SettingsRowInner} from \"../settings/SettingsRowInner\";\nimport {SettingsSpacer} from \"../settings/SettingsSpacer\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\nexport type DetailsComponentMenuType = {\n\tcolor?: string,\n\tactiveColor?: string,\n\tonPress?: () => Promise<boolean | undefined>, // an async onPress function that returns a boolean or undefined\n\telement?: JSX.Element,\n\tmenuButtonContent?: any | string,\n\trenderContent?: (backgroundColor, textColor) => any\n\trenderIcon?: (backgroundColor, textColor) => any\n\ticon: JSX.Element,\n\tamount?: number,\n}\nexport interface AppState{\n\t// menus are a dict with DetailsComponentMenuType as value and a string as key\n\tmenus: Record<string, DetailsComponentMenuType>,\n\tspacer?: any,\n\tdefaultMenuKey?: string,\n\tdefaultColor?: string,\n\tdefaultActiveColor?: string,\n\tdefaultTextColor?: string,\n\tdefaultActiveTextColor?: string,\n\thideSelection?: boolean,\n\tstyle?: any,\n}\nexport const DetailsComponentMenus: FunctionComponent<AppState> = (props) => {\n\n\tconst defaultColor = props?.defaultColor || ColorHelper.useProjectColor();\n\tlet defaultActiveColor = props?.defaultActiveColor || ColorHelper.useDefaultDarkenColor(defaultColor)\n\tconst defaultTextColor = props?.defaultTextColor || ColorHelper.useContrastColor(defaultColor);\n\tconst defaultActiveTextColor = props?.defaultActiveTextColor || ColorHelper.useContrastColor(defaultActiveColor)\n\n\tif(props?.hideSelection) {\n\t\tdefaultActiveColor = defaultColor;\n\t}\n\n\tconst menus = props.menus || {};\n\tconst menuKeys = Object.keys(menus);\n\tconst defaultMenuKey = props?.defaultMenuKey || menuKeys[0];\n\n\tconst [selectedMenuKey, setSelectedMenuKey] = useState(defaultMenuKey);\n\tlet selectedMenu = menus[selectedMenuKey];\n\tlet element = selectedMenu?.element;\n\n\tfunction renderMenuButton(menuKey){\n\t\tlet menu = menus[menuKey];\n\t\tlet isSelected = selectedMenuKey === menuKey;\n\n\t\tlet color = menu?.color || defaultColor;\n\t\tlet activeColor = menu?.activeColor || defaultActiveColor;\n\n\t\tconst onPressMenu = menu?.onPress;\n\n\t\tlet amount = menu?.amount;\n\t\tlet amountText = \"\";\n\t\tif(amount!==undefined){\n\t\t\tamountText = \" (\"+amount+\")\";\n\t\t}\n\n\n\n\t\tlet additionalStyle = {};\n\t\tlet usedTextColor = defaultTextColor;\n\t\tif(isSelected && !props?.hideSelection){\n\t\t\tlet selectedStyle = {\n\t\t\t\tborderWidth: 2,\n\t\t\t\tborderColor: \"white\",\n\t\t\t\tbackgroundColor: activeColor,\n\t\t\t}\n\t\t\tusedTextColor = defaultActiveTextColor;\n\t\t\tadditionalStyle = selectedStyle;\n\t\t}\n\n\t\tlet buttonContent = menu?.menuButtonContent;\n\t\tif(menu?.renderContent){\n\t\t\tbuttonContent = menu.renderContent(activeColor, usedTextColor);\n\t\t}\n\n\t\tlet icon = menu?.icon;\n\t\tlet renderedIcon = null;\n\t\tif(!!icon){\n\t\t\trenderedIcon = <Text color={usedTextColor}>{icon}</Text>;\n\t\t}\n\t\tif(menu?.renderIcon){\n\t\t\trenderedIcon = menu.renderIcon(activeColor, usedTextColor);\n\t\t}\n\n\n\t\treturn(\n\t\t\t<View style={{marginHorizontal: 5, marginVertical: 5}}>\n\t\t\t\t<TouchableOpacity\n\t\t\t\t\taccessibilityState={{expanded: isSelected}}\n\t\t\t\t\taccessibilityRole={AccessibilityRoles.tab}\n\t\t\t\t\tstyle={[{ borderColor: \"transparent\", borderWidth: 2,justifyContent: \"center\", flexDirection: \"row\", backgroundColor: color, borderRadius: 10}, additionalStyle]}\n\t\t\t\t\t\t\t\t  onPress={async () => {\n\t\t\t\t\t\t\t\t  \tlet proceed = true;\n\t\t\t\t\t\t\t\t  \tif(onPressMenu){\n\t\t\t\t\t\t\t\t  \t\tlet result = await onPressMenu();\n\t\t\t\t\t\t\t\t  \t\tif(result!==undefined && result!==null){\n\t\t\t\t\t\t\t\t  \t\t\tproceed = result;\n\t\t\t\t\t\t\t\t  \t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t  \tif(proceed){\n\t\t\t\t\t\t\t\t\t\tsetSelectedMenuKey(menuKey)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t  }}\n\t\t\t\t>\n\t\t\t\t\t<SettingsRowInner leftContent={<View style={{flexDirection: \"row\", alignItems: \"center\"}}>{buttonContent}<Text color={usedTextColor}>{amountText}</Text></View>} leftIcon={renderedIcon} rightIcon={null} />\n\t\t\t\t</TouchableOpacity>\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction renderMenuButtons(){\n\t\tlet menuKeys = Object.keys(menus);\n\t\tlet output = [];\n\t\tfor(let menuKey of menuKeys){\n\t\t\tif(menus[menuKey]){\n\t\t\t\toutput.push(renderMenuButton(menuKey))\n\t\t\t}\n\t\t}\n\n\t\tlet style = props?.style || {width: \"100%\", flexDirection: \"row\", flexWrap: \"wrap\", justifyContent: \"center\", alignItems: \"center\"};\n\n\t\treturn(\n\t\t\t<View style={style}>\n\t\t\t\t{output}\n\t\t\t</View>\n\t\t)\n\t}\n\n\tconst spacer = props?.spacer!==undefined ? props?.spacer : <SettingsSpacer/>;\n\n\treturn (\n\t\t<View style={{width: \"100%\"}}>\n\t\t\t{renderMenuButtons()}\n\t\t\t{spacer}\n\t\t\t{element}\n\t\t</View>\n\t)\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\nimport {Ionicons} from \"@expo/vector-icons\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n    color?: string\n    size?: any,\n    accessibilityLabel?: string,\n}\nexport const MarkingIcon: FunctionComponent<AppState> = ({color, size, accessibilityLabel, ...props}) => {\n\n  return (\n      <Icon name={\"medkit\"} as={Ionicons} color={color} accessibilityLabel={accessibilityLabel} {...props} />\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {Nutritions} from \"./nutritions/Nutritions\";\nimport {SettingsRow} from \"../settings/SettingsRow\";\nimport {NutritionIcon} from \"./nutritions/NutritionIcon\";\nimport {BasePadding, MyThemedBox, useThemedShade} from \"../../../kitcheningredients\"\nimport {SettingsSpacer} from \"../settings/SettingsSpacer\";\nimport {FoodCard} from \"./FoodCard\";\nimport {Icon, Navigation, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {FoodRating} from \"./foodfeedback/FoodRating\";\nimport {CommentType, FoodCommentsComponent} from \"./foodfeedback/FoodCommentsComponent\";\nimport {useDebugMode, useSynchedMarkingsDict, useSynchedSettingsFoods} from \"../../helper/synchedJSONState\";\nimport {Foodoffers, Foods} from \"../../directusTypes/types\";\nimport {ImageFullscreen} from \"../../screens/other/ImageFullscreen\";\nimport {countDislikedMarkings, useSynchedProfileMarkingsDict} from \"../profile/MarkingAPI\";\nimport {AppTranslation, useAppTranslation} from \"../translations/AppTranslation\";\nimport {MarkingSetting} from \"../marking/MarkingSetting\";\nimport {NotificationItem} from \"../notification/NotificationItem\";\nimport {DetailsComponentMenus} from \"../detailsComponent/DetailsComponentMenus\";\nimport {DebugIcon} from \"../icons/DebugIcon\";\nimport {ProfileAPI} from \"../profile/ProfileAPI\";\nimport {FoodOfferHelper} from \"./FoodOfferHelper\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\nimport {CommonSystemActionHelper} from \"../../helper/SystemActionHelper\";\nimport {MarkingIcon} from \"../marking/MarkingIcon\";\nimport {FoodFeedbackAPI} from \"./foodfeedback/FoodFeedbackAPI\";\n\nexport interface AppState{\n\tfood?: any,\n\tfoodOffer?: any,\n\tonUpload?: any,\n}\nexport const FoodDetailsComponent: FunctionComponent<AppState> = (props) => {\n\n\tconst [foodSettings, setFoodSettings] = useSynchedSettingsFoods()\n\n\tconst buttonColor = ColorHelper.useProjectColor();\n\tlet buttonTextColor = ColorHelper.useContrastColor(buttonColor)\n\n\tconst translationNoGuarantee = useAppTranslation(\"foodMarkingNoGuarantee\");\n\n\tconst shadeLevel = 3;\n\tconst shadeBackgroundColor = useThemedShade(shadeLevel);\n\tconst shadeTextColor = ColorHelper.useContrastColor(shadeBackgroundColor);\n\n\tconst [allMarkingsDict, setAllMarkingsDict] = useSynchedMarkingsDict();\n\tconst [debug, setDebug] = useDebugMode()\n\tconst foodcommentstype = props.foodcommentstype || foodSettings?.comments_type\n\n\tconst food : Foods = props?.food;\n\tconst foodoffer : Foodoffers = props?.foodOffer;\n\n\tconst [notifyForFood, setNotifyForFood] = FoodFeedbackAPI.useOwnFoodNotify(food?.id);\n\n\tconst foodMarkings = foodoffer?.markings || food?.markings || [];\n\tconst markingAmount = foodMarkings.length;\n\n\tconst [profilesMarkingsDict, setProfileMarking, removeProfileMarking] = useSynchedProfileMarkingsDict();\n\tconst amountOfDislikedMarkings = countDislikedMarkings(foodMarkings, profilesMarkingsDict);\n\tconst isDislikedMarking = amountOfDislikedMarkings > 0;\n\n\tconst commentsMenuKey = \"comments\";\n\n\tconst menus = {\n\t\t\"nutritions\": {\n\t\t\telement: <Nutritions food={food} />,\n\t\t\trenderIcon: (backgroundColor, textColor) => { return <NutritionIcon color={textColor} />},\n\t\t\trenderContent: (backgroundColor, textColor) => { return <AppTranslation id={\"nutritions\"} color={textColor} />},\n\t\t},\n\t\t\"markings\": {\n\t\t\telement: renderMarkings(),\n\t\t\trenderIcon: (backgroundColor, textColor) => { return <MarkingIcon color={textColor} />},\n\t\t\trenderContent: (backgroundColor, textColor) => { return <AppTranslation id={\"markings\"} color={textColor} />},\n\t\t\tcolor: isDislikedMarking ? \"red\" : undefined,\n\t\t\tactiveColor: isDislikedMarking ? \"darkred\" : undefined,\n\t\t\tamount: markingAmount\n\t\t},\n\t\t\"comments\": {\n\t\t\telement: renderComments(),\n\t\t\trenderIcon: (backgroundColor, textColor) => { return <Icon name={\"chat\"} color={textColor} />},\n\t\t\trenderContent: (backgroundColor, textColor) => { return <AppTranslation id={\"comments\"} color={textColor} />},\n\t\t},\n\t}\n\n\tif(debug){\n\t\tmenus[\"Debug\"] = {\n\t\t\telement: renderDebug(),\n\t\t\trenderIcon: (backgroundColor, textColor) => { return <DebugIcon color={textColor} />},\n\t\t\trenderContent: (backgroundColor, textColor) => { return <AppTranslation id={\"debug\"} color={textColor} />},\n\t\t};\n\t}\n\n\tif(!foodcommentstype || foodcommentstype===CommentType.disabled){\n\t\tdelete menus[commentsMenuKey];\n\t}\n\n\tfunction renderDebug(){\n\t\tlet output = [];\n\t\toutput.push(<SettingsRow leftIcon={\"tag\"} leftContent={<Text>{\"ID: \"+food?.id}</Text>} />)\n\t\toutput.push(<SettingsRow leftIcon={\"code-braces\"} leftContent={<View style={{flexDirection:'row', flex: 1}}><Text style={{flex: 1, flexWrap: 'wrap'}}>{\"Food:\\n\"}{JSON.stringify(food, null, 2)}</Text></View>} />)\n\t\toutput.push(<SettingsRow leftIcon={\"code-braces\"} leftContent={<View style={{flexDirection:'row', flex: 1}}><Text style={{flex: 1, flexWrap: 'wrap'}}>{\"Foodoffer:\\n\"}{JSON.stringify(foodoffer, null, 2)}</Text></View>} />)\n\n\t\treturn(\n\t\t\toutput\n\t\t)\n\t}\n\n\tfunction renderComments(){\n\t\treturn <FoodCommentsComponent food_id={food?.id} />\n\t}\n\n\tfunction renderMarkings(){\n\t\tlet output = [];\n\t\tfor(let foodMarking of foodMarkings){\n\t\t\tlet markingId = foodMarking?.markings_id;\n\t\t\tlet marking = allMarkingsDict[markingId];\n\t\t\toutput.push(<MarkingSetting marking={marking} />)\n\t\t}\n\n\t\treturn(\n\t\t\toutput\n\t\t)\n\t}\n\n\tfunction renderRating(){\n\t\treturn(\n\t\t\t\t<FoodRating food_id={food?.id} />\n\t\t)\n\t}\n\n\tfunction renderNotification(){\n\t\tconsole.log(\"renderNotification\", notifyForFood)\n\n\t\treturn(\n\t\t\t<NotificationItem textColor={shadeTextColor} active={notifyForFood} onPress={(nextValue => {\n\t\t\t\tsetNotifyForFood(nextValue);\n\t\t\t})} />\n\t\t)\n\t}\n\n\tfunction renderActionRow(){\n\t\treturn(\n\t\t\t<MyThemedBox key={\"food_rating\"} _shadeLevel={3} style={{paddingVertical: \"1%\", paddingHorizontal: \"1%\"}}>\n\t\t\t\t<View style={{width: \"100%\", flexDirection: \"row\", justifyContent: \"space-between\"}}>\n\t\t\t\t\t<View>\n\t\t\t\t\t\t{renderRating()}\n\t\t\t\t\t</View>\n\t\t\t\t\t{renderNotification()}\n\t\t\t\t</View>\n\t\t\t</MyThemedBox>\n\t\t)\n\t}\n\n\n\tfunction onPress(){\n\t\tlet id = food?.id;\n\t\tlet assetId = food?.image;\n\t\tif(!!id && !!assetId){\n\t\t\t//TODO Refactor FoodImageFullscreen into FullscreenImage and pass only the assetId\n\t\t\tNavigation.navigateTo(ImageFullscreen, {id: assetId, showbackbutton: true})\n//\t\t\tNavigatorHelper.navigateWithoutParams(ImageFullscreen, false, {id: assetId, showbackbutton: true});\n\t\t}\n\t}\n\n\treturn(\n\t\t<>\n\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t<FoodCard small={false} onUpload={props?.onUpload} key={JSON.stringify(food)} food={food} foodoffer={foodoffer} hideBottomPartAndQuickRate={true} onPress={onPress}  />\n\t\t\t\t{renderActionRow()}\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<DetailsComponentMenus menus={menus} />\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<BasePadding>\n\t\t\t\t\t<Text italic={true} >{translationNoGuarantee}</Text>\n\t\t\t\t</BasePadding>\n\t\t\t</View>\n\t\t</>\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {FoodDetailsComponent} from \"../../components/food/FoodDetailsComponent\";\nimport {FoodLoader} from \"../../components/food/FoodLoader\";\nimport {Layout} from \"../../../kitcheningredients\";\nimport {useDemoMode} from \"../../helper/synchedJSONState\";\nimport {FoodOfferHelper} from \"../../components/food/FoodOfferHelper\";\n\nexport const FoodDetails: FunctionComponent = (props) => {\n\n\tconst [food, setFood] = useState(null);\n\tconst [foodOffer, setFoodOffer] = useState(null);\n\tconst [demo, setDemo] = useDemoMode();\n\n\tasync function load(){\n\t\tlet foodoffer_id = props?.route?.params?.foodoffer_id;\n\t\t//console.log(\"FoodDetails: params: foodoffer_id: \" + foodoffer_id);\n\t\tlet id = props?.route?.params?.id;\n\t\t//console.log(\"FoodDetails: params: id: \" + id);\n\n\t\tif(!!foodoffer_id){\n\t\t\t//console.log(\"FoodDetails: load: foodoffer_id: \" + foodoffer_id);\n\t\t\tlet downloadedFoodOffer = undefined;\n\t\t\ttry{\n\t\t\t\tdownloadedFoodOffer = await FoodLoader.loadFoodOffer(foodoffer_id);\n\t\t\t} catch (err){\n\t\t\t\tdownloadedFoodOffer = null;\n\t\t\t\t//console.log(\"FoodDetails: load: err: \" + err);\n\t\t\t}\n\t\t\tif(demo){\n\t\t\t\t//console.log(\"FoodDetails: load: demo: \");\n\t\t\t\tdownloadedFoodOffer = await FoodLoader.getDemoFoodOffer(foodoffer_id);\n\t\t\t}\n\n\t\t\tsetFoodOffer(downloadedFoodOffer);\n\t\t}\n\n\t\tif(!!id){\n\t\t\t//console.log(\"FoodDetails: load: id: \" + id);\n\t\t\tlet downloadedFood = undefined;\n\t\t\ttry{\n\t\t\t\tdownloadedFood = await FoodLoader.loadFoodDetails(id);\n\t\t\t} catch (err){\n\t\t\t\tdownloadedFood = null;\n\t\t\t\t//console.log(\"FoodDetails: load: err: \" + err);\n\t\t\t}\n\t\t\tif(demo){\n\t\t\t\tdownloadedFood = await FoodLoader.getDemoFoodDetails(id);\n\t\t\t}\n\t\t\tsetFood(downloadedFood);\n\t\t}\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t\tload()\n\t}, [props?.route?.params])\n\n\tif(!food){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<Text>FoodDetails: loading...</Text>\n\t\t\t</>\n\t\t)\n\t}\n\n\treturn(\n\t\t<>\n\t\t\t<View style={{width: \"100%\", paddingTop: Layout.padding}}>\n\t\t\t\t<FoodDetailsComponent key={JSON.stringify(food)} food={food} foodOffer={foodOffer} onUpload={load} />\n\t\t\t</View>\n\t\t</>\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Input, Text, View} from \"native-base\";\nimport {StorageKeys} from \"../../helper/synchedVariables/StorageKeys\";\nimport {useJSONState} from \"../../helper/synchedJSONState\";\n\ninterface AppState {\n\tprice: number,\n\tcolor?: string\n}\n\n//https://helloacm.com/javascripts-tofixed-implementation-without-rounding/#:~:text=The%20idea%20is%20to%20convert,for%20exactly%20n%20decimal%20places.\nfunction toFixedNoRounding(number, fractions) {\n\tconst reg = new RegExp(\"^-?\\\\d+(?:\\\\.\\\\d{0,\" + fractions + \"})?\", \"g\")\n\tconst a = number.toString().match(reg)[0];\n\tconst dot = a.indexOf(\".\");\n\tif (dot === -1) { // integer, insert decimal dot and pad up zeros\n\t\treturn a + \".\" + \"0\".repeat(fractions);\n\t}\n\tconst b = fractions - (a.length - dot) + 1;\n\treturn b > 0 ? (a + \"0\".repeat(b)) : a;\n}\n\nfunction formatPrice(price){\n\tlet currency = \"€\";\n\n\t//TODO? What about different currencies? Should we transform/calculate it?\n\tif(price===undefined || price===null){\n\t\treturn \"?\"+\" \"+currency;\n\t}\n\t//Since Intl.NumberFormat does not work on android, we need to do it ourself\n\ttry{\n\t\tlet priceWithFraction = \"\"+toFixedNoRounding(price, 2);\n\t\tpriceWithFraction = priceWithFraction.replace(\".\", \",\");\n\t\treturn priceWithFraction+\" \"+currency;\n\t} catch (err){\n\t\t//console.log(err);\n\t}\n\treturn price;\n}\n\nexport function useFormatedPrice(price): number {\n\treturn formatPrice(price);\n}\n\nexport const FormatedPriceText: FunctionComponent<AppState> = (props) => {\n\tconst formated = useFormatedPrice(props?.price);\n\n\treturn(\n\t\t<Text color={props?.color}>{formated}</Text>\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Foods} from \"../../directusTypes/types\";\nimport {useDirectusTranslation} from \"../translations/DirectusTranslationUseFunction\";\nimport {StringHelper} from \"../../helper/StringHelper\";\n\ninterface AppState {\n\tfood?: Foods,\n}\nexport const useFoodName = (food) => {\n\tconst translations = food?.translations;\n\tconst ignoreMissingTranslation = !food;\n\tconst fallbackText = !!ignoreMissingTranslation ? \"\" : undefined;\n\tlet content = useDirectusTranslation(translations, \"name\");\n\tif(!!content && content.length>0){\n\t\tcontent = StringHelper.capitalizeFirstLetter(content)\n\t}\n\treturn content;\n}\n\nexport const FoodName: FunctionComponent<AppState> = (props) => {\n\tconst food = props?.food;\n\tconst content = useFoodName(food);\n\treturn content;\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from \"react\";\nimport { View } from \"react-native\";\n\ninterface AppState {\n    setDimension?: (x, y, width, height) => any;\n    style?: any;\n}\nexport const ParentDimension: FunctionComponent<AppState> = (props) => {\n\n    return(\n        <View style={props.style} onLayout={(event) => {\n                const {x, y, width, height} = event.nativeEvent.layout;\n                if(!!props.setDimension){\n                    props.setDimension(x, y, width, height);\n                }\n        }}>\n            {props.children}\n        </View>\n    )\n}\n","import React, {FunctionComponent, useState} from \"react\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport {StringHelper} from \"../../helper/StringHelper\";\nimport {MyThemedBox, useMyContrastColor, useThemedShade} from \"../../../kitcheningredients\";\nimport {Dimensions, TouchableOpacity} from \"react-native\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {ParentDimension} from \"../../helper/ParentDimension\";\nimport {DetailsCardBorder} from \"./DetailsCardBorder\";\nimport {ViewPercentageBorderradius} from \"../../helper/ViewPercentageBorderradius\";\nimport {MyTouchableOpacity} from \"../buttons/MyTouchableOpacity\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\nexport interface AppState{\n\taccessibilityLabel: string\n\tborderColor?: string,\n\tliked?: boolean,\n\tdisliked?: boolean,\n\tonPressTop?: () => any,\n\tsmall?: boolean\n\tpositionBottom?: boolean\n\trenderBottom?: (backgroundColor, textColor) => any,\n\trenderTop?: (width) => any,\n\trenderTopForeground?: (width) => any,\n\tnumberOfLines?: number,\n\tvariableHeight?: boolean,\n}\nexport const DefaultComponentCard: FunctionComponent<AppState> = (props) => {\n\n\tconst [dimension, setDimension] = useState({x: undefined, y: undefined, width: undefined, height: undefined});\n\tconst bottomShadeColor = useThemedShade(3);\n\tconst textColor = useMyContrastColor(bottomShadeColor);\n\n\t/**\n\t * Returns true if the screen is in portrait mode\n\t */\n\tconst isPortrait = () => {\n\t\tconst dim = Dimensions.get('screen');\n\t\treturn dim.height >= dim.width;\n\t};\n\n\tconst percentBorderRadius = 0.05;\n\tconst percentBorderRadiusString = percentBorderRadius*100+\"%\";\n\n\tlet amountOfLines = props?.numberOfLines || 3;\n\n\tconst small = props?.small || false;\n\n\tlet defaultPortraitBreakpoints = {\n\t\tbase: \"80%\",\n\t\tsm: \"50%\",\n\t\tmd: \"40%\",\n\t\tlg: \"30%\",\n\t\txl: \"30%\",\n\t}\n\tlet defaultLandscapeBreakpoints = {\n\t\tbase: \"60%\",\n\t\tsm: \"50%\",\n\t\tmd: \"50%\",\n\t\tlg: \"30%\",\n\t\txl: \"30%\",\n\t}\n\tlet beakpoints = isPortrait() ? defaultPortraitBreakpoints : defaultLandscapeBreakpoints\n\tlet width = useBreakpointValue(beakpoints)\n\n\tif(small){\n\t\twidth = \"100%\"\n\t}\n\n\tfunction renderTopForeground(){\n\n\t}\n\n\tfunction renderTopPart(){\n\n\t\tlet renderedTop = null;\n\t\tif(props.renderTop){\n\t\t\trenderedTop = props.renderTop(dimension?.width);\n\t\t}\n\n\t\tconst variableHeight = props?.variableHeight || false;\n\t\tconst content = (\n\t\t\t<MyTouchableOpacity\n\t\t\t\taccessibilityRole={AccessibilityRoles.imagebutton}\n\t\t\t\taccessibilityLabel={props?.accessibilityLabel}\n\t\t\t\tstyle={{\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"100%\",\n\t\t\t\tflex: 1,\n\t\t\t\tbackgroundColor: \"transparent\"}} onPress={() => {\n\t\t\t\tif(props?.onPressTop){\n\t\t\t\t\tprops.onPressTop()\n\t\t\t\t}\n\t\t\t}}>\n\n\n\t\t\t\t\t{renderedTop}\n\t</MyTouchableOpacity>\n\t\t)\n\n\t\tlet heightHolder = null;\n\n\t\tif(variableHeight){\n\t\t\theightHolder = content;\n\t\t} else {\n\t\t\theightHolder = (\n\t\t\t\t<Rectangle key={\"foodcard_top\"}>\n\t\t\t\t\t{content}\n\t\t\t\t</Rectangle>\n\t\t\t)\n\t\t}\n\n\t\tconst foreground = props?.renderTopForeground ? props.renderTopForeground(dimension?.width) : null;\n\t\tlet renderedForeground = null;\n\n\t\tlet borderRadiusStyle = {\n\t\t\tborderTopRightRadius: percentBorderRadiusString,\n\t\t\tborderTopLeftRadius: percentBorderRadiusString,\n\t\t}\n\t\tif(props?.positionBottom){\n\t\t\tborderRadiusStyle = {\n\t\t\t\tborderBottomRightRadius: percentBorderRadiusString,\n\t\t\t\tborderBottomLeftRadius: percentBorderRadiusString,\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<View style={{width: width, backgroundColor: \"transparent\"}}>\n\t\t\t\t<ParentDimension setDimension={async (x, y, width, height) => {\n\t\t\t\t\tsetDimension({x: x, y: y, width: width, height: height})\n\t\t\t\t}} >\n\t\t\t\t\t<ViewPercentageBorderradius style={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\tbackgroundColor: \"gray\",\n\t\t\t\t\t\t...borderRadiusStyle,\n\t\t\t\t\t\tflex: 1, overflow: \"hidden\"\n\t\t\t\t\t}}>\n\t\t\t\t\t{heightHolder}\n\t\t\t\t\t{renderedForeground}\n\t\t\t\t\t{foreground}\n\t\t\t\t\t{renderBorderIfBig()}\n\t\t\t\t\t</ViewPercentageBorderradius>\n\t\t\t\t\t\t{/* TODO: weitere Bilder slider */}\n\t\t\t\t</ParentDimension>\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction renderBottomPart(){\n\n\t\tlet bottomPartStyle = {\n\t\t\tflexDirection: \"row\",\n\t\t\tpaddingVertical: \"1%\",\n\t\t\tpaddingHorizontal: \"3%\",\n\t\t\tbackgroundColor: bottomShadeColor,\n\t\t}\n\n\t\tlet outerBottomStyle = {\n\t\t\toverflow: \"hidden\",\n\t\t}\n\n\t\tif(small){\n\t\t\tlet outerBottomRoundStyle = {\n\t\t\t\tborderBottomRightRadius: percentBorderRadiusString,\n\t\t\t\tborderBottomLeftRadius: percentBorderRadiusString\n\t\t\t}\n\t\t\tif(props?.positionBottom){\n\t\t\t\touterBottomRoundStyle = {\n\t\t\t\t\tborderTopRightRadius: percentBorderRadiusString,\n\t\t\t\t\tborderTopLeftRadius: percentBorderRadiusString\n\t\t\t\t}\n\t\t\t}\n\t\t\touterBottomStyle = {...outerBottomStyle, ...outerBottomRoundStyle}\n\t\t}\n\n\t\tlet renderedBottom = null;\n\t\tif(props.renderBottom){\n\t\t\trenderedBottom = props.renderBottom(bottomShadeColor, textColor);\n\t\t}\n\n\t\treturn(\n\t\t\t<ViewPercentageBorderradius style={outerBottomStyle}>\n\t\t\t\t<View key={\"food_name\"} style={[bottomPartStyle]}>\n\t\t\t\t\t{StringHelper.renderZeroSpaceHeight(amountOfLines)}\n\t\t\t\t\t<View style={{flexDirection: \"column\", flex: 1}}>\n\t\t\t\t\t\t{renderedBottom}\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t</ViewPercentageBorderradius>\n\t\t)\n\t}\n\n\tfunction renderBorderIfBig(){\n\t\tif(!small){\n\t\t\treturn <DetailsCardBorder hideBottomPartAndQuickRate={true} borderRadius={percentBorderRadiusString} like={props?.liked} dislike={props?.disliked}  />\n\t\t}\n\t}\n\n\tfunction renderBorderIfSmall(){\n\t\tif(small){\n\t\t\treturn <DetailsCardBorder hideBottomPartAndQuickRate={false} borderRadius={percentBorderRadiusString} like={props?.liked} dislike={props?.disliked} />\n\t\t}\n\t}\n\n\treturn(\n\t\t<>\n\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t{renderTopPart()}\n\t\t\t\t{renderBottomPart()}\n\t\t\t\t{renderBorderIfSmall()}\n\t\t\t</View>\n\t\t</>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {MarkingSetting} from \"./MarkingSetting\";\nimport {NotFound} from \"../animations/NotFound\";\nimport {useSynchedMarkingsDict} from \"../../helper/synchedJSONState\";\nimport {Markings} from \"../../directusTypes/types\";\nimport {View, Text} from \"native-base\";\n\ninterface AppState {\n\tmarkings?: Markings[],\n\theader: any\n}\nexport const MarkingSettingsList: FunctionComponent<AppState> = (props) => {\n\n\tconst [allMarkingsDict, setAllMarkingsDict] = useSynchedMarkingsDict();\n\tconst allMarkings: Markings[] = Object.values(allMarkingsDict);\n\n\tconst markings = props?.markings;\n\n\tconst usedMarkings = markings || allMarkings;\n\n\tfunction renderMarkings(){\n\t\tlet rendered = [];\n\t\tif(allMarkingsDict===null){\n\t\t\trendered.push(<NotFound />)\n\t\t} else if(usedMarkings===undefined){\n\t\t\tfor(let i=0; i<30; i++){\n\t\t\t\trendered.push(<MarkingSetting marking={null} key={null} />)\n\t\t\t}\n\t\t} else {\n\t\t\tfor(let i=0; i<usedMarkings.length; i++){\n\t\t\t\tlet marking = usedMarkings[i];\n\t\t\t\trendered.push(<MarkingSetting marking={marking} key={marking.id+\"\"} />)\n\t\t\t}\n\t\t}\n\t\treturn rendered;\n\t}\n\n\treturn(\n\t\trenderMarkings()\n\t)\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {CrossLottie, Layout} from \"../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport allergist from \"../../assets/allergist.json\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {ProjectColoredCrossLottie} from \"./ProjectColoredCrossLottie\";\n\nexport const AnimationAllergene = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"70%\",\n\t\tsm: \"30%\",\n\t\tmd: Layout.WIDTH_MD*0.3,\n\t\tlg: Layout.WIDTH_LG*0.3,\n\t\txl: Layout.WIDTH_XL*0.3\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle aspectRatio={1343/964}>\n\t\t\t\t\t<ProjectColoredCrossLottie source={allergist} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","import {MyActionsheet} from \"../../../kitcheningredients\";\nimport React, {FunctionComponent} from \"react\";\nimport {ScrollView, Text, View} from \"native-base\";\nimport {Markings} from \"../../directusTypes/types\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {TouchableOpacity} from \"react-native\";\nimport {MarkingSettingsList} from \"./MarkingSettingsList\";\nimport {AnimationAllergene} from \"../animations/AnimationAllergene\";\nimport {MyTouchableOpacity} from \"../buttons/MyTouchableOpacity\";\n\ninterface AppState {\n    markings: Markings[]\n}\nexport const MarkingActionSheet: FunctionComponent<AppState> = (props) => {\n\n    const markings = props?.markings || [];\n    const actionsheet = MyActionsheet.useActionsheet();\n\n    const translationTitle = useAppTranslation(\"attention\");\n    const translationContent = useAppTranslation(\"marking_dislike_in_food\");\n\n    let handleCloseModal = () => {};\n\n    return (\n        <MyTouchableOpacity\n            accessibilityLabel={translationTitle+\"!: \"+translationContent}\n            onPress={() => {\n                actionsheet.show({\n                    title: <Text>{translationTitle}{\" !\"}</Text>,\n                    renderCustomContent: (onCloseModal) => {\n                        handleCloseModal = onCloseModal;\n                        return (\n                            <ScrollView style={{width: \"100%\"}}>\n                                <View style={{width: \"100%\", justifyContent: \"center\", alignContent: \"center\", alignItems: \"center\"}}>\n                                    <View>\n                                        <Text>{translationContent}</Text>\n                                    </View>\n                                </View>\n                                <AnimationAllergene />\n                                <View style={{width: \"100%\", justifyContent: \"center\"}}>\n                                    <MarkingSettingsList markings={markings} />\n                                </View>\n                            </ScrollView>\n                        )\n                    }\n                });\n            }}\n        >\n            {props.children}\n        </MyTouchableOpacity>\n    )\n}\n","import {Foodoffers} from \"../../directusTypes/types\";\nimport {ProfileAPI} from \"../profile/ProfileAPI\";\n\nexport class FoodOfferHelper{\n\n\tstatic useFoodOfferPrice(foodoffer?: Foodoffers){\n\t\tconst [priceGroup, setPriceGroup, priceGroups] = ProfileAPI.useSynchedPriceGroup();\n\n\t\tlet defaultPrice = foodoffer?.price_student;\n\t\tlet priceGroupInformation = priceGroups?.[priceGroup];\n\t\tlet food_offer_field = priceGroupInformation?.food_offer_field;\n\t\tlet food_offer_price = foodoffer?.[food_offer_field];\n\n\t\treturn food_offer_price || defaultPrice;\n\t}\n\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Text, useToast, View} from \"native-base\";\nimport {FoodImage} from \"./FoodImage\";\nimport {StringHelper} from \"../../helper/StringHelper\";\nimport {Navigation, NavigatorHelper, useMyContrastColor} from \"../../../kitcheningredients\";\nimport {FoodDetails} from \"../../screens/food/FoodDetails\";\nimport {Foodoffers, Foods} from \"../../directusTypes/types\";\nimport {FormatedPriceText} from \"./FormatedPriceText\";\nimport {FoodRatingSingle} from \"./foodfeedback/foodrating/FoodRatingSingle\";\nimport {FoodFeedbackAPI} from \"./foodfeedback/FoodFeedbackAPI\";\nimport {FoodRatingConstant} from \"./foodfeedback/foodrating/FoodRatingConstant\";\nimport {\n\tcountDislikedMarkings,\n\tgetDislikedMarkings,\n\tuseMarkingsFromFoodofferMarkings,\n\tuseSynchedProfileMarkingsDict\n} from \"../profile/MarkingAPI\";\nimport {MarkingIcon} from \"../marking/MarkingIcon\";\nimport {FoodName, useFoodName} from \"./FoodName\";\nimport {DefaultComponentCard} from \"../detailsComponent/DefaultComponentCard\";\nimport {ImageOverlayPaddingStyle} from \"../imageOverlays/ImageOverlay\";\nimport {ImageOverlayPosition, ImageOverlays} from \"../imageOverlays/ImageOverlays\";\nimport {DefaultComponentCardOverlayBox} from \"../detailsComponent/DefaultComponentCardOverlayBox\";\nimport {MarkingActionSheet} from \"../marking/MarkingActionSheet\";\nimport {FoodOfferHelper} from \"./FoodOfferHelper\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\n\n\ninterface AppState {\n\tplaceholder?: boolean\n\tfood?: Foods,\n\tonPress?: any,\n\thideBottomPartAndQuickRate?: boolean,\n\tonUpload?: any,\n\tfoodoffer?: Foodoffers\n\tsmall?: boolean,\n}\nexport const FoodCard: FunctionComponent<AppState> = (props) => {\n\n\tconst projectColor = ColorHelper.useProjectColor();\n\tconst overlayTextColor = useMyContrastColor(projectColor);\n\tconst markingBackgroundColor = \"#FF0000\";\n\tconst markingTextColor = useMyContrastColor(markingBackgroundColor);\n\n\tlet small = true;\n\tif(props?.small!==undefined && props?.small!==null){\n\t\tsmall = props.small;\n\t}\n\n\tconst foodoffer = props.foodoffer;\n\tconst foodOfferPrice = FoodOfferHelper.useFoodOfferPrice(foodoffer);\n\n\tconst food = props?.food;\n\tconst foodName = useFoodName(food);\n\n\tconst food_id = food?.id;\n\tconst placeholder = food===undefined;\n\tconst food_marking_relations = foodoffer?.markings || food?.markings;\n\n\tconst [ratingValue, setRatingValue] = FoodFeedbackAPI.useOwnFoodRating(food_id);\n\n\tconst [profilesMarkingsDict, setProfileMarking, removeProfileMarking] = useSynchedProfileMarkingsDict();\n\tconst markings = useMarkingsFromFoodofferMarkings(food_marking_relations);\n\tconst dislikedMarkings = getDislikedMarkings(markings, profilesMarkingsDict);\n\tconst amountOfDislikedMarkings = countDislikedMarkings(markings, profilesMarkingsDict);\n\tconst isDislikedMarking = amountOfDislikedMarkings > 0;\n\tconst isLikeRating = FoodRatingConstant.isLikeRating(ratingValue);\n\tconst isDislikeRating = FoodRatingConstant.isDislikeRating(ratingValue);\n\n\tconst disliked = isDislikedMarking || isDislikeRating;\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props])\n\n\tlet amountOfLines = 3;\n\n\tfunction renderMarkingWarning(width){\n\t\tif(isDislikedMarking){\n\t\t\treturn (\n\t\t\t\t<DefaultComponentCardOverlayBox backgroundColor={markingBackgroundColor} width={width} position={ImageOverlayPosition.TOP_RIGHT} withouthPadding={true} >\n\t\t\t\t\t\t<MarkingActionSheet markings={dislikedMarkings} >\n\t\t\t\t\t\t\t<View style={ImageOverlayPaddingStyle}>\n\t\t\t\t\t\t\t\t<MarkingIcon color={markingTextColor} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</MarkingActionSheet>\n\t\t\t\t</DefaultComponentCardOverlayBox>\n\t\t\t)\n\t\t}\n\t}\n\n\tfunction renderQuickRating(width){\n\t\tif(props?.hideBottomPartAndQuickRate){\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<DefaultComponentCardOverlayBox width={width} position={ImageOverlayPosition.TOP_RIGHT} withouthPadding={true}>\n\t\t\t\t<FoodRatingSingle color={overlayTextColor} food_id={food_id} defaultRatingValue={5} />\n\t\t\t</DefaultComponentCardOverlayBox>\n\t\t)\n\t}\n\n\tfunction renderPrice(width, foodoffer){\n\t\tlet price = foodOfferPrice;\n\n\t\tif(price==null){\n\t\t\treturn null;\n\t\t}\n\n\t\treturn(\n\t\t\t<DefaultComponentCardOverlayBox width={width} position={ImageOverlayPosition.BOTTOM_RIGHT} withouthPadding={false}>\n\t\t\t\t{StringHelper.renderZeroSpaceHeight()}\n\t\t\t\t<FormatedPriceText color={overlayTextColor} price={price} />\n\t\t\t</DefaultComponentCardOverlayBox>\n\t\t)\n\t}\n\n\tfunction handlePressImage(){\n\t\tif(!!props?.onPress){\n\t\t\tprops.onPress(food);\n\t\t} else {\n\t\t\tlet id = food?.id;\n\t\t\tif(!!id){\n\t\t\t\tNavigation.navigateTo(FoodDetails, {id: id, showbackbutton: true, foodoffer_id: foodoffer?.id})\n//\t\t\t\tNavigatorHelper.navigateWithoutParams(FoodDetails, false, {id: id, showbackbutton: true, foodoffer_id: foodoffer?.id});\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction renderTop(width){\n\t\treturn(\n\t\t\t<FoodImage alt={foodName} key={JSON.stringify(food)} food={food} placeholder={placeholder} onUpload={props.onUpload} >\n\t\t\t</FoodImage>\n\t\t)\n\t}\n\n\tfunction renderTopForeground(width){\n\t\treturn(\n\t\t\t\t<ImageOverlays width={width}>\n\t\t\t\t\t{renderQuickRating(width)}\n\t\t\t\t\t{renderMarkingWarning(width)}\n\t\t\t\t\t{renderPrice(width, foodoffer)}\n\t\t\t\t</ImageOverlays>\n\t\t)\n\t}\n\n\tfunction renderBottom(backgroundColor, textColor){\n\t\treturn <Text color={textColor} selectable={true} numberOfLines={amountOfLines}>{foodName}</Text>\n\t}\n\n\treturn(\n\t\t<DefaultComponentCard\n\t\t\taccessibilityLabel={foodName}\n\t\t\tsmall={small} onPressTop={handlePressImage} renderTop={renderTop} renderTopForeground={renderTopForeground} renderBottom={renderBottom} liked={isLikeRating} disliked={disliked} />\n\t)\n}\n","import React, {useEffect, useState} from \"react\";\nimport {FoodCard} from \"./FoodCard\";\nimport {GridList} from \"../GridList\";\nimport {Text} from \"native-base\"\nimport {FoodFeedbackAPI} from \"./foodfeedback/FoodFeedbackAPI\";\nimport {FoodRatingConstant} from \"./foodfeedback/foodrating/FoodRatingConstant\";\nimport {\n\tcountDislikedMarkings,\n\tcountLikedMarkings,\n\tuseMarkingsFromFoodofferMarkings,\n\tuseSynchedProfileMarkingsDict\n} from \"../profile/MarkingAPI\";\nimport {useSynchedMarkingsDict} from \"../../helper/synchedJSONState\";\n\nexport const FoodCardListComponent = ({foodoffers, errorComponent, nothingFoundComponent, children, onUpload,...props}: any) => {\n\n\tconst ownFeedbacks = FoodFeedbackAPI.getOwnFeedbacks();\n\tconst [profilesMarkingsDict, setProfileMarking, removeProfileMarking] = useSynchedProfileMarkingsDict();\n\tconst [allMarkingsDict, setAllMarkingsDict] = useSynchedMarkingsDict();\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props])\n\n\tlet renderedFoodCards = [];\n\n\t//console.log(\"FoodCardListComponent\");\n\t//console.log(foodoffers);\n\n\tif(foodoffers===null){\n\t\treturn errorComponent\n\t} else if(foodoffers===undefined){\n\t\tfor(let i=0; i<10; i++){\n\t\t\trenderedFoodCards.push(<FoodCard key={\"\"+i} food={undefined} />)\n\t\t}\n\t} else {\n\t\tif(foodoffers.length===0){\n\t\t\treturn nothingFoundComponent;\n\t\t} else {\n\t\t\tlet sortedFoodOffers = sortFoodsOffers(foodoffers);\n\n\t\t\tfor(let i = 0; i<sortedFoodOffers.length; i++){\n\t\t\t\tlet foodoffer = sortedFoodOffers[i];\n\t\t\t\trenderedFoodCards.push(<FoodCard key={foodoffer.id} foodoffer={foodoffer} food={foodoffer?.food} onUpload={onUpload} />)\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction sortFoodsOffers(foodoffers){\n\t\tfoodoffers = sortFoodOffersByRating(foodoffers);\n\t\tfoodoffers = sortFoodOffersByMarkings(foodoffers);\n\t\treturn foodoffers;\n\t}\n\n\tfunction sortFoodOffersByMarkings(foodoffers){\n\t\tlet copyFoodOffers = foodoffers.slice();\n\t\tcopyFoodOffers.sort((foodoffer_a, foodoffer_b) => {\n\t\t\t//console.log(\"Sort by markings\");\n\n\t\t\tif(!foodoffer_a && !foodoffer_b){\n\t\t\t\t//console.log(\"Both foodoffers are null\");\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(!foodoffer_a){\n\t\t\t\t//console.log(\"Foodoffer a is null\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif(!foodoffer_b){\n\t\t\t\t//console.log(\"Foodoffer b is null\");\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\t//console.log(\"Foodoffer a: \" + foodoffer_a.id);\n\t\t\t//console.log(foodoffer_a)\n\t\t\t//console.log(\"Foodoffer b: \" + foodoffer_b.id);\n\t\t\t//console.log(foodoffer_b)\n\n\t\t\tconst food_offer_markings_a = foodoffer_a?.markings;\n\t\t\tconst markings_a = useMarkingsFromFoodofferMarkings(food_offer_markings_a, allMarkingsDict);\n\n\t\t\tconst food_offer_markings_b = foodoffer_b?.markings;\n\t\t\tconst markings_b = useMarkingsFromFoodofferMarkings(food_offer_markings_b, allMarkingsDict);\n\n\t\t\tlet amount_food_a_disliked_markings = countDislikedMarkings(markings_a, profilesMarkingsDict);\n\t\t\tlet amount_food_b_disliked_markings = countDislikedMarkings(markings_b, profilesMarkingsDict);\n\t\t\t//console.log(\"Amount food a disliked markings: \" + amount_food_a_disliked_markings);\n\t\t\t//console.log(\"Amount food b disliked markings: \" + amount_food_b_disliked_markings);\n\n\t\t\t//console.log(\"--------\")\n\n\t\t\tif(amount_food_a_disliked_markings === amount_food_b_disliked_markings){\n\t\t\t\tlet amount_food_a_liked_markings = countLikedMarkings(markings_a, profilesMarkingsDict);\n\t\t\t\tlet amount_food_b_liked_markings = countLikedMarkings(markings_b, profilesMarkingsDict);\n\t\t\t\treturn amount_food_b_liked_markings - amount_food_a_liked_markings;\n\t\t\t} else{\n\t\t\t\treturn amount_food_a_disliked_markings-amount_food_b_disliked_markings;\n\t\t\t}\n\t\t});\n\t\treturn copyFoodOffers;\n\t}\n\n\tfunction sortFoodOffersByRating(foodoffers){\n\t\tlet copyFoodOffers = foodoffers.slice();\n\t\tcopyFoodOffers.sort((foodoffer_a, foodoffer_b) => {\n\t\t\treturn sortFoodsByRating(foodoffer_a?.food, foodoffer_b?.food);\n\t\t});\n\t\treturn copyFoodOffers;\n\t}\n\n\tfunction sortFoodsByRating(food_a, food_b){\n\t\tlet food_a_id = food_a.id;\n\t\tconst food_a_rating = FoodFeedbackAPI.getOwnFoodRating(ownFeedbacks, food_a_id);\n\t\tlet food_b_id = food_b.id;\n\t\tconst food_b_rating = FoodFeedbackAPI.getOwnFoodRating(ownFeedbacks, food_b_id);\n\n\t\t// if both have no rating or are identical, return 0\n\t\tif(food_a_rating === food_b_rating){\n\t\t\treturn 0;\n\t\t}\n\n\t\tif(!food_a_rating){\n\t\t\tif(food_b_rating < FoodRatingConstant.middleRatingValue){\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn 1;\n\t\t}\n\t\tif(!food_b_rating){\n\t\t\tif(food_a_rating < FoodRatingConstant.middleRatingValue){\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tif(food_a_rating>food_b_rating){\n\t\t\treturn -1;\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t}\n\n\treturn(\n\t\t<GridList paddingHorizontal={\"2%\"} useFlatList={true}>\n\t\t\t{renderedFoodCards}\n\t\t</GridList>\n\t)\n}\n","import React, {useEffect, useState} from \"react\";\nimport {NoFoodOffersFound} from \"./NoFoodOffersFound\";\nimport {NotFound} from \"../animations/NotFound\";\nimport {OtherFoodOffersDaysFound} from \"./OtherFoodOffersDaysFound\";\nimport {FoodCardListComponent} from \"./FoodCardListComponent\";\n\nexport const FoodOfferListComponent = ({foodoffers, children, onUpload,...props}: any) => {\n\treturn(\n\t\t<FoodCardListComponent\n\t\t\tfoodoffers={foodoffers}\n\t\t\tonUpload={onUpload}\n\t\t\terrorComponent={ <NotFound />}\n\t\t\tnothingFoundComponent={[<NoFoodOffersFound />, <OtherFoodOffersDaysFound />]}\n\t\t/>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\nimport {Ionicons} from \"@expo/vector-icons\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n    color?: string\n    size?: string,\n    accessibilityLabel?: string,\n}\nexport const CanteenIcon: FunctionComponent<AppState> = (props) => {\n\n  return (\n      <Icon name={\"restaurant\"} as={Ionicons} color={props.color} accessibilityLabel={props?.accessibilityLabel} />\n  )\n}\n","import React, { useEffect, useState, FunctionComponent } from \"react\";\nimport { FlatList, Text, View } from \"native-base\";\nimport { BasePadding } from \"../../../kitcheningredients\";\nimport { AnimationAllergene } from \"../../components/animations/AnimationAllergene\";\nimport { AppTranslation } from \"../../components/translations/AppTranslation\";\nimport { MarkingSetting } from \"../../components/marking/MarkingSetting\";\nimport { NotFound } from \"../../components/animations/NotFound\";\nimport { useSynchedMarkingsDict } from \"../../helper/synchedJSONState\";\nimport { Markings } from \"../../directusTypes/types\";\n\nexport const SettingMarking: FunctionComponent = (props) => {\n\tconst [mounted, setMounted] = useState(false);\n\tconst [allMarkingsDict, setAllMarkingsDict] = useSynchedMarkingsDict();\n\tconst allMarkings: Markings[] = Object.values(allMarkingsDict);\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t\tsetMounted(true);\n\t}, [props?.route?.params]);\n\n\tconst ListHeader = () => (\n\t\t<View style={{ width: \"100%\" }}>\n\t\t\t<BasePadding>\n\t\t\t\t<Text fontSize={\"md\"}>\n\t\t\t\t\t<AppTranslation id={\"settingsMarkingHelpText\"} />\n\t\t\t\t</Text>\n\t\t\t\t<AnimationAllergene />\n\t\t\t</BasePadding>\n\t\t</View>\n\t);\n\n\tconst renderItem = ({ item }) => <MarkingSetting marking={item} key={item.id + \"\"} />;\n\n\treturn (\n\t\t\t<FlatList\n\t\t\t\tdata={allMarkings}\n\t\t\t\tListHeaderComponent={ListHeader}\n\t\t\t\trenderItem={renderItem}\n\t\t\t\tkeyExtractor={(item) => item.id.toString()}\n\t\t\t/>\n\t);\n};\n","import React, {FunctionComponent} from \"react\";\nimport {CollectionImage} from \"../../components/images/CollectionImage\";\nimport {Image} from \"react-native\";\nimport {Buildings} from \"../../directusTypes/types\";\nimport {BuildingHelper} from \"./BuildingHelper\";\n\ninterface AppState {\n\tresource: Buildings\n}\nexport const BuildingsImage: FunctionComponent<AppState> = (props) => {\n\n\tlet customFallbackComponent = undefined\n\tconst resource = props?.resource;\n\tconst title = BuildingHelper.getName(resource);\n\n\tif(resource?.image_remote_url){\n\t\tlet source={\n\t\t\turi: resource?.image_remote_url,\n\t\t}\n\t\tcustomFallbackComponent = <Image source={source} alt={title || \"Image\"} style={{width: \"100%\", height: \"100%\"}}/>\n\t}\n\n\treturn(\n\t\t<CollectionImage\n\t\t\tcollection={\"buildings\"}\n\t\t\titem={props?.resource}\n\t\t\titemImageField={\"image\"}\n\t\t\tplacerholder_image_id={undefined}\n\t\t\tplaceholder={undefined}\n\t\t\tonUpload={undefined}\n\t\t\thideManipulation={undefined}\n\t\t\talt={title}\n\t\t\tcustomFallbackComponent={customFallbackComponent}\n\t\t>\n\t\t\t{props?.children}\n\t\t</CollectionImage>\n\t)\n\n}\n","import React, {useEffect, useState} from \"react\";\nimport {useSynchedBuilding, useSynchedBuildingsDict} from \"../../helper/synchedJSONState\";\nimport {BuildingsImage} from \"../buildings/BuildingsImage\";\n\nexport const CanteenImage = ({canteen ,...props}: any) => {\n\n\tconst buildingResourceId = canteen?.building;\n\tconst canteenBuilding = useSynchedBuilding(buildingResourceId);\n\n\treturn (\n\t\t<BuildingsImage resource={canteenBuilding} >\n\t\t\t{props?.children}\n\t\t</BuildingsImage>\n\t)\n}\n","import {useSynchedProfileCanteen} from \"../../components/profile/ProfileAPI\";\nimport {useSynchedBuilding, useSynchedCanteen} from \"../synchedJSONState\";\nimport {BuildingHelper} from \"../../components/buildings/BuildingHelper\";\nimport {LocationType} from \"../geo/LocationType\";\n\nexport function useNearestLocation(): LocationType {\n    const [profileCanteenId, setProfileCanteenId] = useSynchedProfileCanteen();\n\n    const profiles_canteen = useSynchedCanteen(profileCanteenId);\n    const canteens_building_id = profiles_canteen?.building;\n    const canteens_building = useSynchedBuilding(canteens_building_id);\n\n    return BuildingHelper.getBuildingLocation(canteens_building);\n}\n","import React, {FunctionComponent} from \"react\";\nimport {TouchableOpacity} from \"react-native\";\nimport {CommonSystemActionHelper} from \"../SystemActionHelper\";\nimport {LocationType} from \"./LocationType\";\nimport {Text, Tooltip} from \"native-base\";\n\nexport type NotificationHelperComponentProps = {\n    location: LocationType,\n    style?: any;\n    accessibilityHint?: string; // \"open\"\n    accessibilityLabel?: string; // distance as text\n}\nexport const LocationOpenerComponent: FunctionComponent<NotificationHelperComponentProps> = (props) => {\n\n    const location = props?.location;\n    const accessibilityHint = props?.accessibilityHint || \"open\";\n    const accessibilityLabel = props?.accessibilityLabel || accessibilityHint;\n\n    function onPress(){\n        CommonSystemActionHelper.openMaps(location);\n    }\n\n    return(\n        <Tooltip label={accessibilityLabel}>\n            <TouchableOpacity style={props?.style} onPress={onPress} accessibilityLabel={accessibilityLabel}>\n                {props.children}\n            </TouchableOpacity>\n        </Tooltip>\n    )\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {useSynchedBuilding, useSynchedBuildingsDict} from \"../../helper/synchedJSONState\";\nimport {BuildingHelper} from \"./BuildingHelper\";\nimport {LocationOpenerComponent} from \"../../helper/geo/LocationOpenerComponent\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\n\ninterface AppState {\n\tresource_id: any,\n\tsmall?: boolean,\n}\nexport const BuildingLocationOpenerComponent: FunctionComponent<AppState> = (props) => {\n\n\tconst resource_id = props?.resource_id;\n\tconst building = useSynchedBuilding(resource_id);\n\tconst location = BuildingHelper.getBuildingLocation(building);\n\tconst accessibilityHint = useAppTranslation(\"openLocationInMaps\");\n\n\treturn (\n\t\t<LocationOpenerComponent location={location} accessibilityLabel={accessibilityHint}>\n\t\t\t{props.children}\n\t\t</LocationOpenerComponent>\n\t)\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {useSynchedBuilding} from \"../../helper/synchedJSONState\";\nimport {useNearestLocation} from \"../../helper/synchedHelper/useNearestLocation\";\nimport {BuildingHelper} from \"./BuildingHelper\";\nimport {Text, Tooltip} from \"native-base\";\nimport {ViewPixelRatio} from \"../../helper/ViewPixelRatio\";\nimport {StringHelper} from \"../../helper/StringHelper\";\nimport {BuildingLocationOpenerComponent} from \"./BuildingLocationOpenerComponent\";\nimport {ImageOverlayPosition} from \"../imageOverlays/ImageOverlays\";\nimport {DefaultComponentCardOverlayBox} from \"../detailsComponent/DefaultComponentCardOverlayBox\";\nimport {ImageOverlayPaddingStyle} from \"../imageOverlays/ImageOverlay\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\nimport {useMyContrastColor} from \"../../../kitcheningredients\";\n\ninterface AppState {\n\tresource_id: any,\n\twidth?: number,\n\tposition?: ImageOverlayPosition,\n}\nexport const BuildingsCardOverlayDistance: FunctionComponent<AppState> = (props) => {\n\n\tconst resource_id = props?.resource_id;\n\tconst building = useSynchedBuilding(resource_id);\n\tconst nearestLocation = useNearestLocation();\n\n\tconst projectColor = ColorHelper.useProjectColor();\n\tconst overlayTextColor = useMyContrastColor(projectColor);\n\n\tconst width = props?.width;\n\n\tlet resource = building;\n\tconst resourceId = resource?.id;\n\n\n\tlet distance = BuildingHelper.getBuildingDistance(resource, nearestLocation);\n\n\tlet renderedText = \"\";\n\tif(distance !== undefined && distance !== null){ // distance can be 0\n\t\tlet formatedDistance = BuildingHelper.formatBuildingDistance(distance);\n\t\trenderedText = formatedDistance\n\t\treturn(\n\t\t\t<DefaultComponentCardOverlayBox width={width} position={props?.position} withouthPadding={true}>\n\t\t\t\t\t<BuildingLocationOpenerComponent resource_id={resourceId} >\n\t\t\t\t\t\t<ViewPixelRatio style={[{flexDirection: \"row\", justifyContent: \"center\", minWidth: \"25%\", alignItems: \"flex-end\"}, ImageOverlayPaddingStyle]}>\n\t\t\t\t\t\t\t{StringHelper.renderZeroSpaceHeight()}\n\t\t\t\t\t\t\t<Text color={overlayTextColor}>{renderedText}</Text>\n\t\t\t\t\t\t</ViewPixelRatio>\n\t\t\t\t\t</BuildingLocationOpenerComponent>\n\t\t\t</DefaultComponentCardOverlayBox>\n\t\t)\n\t}\n\treturn null;\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const InfoIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"information\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {DetailsComponentMenus, DetailsComponentMenuType} from \"./DetailsComponentMenus\";\nimport {ScrollView, Text, View} from \"native-base\";\nimport {MyActionsheet} from \"../../../kitcheningredients\";\nimport {useDebugMode} from \"../../helper/synchedJSONState\";\nimport {DebugIcon} from \"../icons/DebugIcon\";\n\nexport type DetailsComponentMenuRelationType = {\n\tmenu: DetailsComponentMenuType,\n\trenderContent?: (onClose?: () => void) => any,\n}\nexport interface AppState{\n\t// menus are a dict with DetailsComponentMenuType as value and a string as key\n\tmenus?: Record<string, DetailsComponentMenuType>,\n\trelations: Record<string, DetailsComponentMenuRelationType>,\n\tgetOnClose?: (onClose: any) => void,\n}\nexport const DetailsComponentMenusForRelations: FunctionComponent<AppState> = (props) => {\n\n\tconst actionsheet = MyActionsheet.useActionsheet();\n\tconst [debug, setDebug] = useDebugMode()\n\n\tfunction getDetailsComponentMenuForRelation(relation: DetailsComponentMenuRelationType){\n\t\tlet menu = relation?.menu;\n\t\tif(menu?.amount === 0){\n\t\t\tif(debug){ // if debug mode is enabled, show the amount of relations\n\t\t\t\tmenu.renderIcon = (backgroundColor, textColor) => {\n\t\t\t\t\treturn <DebugIcon color={textColor} />\n\t\t\t\t}\n\t\t\t} else { // if not in debug mode, don't show the menu\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\tlet menuOnPress = menu.onPress;\n\n\t\tlet relationOnPress = async () => {\n\t\t\tif(menuOnPress){\n\t\t\t\treturn await menuOnPress();\n\t\t\t} else {\n\t\t\t\tconst onClose = actionsheet.show({\n\t\t\t\t\ttitle: menu.renderContent(undefined, undefined),\n\t\t\t\t\trenderCustomContent: (onClose) => {\n\t\t\t\t\t\treturn <ScrollView style={{width: \"100%\"}} >{relation?.renderContent(onClose)}</ScrollView>\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(props?.getOnClose){\n\t\t\t\t\t//console.log(\"getOnClose\");\n\t\t\t\t\tonClose();\n\t\t\t\t\tprops.getOnClose(onClose);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlet menuCopy = {\n\t\t\t...menu\n\t\t}\n\t\tmenuCopy.onPress = relationOnPress;\n\t\treturn menuCopy;\n\t}\n\n\tfunction getMenusForRelations(){\n\t\tconst relations = props.relations;\n\t\tconst relationKeys = Object.keys(relations);\n\t\tconst menus = {};\n\t\tfor(let relationKey of relationKeys){\n\t\t\tconst relation = relations[relationKey];\n\t\t\tmenus[relationKey] = getDetailsComponentMenuForRelation(relation);\n\t\t}\n\t\treturn menus;\n\t}\n\n\tconst menusForRelations = getMenusForRelations();\n\tconst menusFromProps = props.menus || {};\n\tconst menus = {...menusFromProps, ...menusForRelations};\n\n\treturn(\n\t\t<DetailsComponentMenus menus={menus} spacer={null} style={{width: \"100%\", flexDirection: \"row\", flexWrap: \"wrap\", alignItems: \"center\"}} hideSelection={true} />\n\t)\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n\tstyle?,\n}\nexport const ShowLocationIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"google-maps\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props?.color} style={props?.style} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const DescriptionIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"file-document\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {SettingsRowInner} from \"../settings/SettingsRowInner\";\nimport {Icon, MyActionsheet, useMyContrastColor} from \"../../../kitcheningredients\";\nimport {MyAlertProps} from \"../../../kitcheningredients\";\nimport {MyTouchableOpacity} from \"./MyTouchableOpacity\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\nimport {ViewPercentageBorderradius} from \"../../helper/ViewPercentageBorderradius\";\n\nexport interface AppState{\n\tcolor?: string,\n\taccessibilityLabel: string,\n\tisSelected?: boolean,\n\tlabel?: string\n\thideSelection?: boolean,\n\trenderContent?: (backgroundColor, textColor) => any,\n\tactiveColor?: string,\n\tonPress?: () => Promise<boolean | undefined>, // an async onPress function that returns a boolean or undefined\n\tonPressShowActionsheet?: [params: MyAlertProps, options?: any],\n\telement?: JSX.Element,\n\ticonName?: string,\n\trenderIcon?: (backgroundColor, textColor) => any,\n\tamount?: number,\n\tdisabled?: boolean,\n}\nexport const MyButton: FunctionComponent<AppState> = (props) => {\n\n\tconst actionsheet = MyActionsheet.useActionsheet();\n\n\t// ToDo: Idea\n\t//\t\t\t<ViewPercentageBorderradius style={{borderRadius: \"5%\", overflow: \"hidden\"}} >\n\t// \t\t\t\t<MyThemedBox _shadeLevel={disabledShadeLevel} >\n\n\tconst defaultColor = ColorHelper.useProjectColor();\n\tlet defaultActiveColor = ColorHelper.useDarkenProjectColor()\n\n\tif(props?.hideSelection) {\n\t\tdefaultActiveColor = defaultColor;\n\t}\n\n\tlet isSelected = props?.isSelected;\n\n\tlet color = props?.color || defaultColor;\n\tlet activeColor = props?.activeColor || defaultActiveColor;\n\tlet usedBackgroundColor = color;\n\tif(isSelected && !props?.hideSelection){\n\t\tusedBackgroundColor = activeColor;\n\t}\n\tlet textColor = useMyContrastColor(usedBackgroundColor);\n\n\n\tconst actionsheetContent = props?.onPressShowActionsheet;\n\tconst onPressMenu = props?.onPress;\n\n\tlet amount = props?.amount;\n\tlet amountText = \"\";\n\tif(amount!==undefined){\n\t\tamountText = \" (\"+amount+\")\";\n\t}\n\n\tlet icon = props?.iconName;\n\tlet renderedIcon = null;\n\tif(!!icon){\n\t\trenderedIcon = <Icon color={textColor} name={icon} />\n\t}\n\tif(props?.renderIcon){\n\t\trenderedIcon = props.renderIcon(usedBackgroundColor, textColor);\n\t}\n\n\tlet additionalStyle = {};\n\n\tif(isSelected && !props?.hideSelection){\n\t\tlet selectedStyle = {\n\t\t\tborderWidth: 2,\n\t\t\tborderColor: \"white\",\n\t\t}\n\t\tadditionalStyle = selectedStyle;\n\t}\n\n\tlet content = props?.children;\n\tif(props?.label){\n\t\tcontent = <Text color={textColor}>{props?.label}</Text>\n\t}\n\tif(props?.renderContent){\n\t\tcontent = props.renderContent(usedBackgroundColor, textColor);\n\t}\n\n\n\treturn(\n\t\t<ViewPercentageBorderradius style={{marginHorizontal: 5, marginVertical: 5}}>\n\t\t\t\t<MyTouchableOpacity accessibilityLabel={props?.accessibilityLabel} disabled={props?.disabled} style={[{borderColor: \"transparent\", borderWidth: 2,justifyContent: \"center\", backgroundColor: usedBackgroundColor, borderRadius: 10}, additionalStyle]}\n\t\t\t\t\t\t\t\t  onPress={async () => {\n\t\t\t\t\t\t\t\t\t  if(actionsheetContent){\n\t\t\t\t\t\t\t\t\t\t  const params = actionsheetContent[0];\n\t\t\t\t\t\t\t\t\t\t  const options = actionsheetContent[1];\n\t\t\t\t\t\t\t\t\t\t  actionsheet.show(params, options);\n\t\t\t\t\t\t\t\t\t  } else {\n\t\t\t\t\t\t\t\t\t\t  if(onPressMenu){\n\t\t\t\t\t\t\t\t\t\t\t  await onPressMenu();\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t  }}\n\t\t\t\t>\n\t\t\t\t\t<SettingsRowInner leftContent={content} leftIcon={renderedIcon} rightIcon={<Text color={textColor}>{amountText}</Text>} />\n\t\t\t\t</MyTouchableOpacity>\n\t\t</ViewPercentageBorderradius>\n\t)\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const ExternalLinksIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"launch\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {BasePadding} from \"../../../kitcheningredients\";\nimport {Button, Text, View} from \"native-base\";\nimport {useSynchedBuilding} from \"../../helper/synchedJSONState\";\nimport {DirectusTranslatedMarkdown} from \"../../components/translations/DirectusTranslatedMarkdown\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {DescriptionIcon} from \"../../components/icons/DescriptionIcon\";\nimport {InfoIcon} from \"../icons/InfoIcon\";\nimport {BuildingHelper} from \"./BuildingHelper\";\nimport {MyButton} from \"../buttons/MyButton\";\nimport {ExternalLinksIcon} from \"../icons/ExternalLinkIcon\";\n\nexport function BuildingsContentActionMenuDescription(resource_id, additionalContent?){\n\tconst resource = useSynchedBuilding(resource_id);\n\n\tconst openURL = useAppTranslation(\"openURL\");\n\tconst noURLFound = useAppTranslation(\"noURLFound\");\n\tconst moreInformations = useAppTranslation(\"moreInformations\");\n\n\tfunction renderDescription(){\n\t\treturn(\n\t\t\t<BasePadding>\n\t\t\t\t<DirectusTranslatedMarkdown item={resource} field={\"content\"} />\n\t\t\t\t{renderUrl()}\n\t\t\t</BasePadding>\n\t\t)\n\t}\n\n\tfunction renderUrl(){\n\t\tlet url = BuildingHelper.getBuildingUrl(resource)\n\t\tlet urlFound = !!url;\n\t\tif(!urlFound){\n\t\t\treturn null;\n\t\t}\n\n\t\tlet text = !!url ? openURL : noURLFound;\n\t\treturn(\n\t\t\t<View>\n\t\t\t\t<Text>{moreInformations+\":\"}</Text>\n\t\t\t\t<MyButton renderIcon={(backgroundColor, textColor) => {\n\t\t\t\t\treturn <ExternalLinksIcon color={textColor} />\n\t\t\t\t}} key={\"url\"} disabled={!url} onPress={() => {\n\t\t\t\t\tBuildingHelper.openURL(resource);\n\t\t\t\t}} label={text} ></MyButton>\n\t\t\t</View>\n\t\t)\n\t}\n\n\tconst element = []\n\n\tif(resource){\n\t\telement.push(renderDescription());\n\t}\n\tif(additionalContent){\n\t\telement.push(additionalContent);\n\t}\n\n\tif(element.length > 0){\n\t\treturn {\n\t\t\telement: renderDescription(),\n\t\t\trenderIcon: (backgroundColor, textColor) => {return <DescriptionIcon color={textColor} />},\n\t\t\trenderContent: (backgroundColor, textColor) => {return <AppTranslation color={textColor} id={\"description\"} />},\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const CopyIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"content-copy\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","// @ts-nocheck\nimport React from \"react\";\n\nexport class MyClipboard {\n\n    static async copyText(toast, clipboard, text: string){\n        await clipboard.onCopy(text);\n        toast.show({\n            description: \"Copied\"\n        });\n    }\n}\n","import React from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\nimport {useClipboard, useToast, View} from \"native-base\";\nimport {useSynchedBuilding} from \"../../helper/synchedJSONState\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {InfoIcon} from \"../icons/InfoIcon\";\nimport {SettingsRow} from \"../settings/SettingsRow\";\nimport {ShowLocationIcon} from \"../icons/ShowLocationIcon\";\nimport {CopyIcon} from \"../icons/CopyIcon\";\nimport {MyClipboard} from \"../../helper/MyClipboard\";\nimport {BuildingHelper} from \"./BuildingHelper\";\nimport {DebugIcon} from \"../icons/DebugIcon\";\n\nexport function BuildingsContentActionMenuBuildingInformation(resource_id, additionalInformation?){\n\tconst resource = useSynchedBuilding(resource_id);\n\n\tconst translation_openNavigationToLocation = useAppTranslation(\"openNavigationToLocation\");\n\tconst translation_coordinates = useAppTranslation(\"coordinates\");\n\tconst translation_openURL = useAppTranslation(\"openURL\")\n\tconst translation_copy = useAppTranslation(\"copy\")\n\tconst translation_yearOfConstruction = useAppTranslation(\"yearOfConstruction\");\n\tconst translation_unknown = useAppTranslation(\"unknown\");\n\n\tconst yearOfConstructionAsString = getYearOfConstructionAsString();\n\n\tconst toast = useToast();\n\tconst clipboard = useClipboard();\n\n\tconst location = BuildingHelper.getBuildingLocation(resource);\n\tconst hasLocation = !!location?.latitude && location?.longitude;\n\tconst locationAsString = getLocationAsString(location);\n\n\tfunction getLocationAsString(location){\n\t\treturn location?.latitude + \", \" + location?.longitude;\n\t}\n\n\tfunction getYearOfConstructionAsString(){\n\t\tconst year_of_construction = resource?.year_of_construction || translation_unknown;\n\n\t\treturn year_of_construction\n\t}\n\n\tfunction renderBuildingInformation(){\n\t\tif(!resource){\n\t\t\treturn null;\n\t\t} else {\n\t\t\tlet routeInformations = null;\n\t\t\tif(hasLocation){\n\t\t\t\trouteInformations = (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<SettingsRow\n\t\t\t\t\t\t\taccessibilityLabel={translation_openNavigationToLocation}\n\t\t\t\t\t\t\tleftIcon={<ShowLocationIcon/>}\n\t\t\t\t\t\t\tleftContent={translation_openNavigationToLocation}\n\t\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\t\tBuildingHelper.openLocation(resource);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SettingsRow\n\t\t\t\t\t\t\taccessibilityLabel={translation_copy+\": \"+translation_coordinates}\n\t\t\t\t\t\t\tleftIcon={<ShowLocationIcon/>}\n\t\t\t\t\t\t\tleftContent={translation_coordinates}\n\t\t\t\t\t\t\trightContent={locationAsString}\n\t\t\t\t\t\t\trightIcon={<CopyIcon />}\n\t\t\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\t\t\tawait MyClipboard.copyText(toast, clipboard, getLocationAsString());\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\t}\n\n\n\t\t\treturn(\n\t\t\t\t<>\n\t\t\t\t\t{routeInformations}\n\t\t\t\t\t<SettingsRow\n\t\t\t\t\t\taccessibilityLabel={translation_openURL}\n\t\t\t\t\t\tleftIcon={<Icon name={\"web\"}/>}\n\t\t\t\t\t\tleftContent={translation_openURL}\n\t\t\t\t\t\trightContent={BuildingHelper.getBuildingUrl(resource)}\n\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\tBuildingHelper.openURL(resource);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<SettingsRow\n\t\t\t\t\t\taccessibilityLabel={translation_yearOfConstruction+\": \"+yearOfConstructionAsString}\n\t\t\t\t\t\tleftIcon={<Icon name={\"hard-hat\"}/>}\n\t\t\t\t\t\tleftContent={translation_yearOfConstruction}\n\t\t\t\t\t\trightContent={yearOfConstructionAsString}\n\t\t\t\t\t/>\n\n\t\t\t\t</>\n\t\t\t)\n\t\t}\n\t}\n\n\tfunction renderInformation(){\n\t\treturn <View>\n\t\t\t{additionalInformation}\n\t\t\t{renderBuildingInformation()}\n\t\t</View>\n\t}\n\n\treturn {\n\t\telement: renderInformation(),\n\t\trenderIcon: (backgroundColor, textColor) => {return <InfoIcon color={textColor} />},\n\t\trenderContent: (backgroundColor, textColor) => {return <AppTranslation color={textColor} id={\"information\"} />},\n\t}\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {CrossLottie, KitchenSkeleton, Layout} from \"../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport washingmachine from \"../../assets/washingmachine.json\";\nimport washingmachineEmpty from \"../../assets/washingmachine-empty.json\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {ProjectColoredCrossLottie} from \"./ProjectColoredCrossLottie\";\n\nexport const WashingmachineAnimation = ({children, active,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"100%\",\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\tconst activeAsBoolean = !!active; // active can be undefined, null, 0, 1, true, false\n\n\tconst source = activeAsBoolean ? washingmachine : washingmachineEmpty;\n\n\treturn (\n\t\t<View style={{width: \"90%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle aspectRatio={130/150}>\n\t\t\t\t\t<ProjectColoredCrossLottie source={source} flex={1} autoPlay={activeAsBoolean} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {DefaultComponentCardOverlayBox} from \"../detailsComponent/DefaultComponentCardOverlayBox\";\nimport {ImageOverlayPosition} from \"../imageOverlays/ImageOverlays\";\nimport {NotificationItem} from \"../notification/NotificationItem\";\nimport {useSynchedWashingmachine} from \"../../helper/synchedJSONState\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {ImageOverlayPaddingStyle} from \"../imageOverlays/ImageOverlay\";\n\ninterface AppState {\n\tposition?: ImageOverlayPosition,\n\twidth?: number,\n\tresource_id?: any,\n\tdate_finished: Date\n}\nexport const WashingmachineNotifyOverlay: FunctionComponent<AppState> = (props) => {\n\n\tconst width = props?.width;\n\n\tconst resource_id = props?.resource_id;\n\n\tconst resource = useSynchedWashingmachine(resource_id);\n\tconst washingmachine = resource;\n\tconst name = washingmachine?.name;\n\n\tconst position = props?.position;\n\n\tasync function getNotificationMessageObject() {\n\t\tconst secondsFromNow = DateHelper.getSecondsToDate(props.date_finished);\n\n\t\treturn {\n\t\t\ttitle: \"Washingmachine finished\",\n\t\t\tbody: name + \" finished\",\n\t\t\tsecondsFromNow: secondsFromNow\n\t\t}\n\t}\n\n\treturn <DefaultComponentCardOverlayBox width={width} position={position} withouthPadding={true}>\n\t\t\t<NotificationItem\n\t\t\t\tstyle={{...ImageOverlayPaddingStyle}}\n\t\t\t\taccountRequired={false} localNotificationEnabledNative={true} localNotificationEnabledWeb={true} localNotificationKey={\"WashingMachine\"+resource_id} getNotificationMessageObject={getNotificationMessageObject.bind(null)} >\n\t\t\t</NotificationItem>\n\t\t</DefaultComponentCardOverlayBox>\n\n\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {useDebugMode, useDemoMode, useSynchedWashingmachine} from \"../../helper/synchedJSONState\";\nimport {ImageOverlayPosition, ImageOverlays} from \"../imageOverlays/ImageOverlays\";\nimport {ImageOverlay} from \"../imageOverlays/ImageOverlay\";\nimport {DefaultComponentCard} from \"../detailsComponent/DefaultComponentCard\";\nimport {Text, View} from \"native-base\";\nimport {WashingmachineAnimation} from \"../animations/WashingmachineAnimation\";\nimport {WashingmachineNotifyOverlay} from \"./WashingmachineNotifyOverlay\";\nimport {DateHelper} from \"../../helper/DateHelper\";\n\n\ninterface AppState {\n\tresource_id?: any,\n\tonPress?: (resourceId: string | number) => void,\n\thighlight?: boolean,\n\tsmall?: boolean,\n\twithoutOverlay?: boolean,\n\tindex?: number\n}\nexport const WashingmashineCard: FunctionComponent<AppState> = (props) => {\n\n\tconst [demo, setDemo] = useDemoMode();\n\n\tconst resource_id = props?.resource_id;\n\tconst resource = useSynchedWashingmachine(resource_id);\n\tconst resourceId = resource?.id;\n\n\tconst isActive = false;\n\n\tconst washingmachine = resource;\n\n\tconst name = washingmachine?.name;\n\t//console.log(resource);\n\tlet date_finished = washingmachine?.date_finished\n\n\tlet dateInFuture = false;\n\tlet minutes_remaining_readable = undefined;\n\tif(!!date_finished){\n\t\tlet asDate = new Date(date_finished);\n\t\tdateInFuture = DateHelper.isDateInFuture(asDate);\n\t\tminutes_remaining_readable = DateHelper.formatDateToHHMM(new Date(asDate));\n\t}\n\n\tconst running = dateInFuture;\n\n\tlet small = true;\n\tif(props?.small!==undefined && props?.small!==null){\n\t\tsmall = props.small;\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props])\n\n\tfunction onPress(){\n\t\tif(!!props.onPress && !!resourceId){\n\t\t\tprops.onPress(resourceId);\n\t\t} else if(!!resourceId) {\n\n\t\t}\n\t}\n\n\tfunction renderOverlays(width){\n\t\tlet output = [];\n\n\n\t\tif(running){\n\t\t\tif(!!minutes_remaining_readable){\n\t\t\t\tconst renderedRemainingTime = <Text selectable={true}>{minutes_remaining_readable}</Text>\n\t\t\t\toutput.push(<ImageOverlay image_overlay_id={\"washingmachine_date_finished\"} additionalContent={renderedRemainingTime} />);\n\t\t\t}\n\t\t\tif(!!date_finished){\n\t\t\t\toutput.push(<WashingmachineNotifyOverlay width={width} position={ImageOverlayPosition.TOP_RIGHT} resource_id={resource_id} date_finished={date_finished} />)\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction renderTop(width){\n\t\treturn(\n\t\t\t<View style={{ width: \"100%\", height: \"100%\" }}>\n\t\t\t\t<WashingmachineAnimation active={running} />\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction renderTopForeground(width){\n\t\treturn(\n\t\t\t<ImageOverlays width={width}>\n\t\t\t\t{renderOverlays(width)}\n\t\t\t</ImageOverlays>\n\t\t)\n\t}\n\n\tfunction renderBottom(backgroundColor, textColor){\n\t\treturn <Text color={textColor} selectable={true} numberOfLines={3}>{name}</Text>\n\t}\n\n\treturn(\n\t\t<DefaultComponentCard accessibilityLabel={name} small={small} onPressTop={onPress} renderTop={renderTop} renderTopForeground={renderTopForeground} renderBottom={renderBottom} liked={isActive} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {GridList} from \"../GridList\";\nimport {WashingmashineCard} from \"./WashingmashineCard\";\n\ninterface AppState {\n\tresource_ids: string[] | number[];\n\tonPress?: (resourceId: string | number) => void;\n\twithoutOverlay?: boolean;\n}\nexport const WashingmachineList: FunctionComponent<AppState> = (props) => {\n\n\tlet renderedCards = [];\n\tlet index = 1;\n\n\tfor(let resourceId of props?.resource_ids){\n\t\trenderedCards.push(<WashingmashineCard index={index} resource_id={resourceId} onPress={props?.onPress} withoutOverlay={props?.withoutOverlay} />)\n\t\tindex++;\n\t}\n\n\treturn(\n\t\t<GridList>\n\t\t\t{renderedCards}\n\t\t</GridList>\n\t)\n}\n","import {useSynchedProfile} from \"./ProfileAPI\";\n\nconst FIELD_BUILDINGS_ID = \"buildings_id\";\nconst FIELD_LAST_VISITED = \"last_visited\";\nconst FIELD_PROFILE_BUILDINGS_LAST_VISITED = \"buildings_last_visited\";\n\nexport function getLastVisitedDateFromDictEntry(dictEntry){\n    let profileBuildingLastVisited = dictEntry?.[FIELD_LAST_VISITED];\n    if(!!profileBuildingLastVisited) {\n        profileBuildingLastVisited = new Date(profileBuildingLastVisited);\n    }\n    return profileBuildingLastVisited;\n}\n\nexport function useSynchedProfileBuildingsLastVisited(resource_id: number): [profileBuildingFavorite: any, addFavorite: () => any, removeFavorite: () => any] {\n    const [profilesBuildingsLastVisitedDict, updateProfileBuildingLastVisited, removeProfileBuildingLastVisited] = useSynchedProfileBuildingsLastVisitedDict();\n    let profileBuildingLastVisited = getLastVisitedDateFromDictEntry(profilesBuildingsLastVisitedDict?.[resource_id]);\n\n    const updateProfileBuildingLastVisitedSingle = () => {\n        updateProfileBuildingLastVisited(resource_id);\n    }\n\n    const removeProfileBuildingLastVisitedSingle = () => {\n        removeProfileBuildingLastVisited(resource_id);\n    }\n\n    return [\n        profileBuildingLastVisited, updateProfileBuildingLastVisitedSingle, removeProfileBuildingLastVisitedSingle\n    ]\n}\n\nexport function useSynchedProfileBuildingsLastVisitedDict(): [value: {[key: string]: any}, addProfileFavoriteBuilding: (resource_id: number) => any, removeProfileFavoriteBuilding: (resource_id: number) => any, getProfileBuildingsLastVisitedDateFromBuildingId: (resource_id: number) => any] {\n    const [profile, setProfile] = useSynchedProfile();\n    // @ts-ignore\n    let listOfFavoriteBuildings = profile?.[FIELD_PROFILE_BUILDINGS_LAST_VISITED] || [];\n    console.log(\"listOfFavoriteBuildings\", listOfFavoriteBuildings);\n\n    let profilesBuildingsLastVisitedDict = {};\n    if(!!listOfFavoriteBuildings){\n        for(let profile_building_favorite of listOfFavoriteBuildings){\n            profilesBuildingsLastVisitedDict[profile_building_favorite?.[FIELD_BUILDINGS_ID]] = profile_building_favorite;\n        }\n    }\n\n    //TODO: this is a copy of the MarkingAPI.ts, refactor this, Check for inner TODO\n    const privateSetBuildingsLastVisited = (resource_id: number, remove: boolean) => {\n        console.log(\"privateSetBuildingsLastVisited: \"+resource_id);\n        if(!resource_id){ //TODO: Add secure check\n            return;\n        }\n\n        //console.log(\"privateSetBuildingsFavorite\", resource_id, remove);\n        let dictCopy = JSON.parse(JSON.stringify(profilesBuildingsLastVisitedDict));\n        //console.log(\"dictCopy\", dictCopy);\n        let relation_entry = {\n            [FIELD_BUILDINGS_ID]: resource_id,\n            profiles_id: profile?.id,\n            [FIELD_LAST_VISITED]: new Date().toISOString()\n        }\n        if(!!dictCopy[resource_id]?.id){\n            //@ts-ignore\n            relation_entry.id = dictCopy[resource_id].id;\n        }\n        dictCopy[resource_id] = relation_entry;\n        if(remove){\n            //console.log(\"remove\", resource_id);\n            delete dictCopy[resource_id];\n        }\n        //console.log(\"dictCopy\", dictCopy);\n\n        let resourceIds = Object.keys(dictCopy);\n        let newResources = [];\n        for(let resourceId of resourceIds){\n            newResources.push(dictCopy[resourceId]);\n        }\n        console.log(\"privateSetBuildingsFavorite\", newResources);\n        // @ts-ignore\n        profile[FIELD_PROFILE_BUILDINGS_LAST_VISITED] = newResources;\n        setProfile(profile);\n    }\n\n    const updateProfileLastVisitedBuilding = (resource_id: number) => {\n        console.log(\"updateProfileLastVisitedBuilding\");\n        privateSetBuildingsLastVisited(resource_id, false);\n    }\n\n    const removeProfileLastVisitedBuilding = (resource_id: number) => {\n        privateSetBuildingsLastVisited(resource_id, true);\n    }\n\n    const getProfileBuildingsLastVisitedDateFromBuildingId = (resource_id) => {\n        return getLastVisitedDateFromDictEntry(profilesBuildingsLastVisitedDict?.[resource_id]);\n    }\n\n    return [\n        profilesBuildingsLastVisitedDict, updateProfileLastVisitedBuilding, removeProfileLastVisitedBuilding, getProfileBuildingsLastVisitedDateFromBuildingId\n    ]\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {BaseNoPaddingTemplate, Icon, Layout, MyThemedBox, Navigation, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {Text, View} from \"native-base\";\nimport {useDebugMode, useDemoMode, useSynchedApartment} from \"../../helper/synchedJSONState\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\nimport {DetailsComponentMenus} from \"../../components/detailsComponent/DetailsComponentMenus\";\nimport {DebugIcon} from \"../../components/icons/DebugIcon\";\nimport {DetailsComponentMenusForRelations} from \"../../components/detailsComponent/DetailsComponentMenusForRelations\";\nimport {BuildingsList} from \"../../components/buildings/BuildingsList\";\nimport {BuildingsContent} from \"../buildings/BuildingsContent\";\nimport {BuildingsContentActionMenuDescription} from \"../../components/buildings/BuildingsContentActionMenuDescription\";\nimport {BuildingsContentActionMenuBuildingInformation} from \"../../components/buildings/BuildingsContentActionMenuBuildingInformation\";\nimport {ApartmentCard} from \"../../components/housing/ApartmentCard\";\nimport {WashingmachineList} from \"../../components/washingmachine/WashingmachineList\";\nimport {\n\tuseSynchedProfileBuildingsLastVisited,\n\tuseSynchedProfileBuildingsLastVisitedDict\n} from \"../../components/profile/ProfilesBuildingsLastVisitedAPI\";\n\nexport const ApartmentContent: FunctionComponent = (props) => {\n\tconst resource_id = props?.route?.params?.id;\n\n\tconst translation_title = useAppTranslation(\"apartment\");\n\tconst [debug, setDebug] = useDebugMode()\n\n\tconst resource = useSynchedApartment(resource_id);\n\tconst resourceId = resource?.id;\n\n\tlet washingmachine_ids = resource?.washingmachines || [];\n\n\t/** Relations */\n\t//console.log(\"Relations\")\n\tconst building_id = resource?.building;\n\tconsole.log(\"building_id: \"+building_id);\n\tconst [profileBuildingLastVisited, updateProfileBuildingLastVisited] = useSynchedProfileBuildingsLastVisited(building_id);\n\n\tconst [lastVisitedBuildingDict, addLastVisited, removeLastVisited] = useSynchedProfileBuildingsLastVisitedDict();\n\n\tconst building_ids = building_id ? [building_id] : [];\n\n\tconst menus = {\n\t\t\"information\": BuildingsContentActionMenuBuildingInformation(building_id),\n\t\t\"buildingDescription\": BuildingsContentActionMenuDescription(building_id),\n\t}\n\n\tconst amountWashingmachines = washingmachine_ids.length;\n\tif(amountWashingmachines > 0){\n\t\tmenus[\"washingmachines\"] = {\n\t\t\telement: renderWashingMachines(),\n\t\t\tmenuButtonContent: <Text><AppTranslation id={\"washingmachines\"}/>{\" (\"+amountWashingmachines+\")\"}</Text>,\n\t\t\ticon: <Icon name={\"washing-machine\"} />\n\t\t}\n\t}\n\n\tif(debug) {\n\t\tmenus[\"Debug\"] = {\n\t\t\telement: renderDebug(),\n\t\t\tmenuButtonContent: <AppTranslation id={\"debug\"}/>,\n\t\t\ticon: <DebugIcon />\n\t\t};\n\t}\n\n\n\n\tfunction renderWashingMachines(){\n\t\treturn <WashingmachineList resource_ids={washingmachine_ids} />\n\t}\n\n\tfunction renderDebug(){\n\t\tlet output = [];\n\t\toutput.push(<SettingsRow leftIcon={\"tag\"} leftContent={<Text>{\"ID: \"+resource?.id}</Text>} />)\n\t\toutput.push(<SettingsRow leftIcon={\"code-braces\"} leftContent={<View style={{flexDirection:'row', flex: 1}}><Text style={{flex: 1, flexWrap: 'wrap'}}>{\"Canteen:\\n\"}{JSON.stringify(resource, null, 2)}</Text></View>} />)\n\t\toutput.push(<SettingsRow leftIcon={\"code-braces\"} leftContent={<View style={{flexDirection:'row', flex: 1}}><Text style={{flex: 1, flexWrap: 'wrap'}}>{\"Last Visited:\\n\"}{JSON.stringify(lastVisitedBuildingDict, null, 2)}</Text></View>} />)\n\n\t\treturn(\n\t\t\toutput\n\t\t)\n\t}\n\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t\tconsole.log(\"UPDATE LAST VISITED BUILDING !\");\n\t\tupdateProfileBuildingLastVisited();\n\t}, [props]);\n\n\tfunction getDetailsComponentMenusForRelations(){\n\n\t\tconst relations = {\n\t\t}\n\n\t\tif(debug){\n\t\t\trelations[\"buildings\"] = {\n\t\t\t\tmenu: {\n\t\t\t\t\trenderContent: (backgroundColor, textColor) => {return <AppTranslation color={textColor} id={\"buildings\"} />},\n\t\t\t\t\trenderIcon: (backgroundColor, textColor) => {return <DebugIcon color={textColor} id={\"buildings\"} />},\n\t\t\t\t\tamount: building_ids.length,\n\t\t\t\t},\n\t\t\t\t\trenderContent: (onClose) => {\n\t\t\t\t\t\treturn <BuildingsList resource_ids={building_ids} withoutOverlay={true} onPress={(resourceId) => {\n\t\t\t\t\t\t\tNavigation.navigateTo(BuildingsContent, {id: resourceId, showbackbutton: true})\n\t\t\t\t\t\t\tif(onClose){\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}} />\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn relations;\n\t}\n\n\tfunction renderActionRow(){\n\t\tconst actionRowMenus = {}\n\n\t\tconst detailsComponentMenusForRelations = getDetailsComponentMenusForRelations();\n\n\t\treturn(\n\t\t\t<MyThemedBox key={\"food_rating\"} _shadeLevel={3} style={{paddingVertical: \"1%\", paddingHorizontal: \"1%\"}}>\n\t\t\t\t<View style={{width: \"100%\", flexDirection: \"row\"}}>\n\t\t\t\t\t<DetailsComponentMenusForRelations menus={actionRowMenus} relations={detailsComponentMenusForRelations} />\n\t\t\t\t</View>\n\t\t\t</MyThemedBox>\n\t\t)\n\t}\n\n\treturn(\n\t\t<BaseNoPaddingTemplate title={translation_title} route={{params: {showbackbutton: true}}} >\n\t\t\t<View style={{width: \"100%\", paddingTop: Layout.padding}}>\n\t\t\t\t<ApartmentCard key={resourceId} resource_id={resourceId} small={false} />\n\t\t\t\t{renderActionRow()}\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<DetailsComponentMenus menus={menus} />\n\t\t\t</View>\n\t\t</BaseNoPaddingTemplate>\n\t)\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {useSynchedApartment} from \"../../helper/synchedJSONState\";\nimport {BuildingsCard} from \"../buildings/BuildingsCard\";\nimport {Navigation, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {ImageFullscreen} from \"../../screens/other/ImageFullscreen\";\nimport {ApartmentContent} from \"../../screens/housing/ApartmentContent\";\nimport {ImageOverlays} from \"../imageOverlays/ImageOverlays\";\nimport {ImageOverlay} from \"../imageOverlays/ImageOverlay\";\nimport {DateHelper} from \"../../helper/DateHelper\";\n\n\ninterface AppState {\n\tresource_id?: any,\n\tonPress?: (resourceId: string | number) => void,\n\thighlight?: boolean,\n\tsmall?: boolean,\n\twithoutOverlay?: boolean,\n}\nexport const ApartmentCard: FunctionComponent<AppState> = (props) => {\n\n\tconst resource_id = props?.resource_id;\n\tconst resource = useSynchedApartment(resource_id);\n\tconst resourceId = resource?.id;\n\n\tconst apartment = resource;\n\tconst buildingResourceId = apartment?.building;\n\n\tconst handicapped_accessible = apartment?.handicapped_accessible;\n\tconst family_friendly = apartment?.family_friendly;\n\tconst singleflat = apartment?.singleflat;\n\tconst available_from = apartment?.available_from;\n\n\tlet small = true;\n\tif(props?.small!==undefined && props?.small!==null){\n\t\tsmall = props.small;\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props])\n\n\tfunction onPress(){\n\t\tif(!!props.onPress && !!resourceId){\n\t\t\tprops.onPress(resourceId);\n\t\t} else if(!!resourceId) {\n\t\t\tif(small){\n\t\t\t\tNavigation.navigateTo(ApartmentContent, {id: resourceId, showbackbutton: true})\n//\t\t\t\tNavigatorHelper.navigateWithoutParams(ApartmentContent, false, {id: resourceId, showbackbutton: true})\n\t\t\t} else {\n\t\t\t\tlet assetId = resource?.image;\n\t\t\t\tif(!!assetId){\n\t\t\t\t\t//TODO Refactor FoodImageFullscreen into FullscreenImage and pass only the assetId\n\t\t\t\t\tNavigation.navigateTo(ImageFullscreen, {id: assetId, showbackbutton: true})\n//\t\t\t\t\tNavigatorHelper.navigateWithoutParams(ImageFullscreen, false, {id: assetId, showbackbutton: true});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction renderOverlays(){\n\t\tlet overlays = [];\n\t\tif(!!handicapped_accessible){\n\t\t\toverlays.push(<ImageOverlay image_overlay_id={\"apartments_handicapped_accessible\"} />)\n\t\t}\n\t\tif(!!family_friendly){\n\t\t\toverlays.push(<ImageOverlay image_overlay_id={\"apartments_family_friendly\"} />)\n\t\t}\n\t\tif(!!singleflat){\n\t\t\toverlays.push(<ImageOverlay image_overlay_id={\"apartments_singleflat\"} />)\n\t\t}\n\t\tif(!!available_from){\n\t\t\toverlays.push(<ImageOverlay image_overlay_id={\"apartment_available\"} params={{\n\t\t\t\tdate: DateHelper.formatOfferDateToReadable(available_from, true)\n\t\t\t}} />)\n\t\t}\n\t\treturn overlays;\n\t}\n\n\treturn(\n\t\t<BuildingsCard resource_id={buildingResourceId} small={small} withoutOverlay={props?.withoutOverlay} onPress={onPress} renderCustomOverlay={\n\t\t\t(width) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ImageOverlays width={width}>\n\t\t\t\t\t\t{renderOverlays()}\n\t\t\t\t\t</ImageOverlays>\n\t\t\t\t)\n\t\t\t}\n\t\t}  />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {GridList} from \"../GridList\";\nimport {ApartmentCard} from \"./ApartmentCard\";\nimport {NotFound} from \"../animations/NotFound\";\nimport {View} from \"native-base\";\nimport {AppTranslation} from \"../translations/AppTranslation\";\nimport {useSynchedCanteensDict} from \"../../helper/synchedJSONState\";\nimport {useSynchedProfileCanteen} from \"../profile/ProfileAPI\";\n\ninterface AppState {\n\tresource_ids: string[] | number[];\n\tonPress?: (resourceId: string | number) => void;\n\twithoutOverlay?: boolean;\n}\nexport const ApartmentList: FunctionComponent<AppState> = (props) => {\n\n\tconst [canteensDict, setCanteensDict] = useSynchedCanteensDict();\n\tconst [profileCanteenId, setProfileCanteenId] = useSynchedProfileCanteen();\n\n\tconst notFoundError = canteensDict===null ?  <NotFound /> : null;\n\n\tlet renderedCards = [];\n\n\tif(canteensDict===null){\n\t\treturn <View>\n\t\t\t<NotFound />\n\t\t\t\t<View style={{margin: 10, backgroundColor: \"orange\"}}>\n\t\t\t\t\t<AppTranslation id={\"somethingWentWrong\"} />\n\t\t\t\t</View>\n\t\t</View>\n\t} else if(canteensDict===undefined) {\n\t\tfor(let i=0; i<10; i++){\n\t\t\trenderedCards.push(<ApartmentCard resource_id={null} onPress={props?.onPress} withoutOverlay={props?.withoutOverlay} />)\n\t\t}\n\t} else {\n\t\tfor(let canteenId of props?.resource_ids){\n\t\t\tconst highlight = canteenId==profileCanteenId && !!canteenId;\n\t\t\trenderedCards.push(<ApartmentCard highlight={highlight} resource_id={canteenId} onPress={props?.onPress} withoutOverlay={props?.withoutOverlay} />)\n\t\t}\n\t}\n\n\treturn(\n\t\t<GridList>\n\t\t\t{renderedCards}\n\t\t</GridList>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\nimport {Ionicons} from \"@expo/vector-icons\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n    color?: string\n    size?: string\n}\nexport const HousingIcon: FunctionComponent<AppState> = (props) => {\n\n  return (\n      <Icon name={\"home-modern\"} color={props.color} />\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const IdIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"tag\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {BaseNoPaddingTemplate, Layout, MyThemedBox, Navigation} from \"../../../kitcheningredients\";\nimport {Text, View} from \"native-base\";\nimport {useDebugMode, useSynchedBuilding} from \"../../helper/synchedJSONState\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {BuildingsCard} from \"../../components/buildings/BuildingsCard\";\nimport {BuildingHelper} from \"../../components/buildings/BuildingHelper\";\nimport {ShowLocationIcon} from \"../../components/icons/ShowLocationIcon\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\nimport {DetailsComponentMenus} from \"../../components/detailsComponent/DetailsComponentMenus\";\nimport {DebugIcon} from \"../../components/icons/DebugIcon\";\nimport {CanteenList} from \"../../components/canteen/CanteenList\";\nimport {CanteenIcon} from \"../../components/canteen/CanteenIcon\";\nimport {DetailsComponentMenusForRelations} from \"../../components/detailsComponent/DetailsComponentMenusForRelations\";\nimport {CanteenContent} from \"../canteen/CanteenContent\";\nimport {BuildingsContentActionMenuDescription} from \"../../components/buildings/BuildingsContentActionMenuDescription\";\nimport {BuildingsContentActionMenuBuildingInformation} from \"../../components/buildings/BuildingsContentActionMenuBuildingInformation\";\nimport {ApartmentList} from \"../../components/housing/ApartmentList\";\nimport {HousingIcon} from \"../../components/housing/HousingIcon\";\nimport {ApartmentContent} from \"../housing/ApartmentContent\";\nimport {IdIcon} from \"../../components/icons/IdIcon\";\nimport {useSynchedProfileBuildingsLastVisited} from \"../../components/profile/ProfilesBuildingsLastVisitedAPI\";\n\nexport const BuildingsContent: FunctionComponent = (props) => {\n\tconst resource_id = props?.route?.params?.id;\n\n\tconst translation_title = useAppTranslation(\"buildings\");\n\n\tconst [debug, setDebug] = useDebugMode()\n\tconst resource = useSynchedBuilding(resource_id);\n\t//console.log(\"resource\", resource);\n\n\tconst resourceId = resource?.id;\n\n\tconst [profileBuildingLastVisited, updateProfileBuildingLastVisited] = useSynchedProfileBuildingsLastVisited(resourceId);\n\n\t/** Relations */\n\t//console.log(\"Relations\")\n\tconst canteen_ids = resource?.canteens || [];\n\tconst apartment_ids = resource?.apartments || [];\n\n\tconst menus = {\n\t\t\"information\": BuildingsContentActionMenuBuildingInformation(resource_id),\n\t\t\"description\": BuildingsContentActionMenuDescription(resource_id),\n\t}\n\tif(debug) {\n\t\tmenus[\"Debug\"] = {\n\t\t\telement: renderDebug(),\n\t\t\trenderIcon: (backgroundColor, textColor) => {return <DebugIcon color={textColor} />},\n\t\t\trenderContent: (backgroundColor, textColor) => {return <AppTranslation color={textColor} id={\"debug\"} />},\n\t\t};\n\t}\n\n\tfunction renderDebug(){\n\t\tlet output = [];\n\t\toutput.push(<SettingsRow leftIcon={<IdIcon />} leftContent={\"ID\"} rightContent={resource?.id+\"\"} />)\n\t\toutput.push(<SettingsRow leftIcon={\"code-braces\"} leftContent={<View style={{flexDirection:'row', flex: 1}}><Text style={{flex: 1, flexWrap: 'wrap'}}>{\"Building:\\n\"}{JSON.stringify(resource, null, 2)}</Text></View>} />)\n\n\t\treturn(\n\t\t\toutput\n\t\t)\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t\tupdateProfileBuildingLastVisited();\n\t}, [props]);\n\n\tfunction getDetailsComponentMenusForRelations(){\n\n\t\treturn {\n\t\t\t\"canteens\": {\n\t\t\t\tmenu: {\n\t\t\t\t\trenderIcon: (backgroundColor, textColor) => {return <CanteenIcon color={textColor} />},\n\t\t\t\t\trenderContent: (backgroundColor, textColor) => {return <AppTranslation color={textColor} id={\"canteens\"} />},\n\t\t\t\t\tamount: canteen_ids.length,\n\t\t\t\t},\n\t\t\t\trenderContent: (onClose) => {\n\t\t\t\t\t//console.log(\"On rendering canteen list\")\n\t\t\t\t\treturn <CanteenList resource_ids={canteen_ids} withoutOverlay={true} onPress={(resourceId) => {\n\t\t\t\t\t\tNavigation.navigateTo(CanteenContent, {id: resourceId, showbackbutton: true})\n//\t\t\t\t\t\tNavigatorHelper.navigateWithoutParams(CanteenContent, false, {id: resourceId, showbackbutton: true})\n\t\t\t\t\t\tif(onClose){\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}} />\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"apartments\": {\n\t\t\t\tmenu: {\n\t\t\t\t\trenderIcon: (backgroundColor, textColor) => {return <HousingIcon color={textColor} />},\n\t\t\t\t\trenderContent: (backgroundColor, textColor) => {return <AppTranslation color={textColor} id={\"housing\"} />},\n\t\t\t\t\tamount: apartment_ids.length,\n\t\t\t\t},\n\t\t\t\trenderContent: (onClose) => {\n\t\t\t\t\t//console.log(\"On rendering canteen list\")\n\t\t\t\t\treturn <ApartmentList resource_ids={apartment_ids} withoutOverlay={true} onPress={(resourceId) => {\n\t\t\t\t\t\tNavigation.navigateTo(ApartmentContent, {id: resourceId, showbackbutton: true})\n//\t\t\t\t\t\tNavigatorHelper.navigateWithoutParams(ApartmentContent, false, {id: resourceId, showbackbutton: true})\n\t\t\t\t\t\tif(onClose){\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}} />\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t}\n\n\tfunction renderActionRow(){\n\t\tconst actionRowMenus = {\n\t\t\t\"openLocation\": {\n\t\t\t\trenderIcon: (backgroundColor, textColor) => {return <ShowLocationIcon color={textColor} />},\n\t\t\t\trenderContent: (backgroundColor, textColor) => {return <AppTranslation color={textColor} id={\"openNavigationToLocation\"} />},\n\t\t\t\tonPress: () => {BuildingHelper.openLocation(resource)}\n\t\t\t}\n\t\t}\n\n\t\treturn(\n\t\t\t<MyThemedBox key={\"food_rating\"} _shadeLevel={3} style={{paddingVertical: \"1%\", paddingHorizontal: \"1%\"}}>\n\t\t\t\t<View style={{width: \"100%\", flexDirection: \"row\"}}>\n\t\t\t\t\t<DetailsComponentMenusForRelations menus={actionRowMenus} relations={getDetailsComponentMenusForRelations()} />\n\t\t\t\t</View>\n\t\t\t</MyThemedBox>\n\t\t)\n\t}\n\n\treturn(\n\t\t<BaseNoPaddingTemplate title={translation_title} route={{params: {showbackbutton: true}}} >\n\t\t\t<View style={{width: \"100%\", paddingTop: Layout.padding}}>\n\t\t\t\t<BuildingsCard key={resourceId} resource_id={resourceId} small={false} />\n\t\t\t\t{renderActionRow()}\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<DetailsComponentMenus menus={menus} />\n\t\t\t</View>\n\t\t</BaseNoPaddingTemplate>\n\t)\n}\n","import {useSynchedProfile} from \"./ProfileAPI\";\n\nconst FIELD_BUILDINGS_ID = \"buildings_id\";\nconst FIELD_PROFILE_FAVORITE_BUILDINGS = \"buildings_favorites\";\n\nexport function useSynchedProfileBuildingsFavorite(resource_id: number): [profileBuildingFavorite: any, addFavorite: () => any, removeFavorite: () => any] {\n    const [profilesBuildingsFavoritesDict, addProfileFavoriteBuilding, removeProfileFavoriteBuilding] = useSynchedProfileFavoriteBuildingsDict();\n    let profileBuildingFavorite = profilesBuildingsFavoritesDict[resource_id];\n\n    const addProfileFavoriteBuildingSingle = () => {\n        addProfileFavoriteBuilding(resource_id);\n    }\n\n    const removeProfileFavoriteSingle = () => {\n        removeProfileFavoriteBuilding(resource_id);\n    }\n\n    return [\n        profileBuildingFavorite, addProfileFavoriteBuildingSingle, removeProfileFavoriteSingle\n    ]\n}\n\nexport function useSynchedProfileFavoriteBuildingsDict(): [value: {[key: string]: any}, addProfileFavoriteBuilding: (resource_id: number) => any, removeProfileFavoriteBuilding: (resource_id: number) => any] {\n    const [profile, setProfile] = useSynchedProfile();\n    // @ts-ignore\n    let listOfFavoriteBuildings = profile?.[FIELD_PROFILE_FAVORITE_BUILDINGS] || [];\n\n    let profilesBuildingsFavoritesDict = {};\n    if(!!listOfFavoriteBuildings){\n        for(let profile_building_favorite of listOfFavoriteBuildings){\n            profilesBuildingsFavoritesDict[profile_building_favorite?.[FIELD_BUILDINGS_ID]] = profile_building_favorite;\n        }\n    }\n\n    //TODO: this is a copy of the MarkingAPI.ts, refactor this\n    const privateSetBuildingsFavorite = (resource_id: number, remove: boolean) => {\n        //console.log(\"privateSetBuildingsFavorite\", resource_id, remove);\n        let dictCopy = JSON.parse(JSON.stringify(profilesBuildingsFavoritesDict));\n        //console.log(\"dictCopy\", dictCopy);\n        dictCopy[resource_id] = {[FIELD_BUILDINGS_ID]: resource_id, profiles_id: profile?.id};\n        if(remove){\n            //console.log(\"remove\", resource_id);\n            delete dictCopy[resource_id];\n        }\n        //console.log(\"dictCopy\", dictCopy);\n\n        let resourceIds = Object.keys(dictCopy);\n        let newResources = [];\n        for(let resourceId of resourceIds){\n            newResources.push(dictCopy[resourceId]);\n        }\n        console.log(\"privateSetBuildingsFavorite\", newResources);\n        // @ts-ignore\n        profile[FIELD_PROFILE_FAVORITE_BUILDINGS] = newResources;\n        setProfile(profile);\n    }\n\n    const addProfileFavoriteBuilding = (resource_id: number) => {\n        privateSetBuildingsFavorite(resource_id, false);\n    }\n\n    const removeProfileFavoriteBuilding = (resource_id: number) => {\n        privateSetBuildingsFavorite(resource_id, true);\n    }\n\n    return [\n        profilesBuildingsFavoritesDict, addProfileFavoriteBuilding, removeProfileFavoriteBuilding\n    ]\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {View, Text} from \"native-base\";\nimport {TouchableOpacity} from \"react-native\";\nimport {MAX_RATING_VALUE, RatingType, RatingValueIcon} from \"../ratings/RatingValueIcon\";\nimport {useSynchedProfileBuildingsFavorite} from \"../profile/FavoriteBuildingsAPI\";\nimport {ImageOverlayPaddingStyle} from \"../imageOverlays/ImageOverlay\";\nimport {MyTouchableOpacity} from \"../buttons/MyTouchableOpacity\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\n\nexport interface AppState{\n\tresource_id: any,\n\tratingValue?: number,\n\tdefaultRatingValue?: number,\n\tratingType?: RatingType,\n\tonSelectRating?: any,\n\tcolor?: string,\n}\nexport const BuildingFavoriteSingle: FunctionComponent<AppState> = (props) => {\n\n\tconst DEFAULT_RATING_TYPE = RatingType.hearts;\n\tconst resource_id = props.resource_id;\n\tconst [profileBuildingFavorite, addProfileFavoriteBuildingSingle, removeProfileFavoriteSingle] = useSynchedProfileBuildingsFavorite(resource_id);\n\n\tconst translationCurrently = useAppTranslation(\"currently\")\n\tconst translationLike = useAppTranslation(\"rating_like\")\n\tconst translationDislike = useAppTranslation(\"rating_dislike\")\n\n//\tconst [remoteAppSettings, setRemoteAppSettings] = useSynchedRemoteSettings();\n\tconst ratingType = props.ratingType || DEFAULT_RATING_TYPE // || remoteAppSettings?.foodratingstype\n\n\tconst isActive = getIsActive();\n\tconst ratingValue = props?.ratingValue || props?.defaultRatingValue || MAX_RATING_VALUE;\n\n\n\n\tconst accessibilityLabelCurrentState = isActive ? translationLike : translationDislike;\n\tconst accessibilityLabel = translationCurrently+\": \"+accessibilityLabelCurrentState;\n\n\tuseEffect(() => {\n\n\t}, [props]);\n\n\tasync function handleSelectRating(isActive){\n\t\tif(isActive){ // if we click at the rating again, we will delete it instead\n\t\t\tawait removeProfileFavoriteSingle();\n\t\t} else {\n\t\t\tawait addProfileFavoriteBuildingSingle();\n\t\t}\n\t}\n\n\tfunction getIsActive(): boolean {\n\t\tswitch (ratingType){\n\t\t\tcase RatingType.disabled: return false;\n\t\t\tcase RatingType.hearts: return !!profileBuildingFavorite;\n\t\t\tcase RatingType.likes: return !!profileBuildingFavorite;\n\t\t\tcase RatingType.stars: return !!profileBuildingFavorite;\n\t\t\tcase RatingType.smilies: return !!profileBuildingFavorite;\n\t\t\tdefault: return false\n\t\t}\n\t}\n\n\treturn(\n\t\t\t<View>\n\t\t\t\t<MyTouchableOpacity\n\t\t\t\t\taccessibilityLabel={accessibilityLabel}\n\t\t\t\t\tstyle={ImageOverlayPaddingStyle}\n\t\t\t\t\tonPress={() => {\n\t\t\t\t\thandleSelectRating(isActive)\n\t\t\t\t}}>\n\t\t\t\t\t<View style={props?.style}>\n\t\t\t\t\t\t<RatingValueIcon color={props?.color} ratingType={ratingType} ratingValue={ratingValue} isActive={isActive} />\n\t\t\t\t\t</View>\n\t\t\t\t</MyTouchableOpacity>\n\t\t\t</View>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Navigation, useMyContrastColor} from \"../../../kitcheningredients\";\nimport {useSynchedBuildingsDict} from \"../../helper/synchedJSONState\";\nimport {BuildingsImage} from \"./BuildingsImage\";\nimport {BuildingsContent} from \"../../screens/buildings/BuildingsContent\";\nimport {BuildingHelper} from \"./BuildingHelper\";\nimport {Text} from \"native-base\";\nimport {useSynchedProfileBuildingsFavorite} from \"../profile/FavoriteBuildingsAPI\";\nimport {BuildingFavoriteSingle} from \"./BuildingFavoriteSingle\";\nimport {DefaultComponentCard} from \"../detailsComponent/DefaultComponentCard\";\nimport {ImageFullscreen} from \"../../screens/other/ImageFullscreen\";\nimport {BuildingsCardOverlayDistance} from \"./BuildingsCardOverlayDistance\";\nimport {DefaultComponentCardOverlayBox} from \"../detailsComponent/DefaultComponentCardOverlayBox\";\nimport {ImageOverlayPosition, ImageOverlays} from \"../imageOverlays/ImageOverlays\";\nimport {useSynchedProfileBuildingsLastVisited} from \"../profile/ProfilesBuildingsLastVisitedAPI\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {ImageOverlay} from \"../imageOverlays/ImageOverlay\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\n\ninterface AppState {\n\tresource_id: any,\n\tsmall?: boolean,\n\twithoutOverlay?: boolean,\n\trenderCustomOverlay?: (width: number) => any,\n\tonPress?: (id: string | number) => void,\n}\nexport const BuildingsCard: FunctionComponent<AppState> = (props) => {\n\n\tconst projectColor = ColorHelper.useProjectColor();\n\tconst overlayTextColor = useMyContrastColor(projectColor);\n\n\tconst resource_id = props?.resource_id;\n\tconst small = props?.small;\n\n\tconst [buildings, setBuildings] = useSynchedBuildingsDict()\n\tconst [profileBuildingFavorite, addProfileFavoriteBuildingSingle, removeProfileFavoriteSingle] = useSynchedProfileBuildingsFavorite(resource_id);\n\tconst isActive = !!profileBuildingFavorite;\n\n\tconst amountOfLines = 3;\n\tlet resource = buildings[resource_id];\n\tconst resourceId = resource?.id;\n\n\tconst [profileBuildingLastVisited, updateProfileBuildingLastVisitedSingle, removeProfileBuildingLastVisitedSingle] = useSynchedProfileBuildingsLastVisited(resourceId);\n\n\tconst title = BuildingHelper.getName(resource);\n\n\tconst onPress = () => {\n\t\tif(!!props.onPress && !!resourceId){\n\t\t\tprops.onPress(resourceId);\n\t\t} else {\n\t\t\tif(small){\n\t\t\t\tNavigation.navigateTo(BuildingsContent, {id: resourceId, showbackbutton: true})\n//\t\t\t\tNavigatorHelper.navigateWithoutParams(BuildingsContent, false, {id: resourceId, showbackbutton: true})\n\t\t\t} else {\n\t\t\t\tlet assetId = resource?.image;\n\t\t\t\tif(!!assetId){\n\t\t\t\t\t//TODO Refactor FoodImageFullscreen into FullscreenImage and pass only the assetId\n\t\t\t\t\tNavigation.navigateTo(ImageFullscreen, {id: assetId, showbackbutton: true});\n//\t\t\t\t\tNavigatorHelper.navigateWithoutParams(ImageFullscreen, false, {id: assetId, showbackbutton: true});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction renderQuickRating(width){\n\t\treturn(\n\t\t\t<DefaultComponentCardOverlayBox key={\"quickRating\"} width={width} position={ImageOverlayPosition.TOP_RIGHT} withouthPadding={true}>\n\t\t\t\t<BuildingFavoriteSingle color={overlayTextColor} resource_id={resource_id} />\n\t\t\t</DefaultComponentCardOverlayBox>\n\t\t)\n\t}\n\n\tfunction renderLastVisited(){\n\t\tif(!!profileBuildingLastVisited){\n\t\t\treturn(\n\t\t\t\t<ImageOverlay textColor={overlayTextColor} image_overlay_id={\"visited_at\"} params={{\n\t\t\t\t\t\"date\": DateHelper.formatOfferDateToReadable(profileBuildingLastVisited?.visited_at, true),\n\t\t\t\t}} />\n\t\t\t)\n\t\t}\n\t}\n\n\tfunction renderTop(width){\n\t\treturn(\n\t\t\t<BuildingsImage resource={resource}>\n\n\t\t\t</BuildingsImage>\n\t\t)\n\t}\n\n\tfunction renderTopForeground(width){\n\t\tconst overlays = [];\n\t\tif(!props?.withoutOverlay){\n\t\t\toverlays.push(<BuildingsCardOverlayDistance resource_id={resourceId} width={width} position={ImageOverlayPosition.BOTTOM_RIGHT} />)\n\t\t\toverlays.push(renderQuickRating(width))\n\t\t\toverlays.push(renderLastVisited())\n\t\t}\n\n\t\tlet renderedCustomOverlays = null;\n\t\tconst renderCustomOverlay = props?.renderCustomOverlay;\n\t\tif(!!renderCustomOverlay){\n\t\t\trenderedCustomOverlays = renderCustomOverlay(width);\n\t\t}\n\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<ImageOverlays width={width}>\n\t\t\t\t\t{overlays}\n\t\t\t\t</ImageOverlays>\n\t\t\t\t{renderedCustomOverlays}\n\t\t\t</>\n\t\t)\n\t}\n\n\tfunction renderBottom(backgroundColor, textColor){\n\t\treturn <Text color={textColor} selectable={true} numberOfLines={amountOfLines}>{title}</Text>\n\t}\n\n\treturn(\n\t\t<DefaultComponentCard accessibilityLabel={title} small={small} onPressTop={onPress} renderTop={renderTop} renderTopForeground={renderTopForeground} renderBottom={renderBottom} liked={isActive} />\n\t)\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {GridList} from \"../../components/GridList\";\nimport {BuildingsCard} from \"../../components/buildings/BuildingsCard\";\n\ninterface AppState {\n\tresource_ids: string[] | number[];\n\twithoutOverlay?: boolean;\n\tonPress?: (resource_id: string | number) => void;\n}\nexport const BuildingsList: FunctionComponent<AppState> = (props) => {\n\n\tlet output = [];\n\tfor(let resourceId of props?.resource_ids || []){\n\t\toutput.push(<BuildingsCard key={resourceId} resource_id={resourceId} small={true} withoutOverlay={props?.withoutOverlay} onPress={props?.onPress} />)\n\t}\n\treturn (\n\t\t<GridList\n\t\t\tpaddingHorizontal={\"2%\"}\n\t\t\tpaddingVertical={\"2%\"}\n\t\t\tstyle={{flex: 1}} >\n\t\t\t{output}\n\t\t</GridList>\n\t);\n}\n","import {Businesshours} from \"../../directusTypes/types\";\n\nexport class BusinesshoursHelper{\n\n\tstatic getWeekdayNameKeys(){\n\t\treturn [\n\t\t\t\"Monday\",\n\t\t\t\"Tuesday\",\n\t\t\t\"Wednesday\",\n\t\t\t\"Thursday\",\n\t\t\t\"Friday\",\n\t\t\t\"Saturday\",\n\t\t\t\"Sunday\"\n\t\t]\n\t}\n\n\tstatic sortBusinesshours(businesshoursList: Businesshours[]): Businesshours[]{\n\t\treturn businesshoursList.sort((a, b) => {\n\t\t\treturn a.time_start.localeCompare(b.time_start);\n\t\t});\n\t}\n\n\t// merge list of businesshours into one a week overview\n\tstatic getWeekOverview(businesshoursList: Businesshours[]): Record<string, Businesshours[]>{\n\t\tlet weekOverview = {};\n\t\tfor(const dayOfWeek of this.getWeekdayNameKeys()){\n\t\t\tweekOverview[dayOfWeek] = [];\n\t\t}\n\n\t\t// sort businesshours by day of week\n\t\tfor(let businesshours of businesshoursList){\n\t\t\tconst dayOfTheWeek = businesshours?.dayOfTheWeek;\n\t\t\tlet businesshoursForDay = weekOverview[dayOfTheWeek];\n\t\t\tbusinesshoursForDay.push(businesshours);\n\t\t\tweekOverview[dayOfTheWeek] = businesshoursForDay;\n\t\t}\n\n\t\t// sort businesshours for each day\n\t\tfor(const dayOfWeek of this.getWeekdayNameKeys()){\n\t\t\tweekOverview[dayOfWeek] = this.sortBusinesshours(weekOverview[dayOfWeek]);\n\t\t}\n\n\t\treturn weekOverview;\n\t}\n\n\tstatic getWeekdayName(){\n\n\t}\n\n\tstatic formatBusinesshours(timeString: string): string{\n\t\tif(!!timeString){\n\t\t\t// timeString is in format \"HH:mm:ss\"\n\t\t\tconst timeStringParts = timeString.split(\":\");\n\t\t\tconst hours = timeStringParts[0];\n\t\t\tconst minutes = timeStringParts[1];\n\t\t\tconst seconds = timeStringParts[2];\n\t\t\treturn hours+\":\"+minutes;\n\t\t} else {\n\t\t\treturn null\n\t\t}\n\t}\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {useDebugMode, useDemoMode, useSynchedBusinesshoursDict} from \"../../helper/synchedJSONState\";\nimport {BusinesshoursHelper} from \"./BusinesshoursHelper\";\nimport {SettingsRow} from \"../settings/SettingsRow\";\nimport {ProfileAPI, useSynchedProfile} from \"../profile/ProfileAPI\";\nimport {DateHelper} from \"../../helper/DateHelper\";\n\ninterface AppState {\n\tresource_ids: string[] | number[];\n}\nexport const Businesshours: FunctionComponent<AppState> = (props) => {\n\n\tconst [profile, setProfile] = useSynchedProfile();\n\tlet locale = ProfileAPI.getLocaleForJSDates(profile);\n\n\tconst [debug, setDebug] = useDebugMode()\n\tconst [demo, setDemo] = useDemoMode()\n\n\tconst resource_ids = props?.resource_ids || [];\n\tconst [businesshours, setBusinesshours] = useSynchedBusinesshoursDict();\n\n\tconst businesshoursList = resource_ids.map((resource_id) => {\n\t\tconst businesshour = businesshours?.[resource_id];\n\t\treturn businesshour;\n\t});\n\n\tconst weekoverview = BusinesshoursHelper.getWeekOverview(businesshoursList);\n\n\tconst rendered = [];\n\n\tconst longestWeekdayName = \"LongestWeekdayName\";\n\n\tconst renderedInvisibleTextForWidthCalculation = <Text selectable={false} style={{opacity: 0}}>{longestWeekdayName}</Text>;\n\n\tfor (const weekday in weekoverview) {\n\t\tconst businesshoursForDay = weekoverview[weekday];\n\t\tconst translatedWeekday = DateHelper.getWeekdayTranslationByWeekday(weekday, locale);\n\n\t\tconst renderedBusinesshoursForDay = [];\n\t\tconst renderedWeekday = (\n\t\t\t<View style={{justifyContent: \"flex-start\"}}>\n\t\t\t\t<Text>{translatedWeekday}</Text>\n\t\t\t\t{renderedInvisibleTextForWidthCalculation}\n\t\t\t</View>\n\t\t);\n\t\tfor(const businesshour of businesshoursForDay){\n\t\t\tconst renderedTime = <Text>{BusinesshoursHelper.formatBusinesshours(businesshour?.time_start)+\" - \"+BusinesshoursHelper.formatBusinesshours(businesshour.time_end)}</Text>;\n\t\t\trenderedBusinesshoursForDay.push(renderedTime);\n\t\t}\n\t\trendered.push(<SettingsRow leftIcon={renderedWeekday} leftContent={<View>{renderedBusinesshoursForDay}</View>} />)\n\n\t}\n\n\tif(debug) {\n\t\trendered.push(<Text>{JSON.stringify(weekoverview, null, 2)}</Text>)\n\t}\n\n\treturn <View>\n\t\t{rendered}\n\t</View>;\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {Text} from \"native-base\";\nimport {CanteenImage} from \"./CanteenImage\";\nimport {DefaultComponentCard} from \"../detailsComponent/DefaultComponentCard\";\nimport {useSynchedBuilding, useSynchedBuildingsDict, useSynchedCanteen} from \"../../helper/synchedJSONState\";\nimport {BuildingsCardOverlayDistance} from \"../buildings/BuildingsCardOverlayDistance\";\nimport {CanteenCardOverlayMoreInformation} from \"./CanteenCardOverlayMoreInformation\";\n\nexport function useSynchedCanteenBuilding(resource_id: number | string): any {\n\tconst resource = useSynchedCanteen(resource_id);\n\tconst buildingResourceId = resource?.building;\n\tconst canteenBuilding = useSynchedBuilding(buildingResourceId);\n\treturn canteenBuilding;\n}\n\nexport class CanteenHelper{\n\tstatic getBusinesshoursIds(resource_id: number | string): number[] {\n\t\tconst resource = useSynchedCanteen(resource_id);\n\t\tconst businesshourIds = [];\n\t\tconst businesshoursRelations = resource?.businesshours;\n\t\tif(businesshoursRelations){\n\t\t\tfor(let i = 0; i < businesshoursRelations?.length; i++){\n\t\t\t\tconst businesshourRelation = businesshoursRelations[i];\n\t\t\t\tconst businesshourId = businesshourRelation?.businesshours_id;\n\t\t\t\tbusinesshourIds.push(businesshourId);\n\t\t\t}\n\t\t}\n\t\treturn businesshourIds;\n\t}\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {BaseNoPaddingTemplate, Icon, Layout, MyThemedBox, Navigation, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {Text, View} from \"native-base\";\nimport {useDebugMode, useSynchedCanteen} from \"../../helper/synchedJSONState\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\nimport {DetailsComponentMenus} from \"../../components/detailsComponent/DetailsComponentMenus\";\nimport {DebugIcon} from \"../../components/icons/DebugIcon\";\nimport {DetailsComponentMenusForRelations} from \"../../components/detailsComponent/DetailsComponentMenusForRelations\";\nimport {BuildingsList} from \"../../components/buildings/BuildingsList\";\nimport {CanteenCard} from \"../../components/canteen/CanteenCard\";\nimport {BuildingsContent} from \"../buildings/BuildingsContent\";\nimport {BuildingsContentActionMenuDescription} from \"../../components/buildings/BuildingsContentActionMenuDescription\";\nimport {BuildingsContentActionMenuBuildingInformation} from \"../../components/buildings/BuildingsContentActionMenuBuildingInformation\";\nimport {Businesshours} from \"../../components/businesshours/Businesshours\";\nimport {CanteenHelper} from \"../../components/canteen/CanteenHelper\";\n\nexport const CanteenContent: FunctionComponent = (props) => {\n\tconst resource_id = props?.route?.params?.id;\n\n\tconst [debug, setDebug] = useDebugMode()\n\tconst translation_title = useAppTranslation(\"canteen\");\n\n\tconst resource = useSynchedCanteen(resource_id);\n\tconst resourceId = resource?.id;\n\n\tconst businesshours_ids = CanteenHelper.getBusinesshoursIds(resourceId);\n\n\t/** Relations */\n\t//console.log(\"Relations\")\n\tconst building_id = resource?.building;\n\n\tconst building_ids = building_id ? [building_id] : [];\n\n\tconst menus = {\n\t\t\"information\": BuildingsContentActionMenuBuildingInformation(building_id),\n\t\t\"buildingDescription\": BuildingsContentActionMenuDescription(building_id),\n\t}\n\tmenus[\"businesshours\"] = {\n\t\telement: renderBusinessHours(),\n\t\trenderIcon: (backgroundColor, textColor) => { return <Icon name={\"clock\"} color={textColor} />},\n\t\trenderContent: (backgroundColor, textColor) => { return <AppTranslation id={\"businesshours\"} color={textColor} />},\n\t}\n\n\tif(debug) {\n\t\tmenus[\"Debug\"] = {\n\t\t\telement: renderDebug(),\n\t\t\trenderIcon: (backgroundColor, textColor) => { return <DebugIcon color={textColor} />},\n\t\t\trenderContent: (backgroundColor, textColor) => { return <AppTranslation id={\"debug\"} color={textColor} />},\n\t\t};\n\t}\n\n\n\n\tfunction renderBusinessHours(){\n\t\treturn <Businesshours resource_ids={businesshours_ids} />;\n//\t\treturn <Text>{JSON.stringify(businesshours_ids)}</Text>\n\t}\n\n\tfunction renderDebug(){\n\t\tlet output = [];\n\t\toutput.push(<SettingsRow leftIcon={\"tag\"} leftContent={<Text>{\"ID: \"+resource?.id}</Text>} />)\n\t\toutput.push(<SettingsRow leftIcon={\"code-braces\"} leftContent={<View style={{flexDirection:'row', flex: 1}}><Text style={{flex: 1, flexWrap: 'wrap'}}>{\"Canteen:\\n\"}{JSON.stringify(resource, null, 2)}</Text></View>} />)\n\n\t\treturn(\n\t\t\toutput\n\t\t)\n\t}\n\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t}, [props]);\n\n\tfunction getDetailsComponentMenusForRelations(){\n\n\t\tconst relations = {\n\t\t}\n\n\t\tif(debug){\n\t\t\trelations[\"buildings\"] = {\n\t\t\t\tmenu: {\n\t\t\t\t\trenderContent: (backgroundColor, textColor) => {return <AppTranslation color={textColor} id={\"buildings\"} />},\n\t\t\t\t\trenderIcon: (backgroundColor, textColor) => {return <DebugIcon color={textColor} id={\"buildings\"} />},\n\t\t\t\t\tamount: building_ids.length,\n\t\t\t\t},\n\t\t\t\t\trenderContent: (onClose) => {\n\t\t\t\t\t\treturn <BuildingsList resource_ids={building_ids} withoutOverlay={true} onPress={(resourceId) => {\n\t\t\t\t\t\t\tNavigation.navigateTo(BuildingsContent, {id: resourceId, showbackbutton: true})\n//\t\t\t\t\t\t\tNavigatorHelper.navigateWithoutParams(BuildingsContent, false, {id: resourceId, showbackbutton: true})\n\t\t\t\t\t\t\tif(onClose){\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}} />\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn relations;\n\t}\n\n\tfunction renderActionRow(){\n\t\tconst actionRowMenus = {}\n\n\t\tconst detailsComponentMenusForRelations = getDetailsComponentMenusForRelations();\n\n\t\treturn(\n\t\t\t<MyThemedBox key={\"food_rating\"} _shadeLevel={3} style={{paddingVertical: \"1%\", paddingHorizontal: \"1%\"}}>\n\t\t\t\t<View style={{width: \"100%\", flexDirection: \"row\"}}>\n\t\t\t\t\t<DetailsComponentMenusForRelations menus={actionRowMenus} relations={detailsComponentMenusForRelations} />\n\t\t\t\t</View>\n\t\t\t</MyThemedBox>\n\t\t)\n\t}\n\n\treturn(\n\t\t<BaseNoPaddingTemplate title={translation_title} route={props?.route} >\n\t\t\t<View style={{width: \"100%\", paddingTop: Layout.padding}}>\n\t\t\t\t<CanteenCard key={resourceId} resource_id={resourceId} small={false} />\n\t\t\t\t{renderActionRow()}\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<DetailsComponentMenus menus={menus} />\n\t\t\t</View>\n\t\t</BaseNoPaddingTemplate>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {ViewPixelRatio} from \"../../helper/ViewPixelRatio\";\nimport {StringHelper} from \"../../helper/StringHelper\";\nimport {TouchableOpacity} from \"react-native\";\nimport {InfoIcon} from \"../icons/InfoIcon\";\nimport {Navigation, useMyContrastColor} from \"../../../kitcheningredients\";\nimport {CanteenContent} from \"../../screens/canteen/CanteenContent\";\nimport {ImageOverlayPaddingStyle} from \"../imageOverlays/ImageOverlay\";\nimport {ImageOverlayPosition} from \"../imageOverlays/ImageOverlays\";\nimport {DefaultComponentCardOverlayBox} from \"../detailsComponent/DefaultComponentCardOverlayBox\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {Tooltip} from \"native-base\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\n\ninterface AppState {\n\tresource_id: any,\n\twidth?: number,\n\tposition?: ImageOverlayPosition,\n}\nexport const CanteenCardOverlayMoreInformation: FunctionComponent<AppState> = (props) => {\n\n\tconst resource_id = props?.resource_id;\n\tconst resourceId = resource_id;\n\n\tconst accessibilityLabel = useAppTranslation(\"moreInformations\");\n\n\tconst projectColor = ColorHelper.useProjectColor();\n\tconst overlayTextColor = useMyContrastColor(projectColor);\n\n\treturn(\n\t\t<DefaultComponentCardOverlayBox width={props?.width} position={props?.position} >\n\t\t\t<Tooltip label={accessibilityLabel}>\n\t\t\t<TouchableOpacity accessibilityLabel={accessibilityLabel} onPress={() => {\n\t\t\t\tNavigation.navigateTo(CanteenContent, {id: resourceId, showbackbutton: true})\n//\t\t\t\tNavigatorHelper.navigateWithoutParams(CanteenContent, false, {id: resourceId, showbackbutton: true})\n\t\t\t}} >\n\t\t\t\t<InfoIcon color={overlayTextColor} />\n\t\t\t</TouchableOpacity>\n\t\t\t</Tooltip>\n\t\t</DefaultComponentCardOverlayBox>\n\t)\n\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {Text} from \"native-base\";\nimport {CanteenImage} from \"./CanteenImage\";\nimport {DefaultComponentCard} from \"../detailsComponent/DefaultComponentCard\";\nimport {useSynchedBuildingsDict, useSynchedCanteen} from \"../../helper/synchedJSONState\";\nimport {BuildingsCardOverlayDistance} from \"../buildings/BuildingsCardOverlayDistance\";\nimport {CanteenCardOverlayMoreInformation} from \"./CanteenCardOverlayMoreInformation\";\nimport {ImageOverlayPosition, ImageOverlays} from \"../imageOverlays/ImageOverlays\";\nimport {BuildingHelper} from \"../buildings/BuildingHelper\";\n\n\ninterface AppState {\n\tresource_id?: any,\n\tonPress?: (resourceId: string | number) => void,\n\thighlight?: boolean,\n\tsmall?: boolean,\n\twithoutOverlay?: boolean,\n}\nexport const CanteenCard: FunctionComponent<AppState> = (props) => {\n\n\tconst resource_id = props?.resource_id;\n\tconst resource = useSynchedCanteen(resource_id);\n\tconst resourceId = resource?.id;\n\n\tconst [buildings, setBuildings] = useSynchedBuildingsDict()\n\n\tconst canteen = resource;\n\tconst buildingResourceId = canteen?.building;\n\n\tlet resourceBuilding = buildings[resource_id];\n\tconst resourceBuildingTitle = BuildingHelper.getName(resourceBuilding);\n\n\tlet small = true;\n\tif(props?.small!==undefined && props?.small!==null){\n\t\tsmall = props.small;\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props])\n\n\tlet amountOfLines = 3;\n\n\tfunction onPress(){\n\t\tif(!!props.onPress && !!resourceId){\n\t\t\tprops.onPress(resourceId);\n\t\t}\n\t}\n\n\tfunction renderTop(width){\n\t\treturn(\n\t\t\t<CanteenImage canteen={canteen} width={width} >\n\t\t\t</CanteenImage>\n\t\t)\n\t}\n\n\tfunction renderTopForeground(width){\n\t\tconst overlays = [];\n\t\tif(!props?.withoutOverlay){\n\t\t\toverlays.push(<BuildingsCardOverlayDistance resource_id={buildingResourceId} width={width} position={ImageOverlayPosition.BOTTOM_RIGHT} />)\n\t\t\toverlays.push(<CanteenCardOverlayMoreInformation resource_id={resourceId} width={width} position={ImageOverlayPosition.TOP_RIGHT} />)\n\t\t}\n\n\t\treturn(\n\t\t\t<ImageOverlays width={width}>\n\t\t\t\t{overlays}\n\t\t\t</ImageOverlays>\n\t\t)\n\t}\n\n\tfunction renderBottom(backgroundColor, textColor){\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Text color={textColor} numberOfLines={amountOfLines-1}>{canteen?.label}</Text>\n\t\t\t</>\n\t\t)\n\t}\n\n\treturn(\n\t\t<DefaultComponentCard accessibilityLabel={resourceBuildingTitle} small={small} onPressTop={onPress} renderTop={renderTop} renderTopForeground={renderTopForeground} renderBottom={renderBottom} liked={props?.highlight} />\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {GridList} from \"../GridList\";\nimport {CanteenCard} from \"./CanteenCard\";\nimport {NotFound} from \"../animations/NotFound\";\nimport {View, Text} from \"native-base\";\nimport {TouchableOpacity} from \"react-native\";\nimport {AppTranslation} from \"../translations/AppTranslation\";\nimport {useSynchedCanteensDict} from \"../../helper/synchedJSONState\";\nimport {useSynchedProfile, useSynchedProfileCanteen} from \"../profile/ProfileAPI\";\n\ninterface AppState {\n\tresource_ids: string[] | number[];\n\tonPress?: (resourceId: string | number) => void;\n\twithoutOverlay?: boolean;\n}\nexport const CanteenList: FunctionComponent<AppState> = (props) => {\n\n\tconst [canteensDict, setCanteensDict] = useSynchedCanteensDict();\n\tconst [profileCanteenId, setProfileCanteenId] = useSynchedProfileCanteen();\n\n\tconst notFoundError = canteensDict===null ?  <NotFound /> : null;\n\n\tlet renderedCards = [];\n\n\tif(canteensDict===null){\n\t\treturn <View>\n\t\t\t<NotFound />\n\t\t\t\t<View style={{margin: 10, backgroundColor: \"orange\"}}>\n\t\t\t\t\t<AppTranslation id={\"somethingWentWrong\"} />\n\t\t\t\t</View>\n\t\t</View>\n\t} else if(canteensDict===undefined) {\n\t\tfor(let i=0; i<10; i++){\n\t\t\trenderedCards.push(<CanteenCard resource_id={null} onPress={props?.onPress} withoutOverlay={props?.withoutOverlay} />)\n\t\t}\n\t} else {\n\t\tfor(let canteenId of props?.resource_ids){\n\t\t\tconst highlight = canteenId==profileCanteenId && !!canteenId;\n\t\t\trenderedCards.push(<CanteenCard highlight={highlight} resource_id={canteenId} onPress={props?.onPress} withoutOverlay={props?.withoutOverlay} />)\n\t\t}\n\t}\n\n\treturn(\n\t\t<GridList>\n\t\t\t{renderedCards}\n\t\t</GridList>\n\t)\n}\n","import React from \"react\";\nimport {useSynchedCanteensDict} from \"../../helper/synchedJSONState\";\nimport {CanteenList} from \"./CanteenList\";\n\nexport const CanteenListAll = ({onPress, ...props}: any) => {\n\n\tconst [canteensDict, setCanteensDict] = useSynchedCanteensDict();\n\tconst canteen_ids = canteensDict ? Object.keys(canteensDict) : undefined;\n\n\treturn(\n\t\t<CanteenList resource_ids={canteen_ids} onPress={onPress} />\n\t)\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {MyThemedBox, Navigation, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {CanteenListAll} from \"../../components/canteen/CanteenListAll\";\nimport {Text, View} from \"native-base\";\nimport {useSynchedProfileCanteen} from \"../../components/profile/ProfileAPI\";\nimport {AppTranslation} from \"../../components/translations/AppTranslation\";\nimport {useDebugMode} from \"../../helper/synchedJSONState\";\n\nexport const SettingCanteen: FunctionComponent = (props) => {\n\n\tconst params = props?.route?.params\n\tconst [profileCanteenId, setProfileCanteenId] = useSynchedProfileCanteen();\n\n\tconst [debug, setDebug] = useDebugMode()\n\n\tfunction onPress(resourceId){\n\t\tif(resourceId){\n\t\t\tsetProfileCanteenId(resourceId);\n\t\t\tif(params?.showbackbutton){\n\t\t\t\tNavigation.navigateBack();\n//\t\t\t\tNavigatorHelper.goBack()\n\t\t\t} else if(params?.goHome){\n\t\t\t\tNavigation.navigateHome()\n//\t\t\t\tNavigatorHelper.navigateHome();\n\t\t\t}\n\t\t}\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [params])\n\n\tfunction renderDebug(){\n\t\tif(debug){\n\t\t\treturn(\n\t\t\t\t<View style={{flexDirection: \"column\", flex: 1}}>\n\t\t\t\t\t<Text>{\"profile.canteen\"}</Text>\n\t\t\t\t\t<Text>{JSON.stringify(profileCanteenId, null, 2)}</Text>\n\t\t\t\t</View>\n\t\t\t)\n\t\t}\n\t}\n\n\treturn(\n\t\t<View style={{width: \"100%\"}}>\n\t\t\t<MyThemedBox key={\"food_name\"} _shadeLevel={3} style={{flexDirection: \"row\", paddingVertical: \"1%\", paddingHorizontal: \"1%\"}}>\n\t\t\t\t<View style={{flexDirection: \"column\", flex: 1}}>\n\t\t\t\t\t<AppTranslation id={\"selectYourCanteen\"} />\n\t\t\t\t</View>\n\t\t\t\t{renderDebug()}\n\t\t\t</MyThemedBox>\n\t\t\t<CanteenListAll onPress={(resourceId) => {\n\t\t\t\tonPress(resourceId)\n\t\t\t}} />\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent, useEffect, useRef, useState} from \"react\";\nimport {BackButton, Icon} from \"../../../kitcheningredients\";\nimport {Input, View} from \"native-base\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\n\nexport interface AppState{\n\thandleSearch: any,\n}\nexport const FoodListHeader: FunctionComponent<AppState> = (props) => {\n\n\tconst textSearch = useAppTranslation(\"search\");\n\n\tconst searchInput = useRef(null);\n\n\tconst [search, setSearch] = useState(undefined);\n\n\tconst delayBeforeNotifyInMs = 500;\n\tfunction notifySearch(){\n\t\tprops.handleSearch(search, true);\n\t}\n\n\tuseEffect(() => {\n\t\tif (searchInput?.current) {\n\t\t\tsearchInput.current.focus();\n\t\t}\n\n\t\tconst timeOutId = setTimeout(() => notifySearch(), delayBeforeNotifyInMs);\n\t\treturn () => clearTimeout(timeOutId);\n\t}, [search]);\n\n\tfunction renderDrawerButton(){\n\t\treturn <BackButton />\n\t}\n\n\tfunction renderSearchbar(){\n\t\treturn(\n\t\t\t<View style={{width: \"100%\", justifyContent: \"center\", alignItems: \"center\", flexDirection: \"row\"}}>\n\t\t\t\t<Input\n\t\t\t\t\tsize={\"md\"}\n\t\t\t\t\tref={searchInput}\n\t\t\t\t\tplaceholder={textSearch}\n\t\t\t\t\tonChangeText={(text) => {\n\t\t\t\t\t\tif(!!text && text.length > 0){\n\t\t\t\t\t\t\tprops.handleSearch(search, false);\n\t\t\t\t\t\t\tsetSearch(text)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tprops.handleSearch(undefined, false);\n\t\t\t\t\t\t\tsetSearch(undefined);\n\t\t\t\t\t\t}\n\t\t\t\t\t}} value={search} style={{flex: 1}} />\n\t\t\t\t<Icon name={\"magnify\"} />\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction renderHeader(){\n\t\treturn(\n\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t<View style={{flexDirection: \"row\", width: \"100%\", alignItems: \"center\"}}>\n\t\t\t\t\t{renderDrawerButton()}\n\t\t\t\t\t<View style={{flex: 1 ,justifyContent: \"flex-start\"}}>\n\t\t\t\t\t\t{renderSearchbar()}\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t)\n\t}\n\n\treturn(\n\t\trenderHeader()\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {FoodLoader} from \"../../components/food/FoodLoader\";\nimport {BaseTemplate} from \"../../../kitcheningredients\";\nimport {View, Text} from \"native-base\";\nimport {FoodListHeader} from \"../../components/food/FoodListHeader\";\nimport {FoodCardListComponent} from \"../../components/food/FoodCardListComponent\";\nimport {NotFound} from \"../../components/animations/NotFound\";\nimport {NoFoodOffersFound} from \"../../components/food/NoFoodOffersFound\";\nimport {AppTranslation} from \"../../components/translations/AppTranslation\";\n\nexport const FoodList: FunctionComponent = (props) => {\n\n\tconst limitSearchResults = 24;\n\tconst [foods, setFoods] = useState([]);\n\n\tasync function load(){\n\n\t}\n\n\tfunction onUpload(){\n\t\tload();\n\t}\n\n\tfunction renderFoundMoreResults(){\n\t\tif(!!foods && foods.length >= limitSearchResults){\n\t\t\treturn(\n\t\t\t\t<View style={{width: \"100%\", flexDirection: \"row\", justifyContent: \"center\", alignItems: \"center\"}}>\n\t\t\t\t\t<AppTranslation id={\"foodSearchFoundMoreResults\"} />\n\t\t\t\t</View>\n\t\t\t)\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tasync function handleSearch(text, finishedTyping){\n\t\tif(!finishedTyping){\n\t\t\tsetFoods(undefined);\n\t\t} else {\n\t\t\tif(!!text){\n\t\t\t\tsetFoods(undefined);\n\t\t\t\tFoodLoader.searchFood(text, limitSearchResults).then(searchedFoods => {\n\t\t\t\t\tif(!!searchedFoods){\n\t\t\t\t\t\tlet wrappedFoods = [];\n\t\t\t\t\t\tfor(let i=0; i<searchedFoods.length && i<limitSearchResults; i++){\n\t\t\t\t\t\t\tlet food = searchedFoods[i];\n\t\t\t\t\t\t\twrappedFoods.push({\n\t\t\t\t\t\t\t\tfood: food,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetFoods(wrappedFoods);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetFoods(null);\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tsetFoods(null);\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tsetFoods([]);\n\t\t\t}\n\t\t}\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t\tload()\n\t}, [props?.route?.params])\n\n\treturn(\n\t\t<View style={{width: \"100%\", height: \"100%\"}}>\n\t\t\t<BaseTemplate header={<FoodListHeader handleSearch={handleSearch} />} route={props?.route} >\n\t\t\t\t<FoodCardListComponent\n\t\t\t\t\tkey={\"FoodList\"+JSON.stringify(foods)}\n\t\t\t\t\terrorComponent={ <NotFound />}\n\t\t\t\t\tnothingFoundComponent={[<NoFoodOffersFound />]}\n\t\t\t\t\tfoodoffers={foods}\n\t\t\t\t\tonUpload={onUpload} />\n\t\t\t\t{renderFoundMoreResults()}\n\t\t\t</BaseTemplate>\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\nimport {TouchableOpacity} from \"react-native\";\nimport {ViewPixelRatio} from \"../../helper/ViewPixelRatio\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {Tooltip} from \"native-base\";\nimport {ImageOverlayPaddingStyle} from \"../imageOverlays/ImageOverlay\";\nimport {MyTouchableOpacity} from \"../buttons/MyTouchableOpacity\";\n\nexport interface AppState{\n\tonPress?,\n\tcolor?,\n\tforward: boolean\n\taccessibilityLabel?: string // the custom label\n\taccessibilityName?: string // alternative just the thing that next or previous\n}\nexport const SwitchIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet forward = props?.forward;\n\tlet iconName = forward ? \"chevron-right\" : \"chevron-left\"\n\n\tconst accessibilityLabelNext = useAppTranslation(\"accessibility_next\")\n\tconst accessibilityLabelPrevious = useAppTranslation(\"accessibility_previous\")\n\tconst accessibilityName = props?.accessibilityName;\n\tlet accessibilityLabel = props?.accessibilityLabel;\n\tif(!accessibilityLabel){\n\t\taccessibilityLabel = forward ? accessibilityLabelNext : accessibilityLabelPrevious;\n\t\tif(accessibilityName){\n\t\t\taccessibilityLabel = accessibilityName + \": \" + accessibilityLabel;\n\t\t}\n\t}\n\n\tlet padding = 80;\n\tlet style = forward ? {paddingLeft: padding} : {paddingRight: padding};\n\n\treturn(\n\t\t\t<ViewPixelRatio style={style}>\n\t\t\t\t\t<MyTouchableOpacity accessibilityLabel={accessibilityLabel} style={ImageOverlayPaddingStyle} onPress={() => {\n\t\t\t\t\t\tif(props?.onPress){\n\t\t\t\t\t\t\tprops?.onPress(forward);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Icon name={iconName} color={props?.color} accessibilityLabel={accessibilityLabel} />\n\t\t\t\t\t</MyTouchableOpacity>\n\t\t\t</ViewPixelRatio>\n\t)\n}\n","import React, {FunctionComponent, useState} from \"react\";\nimport {ScrollView, Text, Tooltip, View} from \"native-base\";\nimport {Dimensions, TouchableOpacity} from \"react-native\";\nimport {GridList} from \"../GridList\";\nimport {DateHelper, Weekday} from \"../../helper/DateHelper\";\nimport {SwitchIcon} from \"../icons/SwitchIcon\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {ParentDimension} from \"../../helper/ParentDimension\";\nimport {ViewPixelRatio} from \"../../helper/ViewPixelRatio\";\nimport {ViewPercentageBorderradius} from \"../../helper/ViewPercentageBorderradius\";\n\nexport interface SimpleDatePickerProps {\n    onClose: any\n    currentDate?: Date,\n    selectedTextColor?: any,\n    selectedDateColor?: any,\n    weekdayBackgroundColor?: any,\n    weekdayTextColor?: any,\n    onSelectDate?: any,\n    locale?: string,\n    renderDate?: (dateToRender: Date, referenceDate: Date, onClose: any, emptyRow: boolean) => any,\n    yearTranslation?: string,\n    monthTranslation?: string,\n    selectedTranslation?: string,\n}\nexport const SimpleDatePickerComponent: FunctionComponent<SimpleDatePickerProps> = (props) => {\n\n    const defaultBackgroundColor = \"orange\";\n    const defaultSelectedColor = \"white\";\n\n    const onClose = props?.onClose;\n    const translatedWordYear = props?.yearTranslation || \"Year\";\n    const translatedWordMonth = props?.monthTranslation || \"Month\";\n    const selectedTranslation = props?.selectedTranslation || \"Selected\";\n\n    const locale = props?.locale;\n    const weekStartsAtDay = DateHelper.Weekday.MONDAY; // 0=Sunday 1=Monday\n\n    const windowHeight = Dimensions.get('screen').height;\n    const maxHeight = windowHeight*0.5;\n\n    const amountDaysPerWeek = 7;\n    const amountCalendarCurrentMonthRows = 4;\n    const amountCalendarPreviousMonthRows = 1;\n    const amountCalendarNextMonthRows = 1;\n    const amountCalendarDateRows = amountCalendarCurrentMonthRows+amountCalendarPreviousMonthRows+amountCalendarNextMonthRows;\n\n    const [monthDimension, setMonthDimension] = useState({width: undefined, height: undefined})\n    const [dimension, setDimension] = useState({width: undefined, height: undefined})\n    let smalledDimension = undefined;\n    if(dimension?.height < smalledDimension || !smalledDimension){\n        smalledDimension = dimension.height\n    }\n    if(dimension?.width < smalledDimension || !smalledDimension){\n        smalledDimension = dimension.width\n    }\n\n    const currentDate = props?.currentDate || new Date();\n    const [shownDateString, setShownDate] = useState(currentDate);\n\n    const shownDate = new Date(shownDateString);\n\n    function renderWeekdayRowForMonth(){\n        let output = [];\n        let weekDayShortChars = DateHelper.getWeekdayNamesFirstLetters(locale, weekStartsAtDay);\n        let weekDayNamesLong = DateHelper.getWeekdayNames(locale, weekStartsAtDay);\n\n        let backgroundColor = props?.weekdayBackgroundColor || defaultBackgroundColor;\n        let textColor = props?.weekdayTextColor || defaultSelectedColor\n\n        for(let i = 0; i < amountDaysPerWeek; i++){\n            let weekDayName = weekDayNamesLong[i];\n            let weekDayShortChar = weekDayShortChars[i];\n\n            const tooptip = weekDayName;\n            const accessibilityLabel = weekDayName;\n\n\n            output.push(\n                <View style={{width: \"100%\", backgroundColor: backgroundColor}}>\n                    <Tooltip label={tooptip}>\n                        <View style={{justifyContent: \"center\", alignItems: \"center\"}}>\n                            <Text accessibilityLabel={accessibilityLabel} color={textColor}>{weekDayShortChar}</Text>\n                        </View>\n                    </Tooltip>\n                </View>\n            )\n        }\n        return output;\n    }\n\n    function renderDefaultDayInMonth(dateToRender: Date, referenceDate: Date, onClose){\n        let style = {\n            opacity: undefined,\n            backgroundColor: undefined\n        }\n\n\n\n        const text = dateToRender.getDate()+\"\";\n\n        let monthOfDateToRender = dateToRender.getMonth();\n        let monthOfReferenceDate = referenceDate.getMonth();\n\n        let textColor = undefined;\n\n        if(monthOfReferenceDate!==monthOfDateToRender){\n            style.opacity = 0.5;\n        }\n\n        const weekdayName = DateHelper.getWeekdayNameByDate(dateToRender, locale)\n        let tooltip = weekdayName + \" \"+ DateHelper.formatOfferDateToReadable(dateToRender, true);\n\n\n        let isSelected = dateToRender.toISOString()===referenceDate.toISOString()\n        if(isSelected){\n            style.backgroundColor = props?.selectedDateColor || defaultBackgroundColor;\n            textColor = props?.selectedTextColor || defaultSelectedColor;\n            tooltip = selectedTranslation + \": \" + tooltip;\n        }\n\n        const accessibilityLabel = tooltip;\n\n        return (\n            <Tooltip label={tooltip}>\n                <TouchableOpacity\n                    accessibilityLabel={accessibilityLabel}\n                    onPress={() => {\n                        if(props?.onSelectDate){\n                            props?.onSelectDate(dateToRender)\n                        }\n                        if(!!onClose){\n                            onClose();\n                        }\n                    }}\n                    style={[{justifyContent: \"center\", alignItems: \"center\", flex: 1}]}>\n                            <ViewPercentageBorderradius style={[{borderRadius: \"100%\" ,width: \"100%\", justifyContent: \"center\", alignItems: \"center\", flex: 1}, style]}>\n                                    <Text color={textColor} >{text}</Text>\n                            </ViewPercentageBorderradius>\n                </TouchableOpacity>\n            </Tooltip>\n        );\n    }\n\n    function renderDayInMonth(dateToRender: Date, referenceDate: Date, onClose, emptyRow: true){\n        let content = null;\n\n        if(!emptyRow){\n            if(!!props?.renderDate){\n                content = props?.renderDate(dateToRender, referenceDate, onClose, emptyRow);\n            } else {\n                content = renderDefaultDayInMonth(dateToRender, referenceDate, onClose);\n            }\n        }\n\n        return(\n            <View style={{flex: 1}}>\n                {content}\n            </View>\n        )\n    }\n\n    function renderDaysInMonth(date: Date, firstDayOfWeek: Weekday, onClose){\n        //e. G. date=12.10.2022\n        let firstDayOfMonth = DateHelper.getFirstDayOfMonth(date);\n        let diffToStartWithFirstDayOfWeek = DateHelper.getAmountDaysFromLastMonthForWeekstart(date, firstDayOfWeek)\n\n        let output = [];\n\n        // previous month\n        let tempDate = new Date(firstDayOfMonth);\n        tempDate.setDate(tempDate.getDate()-diffToStartWithFirstDayOfWeek);\n        for(let i=0; i<diffToStartWithFirstDayOfWeek; i++){\n            output.push(renderDayInMonth(new Date(tempDate), new Date(date), onClose))\n            tempDate.setDate(tempDate.getDate()+1);\n        }\n\n        // current month\n        let amountDaysInMonth = DateHelper.getAmountDaysInMonth(date);\n        tempDate = new Date(firstDayOfMonth);\n        for(let i=0; i<amountDaysInMonth; i++){\n            output.push(renderDayInMonth(new Date(tempDate), new Date(date), onClose))\n            tempDate.setDate(tempDate.getDate()+1);\n        }\n\n        // next month\n        let diffToEndWithLastDayOfWeekForMonth = DateHelper.getAmountDaysFromNextMonthToWeekend(date, firstDayOfWeek);\n        tempDate = DateHelper.getFirstDayOfNextMonth(date);\n        for(let i=0; i<diffToEndWithLastDayOfWeekForMonth; i++){\n            output.push(renderDayInMonth(new Date(tempDate), new Date(date), onClose))\n            tempDate.setDate(tempDate.getDate()+1);\n        }\n\n        // In order to maintain the same height for all months we fill the gaps\n        while(output.length < amountDaysPerWeek*amountCalendarDateRows){\n            output.push(renderDayInMonth(null, null, null, true))\n        }\n\n        return output;\n    }\n\n    function renderAllDaysInMonth(date: Date, onClose){\n        let output = [];\n        output = output.concat(renderDaysInMonth(date, weekStartsAtDay, onClose));\n\n        return (\n            <View style={{width: \"100%\", flex: 1}}>\n                <GridList\n                    paddingHorizontal={\"0%\"}\n                    paddingVertical={\"0%\"}\n                    beakpointsColumns={{\n                        base: amountDaysPerWeek\n                    }}\n                    style={{flex: 1}} >\n                    {output}\n                </GridList>\n            </View>\n        )\n    }\n\n    function renderSwitchYear(shownDate: Date, forward){\n        let yearDiff = forward ? 1 : -1\n\n        return(\n            <SwitchIcon accessibilityName={translatedWordYear} forward={forward} onPress={() => {\n                let nextDate = new Date(shownDate);\n                nextDate.setFullYear(nextDate.getFullYear()+yearDiff)\n                setShownDate(nextDate.toISOString())\n            }} />\n        )\n    }\n\n    function renderSwitchYearRow(shownDate: Date){\n        return renderRow(\n            renderSwitchYear(shownDate, false),\n            <Text>{shownDate.getFullYear()}</Text>,\n            renderSwitchYear(shownDate, true)\n        )\n    }\n\n    function renderSwitchMonth(shownDate: Date, forward){\n        let monthDiff = forward ? 1 : -1\n\n        return(\n            <SwitchIcon accessibilityName={translatedWordMonth} forward={forward} onPress={() => {\n                let nextDate = new Date(shownDate);\n                nextDate.setMonth(nextDate.getMonth()+monthDiff)\n                setShownDate(nextDate.toISOString())\n            }} />\n        );\n    }\n\n    function renderRow(...children){\n        let output = [];\n        for(let child of children){\n            output.push(\n                <View style={{flex: 1, flexGrow: 1, justifyContent: \"center\", alignItems: \"center\"}}>\n                    {child}\n                </View>\n            )\n        }\n\n        return (\n            <View style={{justifyContent: \"center\", alignItems: \"center\", flexDirection: \"row\", width: \"100%\"}}>\n                {output}\n            </View>\n        )\n    }\n\n    function renderSwitchMonthRow(shownDate: Date){\n        let monthName = DateHelper.getMonthName(shownDate, locale)\n\n        return renderRow(\n            renderSwitchMonth(shownDate, false),\n            <Text>{monthName}</Text>,\n            renderSwitchMonth(shownDate, true)\n        )\n    }\n\n    function renderContent(onClose){\n        if(!!smalledDimension){\n            return(\n                <View style={{height: smalledDimension, width: smalledDimension}}>\n                    {renderSwitchYearRow(shownDate)}\n                    {renderSwitchMonthRow(shownDate)}\n                    {renderRow(\n                        ...renderWeekdayRowForMonth()\n                    )}\n                    {renderAllDaysInMonth(shownDate, onClose)}\n                </View>\n            )\n        } else {\n            return null\n        }\n    }\n\n    function renderDatePickerComponent(){\n        return(\n            <ScrollView style={{width: \"100%\"}}>\n                <View style={{height: maxHeight, width: \"100%\"}}>\n                    <ParentDimension style={{height: maxHeight, width: \"100%\", alignItems: \"center\"}} setDimension={(x, y, width, height) => {\n                        setDimension({width: width, height: height})\n                    }} >\n                        {renderContent(onClose)}\n                    </ParentDimension>\n\n                </View>\n            </ScrollView>\n        )\n    }\n\n    return(\n        renderDatePickerComponent(onClose)\n    )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Tooltip, View} from \"native-base\";\nimport {TouchableOpacity} from \"react-native\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {MyActionsheet} from \"../../../kitcheningredients\";\nimport {SimpleDatePickerComponent} from \"./SimpleDatePickerComponent\";\nimport {ProfileAPI, useSynchedProfile} from \"../profile/ProfileAPI\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {ImageOverlayPaddingStyle} from \"../imageOverlays/ImageOverlay\";\nimport {ColorHelper} from \"../../helper/ColorHelper\"\n\nexport interface SimpleDatePickerProps {\n    currentDate: Date,\n    onSelectDate?: any,\n    renderDate?: (dateToRender: Date, referenceDate: Date, onClose: any) => any,\n    accessibilityLabel?: string,\n}\nexport const SimpleDatePicker: FunctionComponent<SimpleDatePickerProps> = (props) => {\n\n    const actionsheet = MyActionsheet.useActionsheet();\n    const selectDateTranslation = useAppTranslation(\"selectDate\");\n    const yearTranslation = useAppTranslation(\"year\");\n    const monthTranslation = useAppTranslation(\"month\");\n    const selectedTranslation = useAppTranslation(\"selected\");\n\n    const currentDate = props?.currentDate;\n    const formatedSelectedDate = DateHelper.formatOfferDateToReadable(currentDate, true);\n    const accessibilityLabel = props?.accessibilityLabel || formatedSelectedDate;\n\n    const [profile, setProfile] = useSynchedProfile();\n    let locale = ProfileAPI.getLocaleForJSDates(profile);\n\n    const selectedDateColor = ColorHelper.useProjectColor()\n    const selectedTextColor = ColorHelper.useContrastColor(selectedDateColor);\n\n    const weekdayBackgroundColor = ColorHelper.useProjectColor();\n    const weekdayTextColor = ColorHelper.useContrastColor(weekdayBackgroundColor);\n\n    return(\n        <TouchableOpacity\n            style={ImageOverlayPaddingStyle}\n            accessibilityHint={selectDateTranslation}\n            accessibilityLabel={accessibilityLabel}\n            onPress={() => {\n            actionsheet.show({\n                title: selectDateTranslation,\n                renderCustomContent: (onClose) => {\n                    return <SimpleDatePickerComponent\n                        onClose={onClose}\n                        currentDate={props.currentDate}\n                        selectedTextColor={selectedTextColor}\n                        selectedDateColor={selectedDateColor}\n                        weekdayBackgroundColor={weekdayBackgroundColor}\n                        weekdayTextColor={weekdayTextColor}\n                        onSelectDate={props.onSelectDate}\n                        renderDate={props.renderDate}\n                        locale={locale}\n                        yearTranslation={yearTranslation}\n                        monthTranslation={monthTranslation}\n                        selectedTranslation={selectedTranslation}\n                    />\n                }\n            }, {});\n        }}>\n            <View>\n                <Tooltip label={selectDateTranslation} >\n                    {props.children}\n                </Tooltip>\n            </View>\n        </TouchableOpacity>\n    )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const PriceGroupIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"currency-eur\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {CrossLottie, Layout} from \"../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport moneyConfident from \"../../assets/accountBalance/moneyConfident.json\";\nimport {ProjectColoredCrossLottie} from \"./ProjectColoredCrossLottie\";\n\nexport const AnimationPriceGroup = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"40%\",\n\t\tsm: \"30%\",\n\t\tmd: Layout.WIDTH_MD*0.3,\n\t\tlg: Layout.WIDTH_LG*0.3,\n\t\txl: Layout.WIDTH_XL*0.2\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<ProjectColoredCrossLottie source={moneyConfident} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\nimport {SettingsRow, SettingsRowProps} from \"./SettingsRow\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\ninterface AppState {\n    active?: boolean\n}\nexport const SettingsRowOption: FunctionComponent<SettingsRowProps & AppState> = ({active, ...props}) => {\n\n    const selectionIconName = active ? \"checkbox-marked-circle\" : \"checkbox-blank-circle-outline\";\n    const selectionIcon = <Icon name={selectionIconName}  />\n\n    return (\n        <SettingsRow accessibilityState={{checked: active}} accessibilityRole={AccessibilityRoles.checkbox} {...props} rightIcon={selectionIcon}/>\n    )\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {\n\tBaseNoPaddingTemplate,\n\tBasePadding,\n\tHeaderWithActions,\n\tIcon,\n\tNavigation,\n\tNavigatorHelper\n} from \"../../../kitcheningredients\";\nimport {Text, View} from \"native-base\";\nimport {ProfileAPI} from \"../../components/profile/ProfileAPI\";\nimport {useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {useDebugMode} from \"../../helper/synchedJSONState\";\nimport {AnimationPriceGroup} from \"../../components/animations/AnimationPriceGroup\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {SettingsRowOption} from \"../../components/settings/SettingsRowOption\";\n\nexport const SettingPriceGroup: FunctionComponent = (props) => {\n\n\tconst params = props?.route?.params\n\n\tconst [priceGroup, setPriceGroup, priceGroups] = ProfileAPI.useSynchedPriceGroup();\n\tconst title = useAppTranslation(\"price_group\");\n\tconst translationSelect = useAppTranslation(\"select\");\n\tconst priceGroupTranslation = priceGroups[priceGroup]?.label;\n\n\tconst [debug, setDebug] = useDebugMode()\n\tconst [showMore, setShowMore] = useState(false);\n\n\tasync function onPress(option){\n\t\tif(option){\n\t\t\tsetPriceGroup(option);\n\t\t\tif(params?.showbackbutton){\n\t\t\t\tNavigation.navigateBack();\n\t\t\t} else if(params?.goHome){\n\t\t\t\tNavigation.navigateHome()\n//\t\t\t\tNavigatorHelper.navigateHome();\n\t\t\t}\n\t\t}\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [params])\n\n\tfunction renderDebug(){\n\t\tif(debug){\n\t\t\tlet debugContent = null\n\t\t\tif(showMore){\n\t\t\t\tdebugContent = (\n\t\t\t\t\t<View style={{flexDirection: \"column\"}}>\n\t\t\t\t\t\t<Text>{\"profile.canteen\"}</Text>\n\t\t\t\t\t\t<Text>{JSON.stringify(NavigatorHelper.getHistory())}</Text>\n\t\t\t\t\t\t<Text>{JSON.stringify(priceGroup, null, 2)}</Text>\n\t\t\t\t\t\t<Text>{JSON.stringify(priceGroups, null, 2)}</Text>\n\t\t\t\t\t</View>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<SettingsRow leftIcon={<Icon name={\"bug\"} />} leftContent={\"Debug\"} rightIcon={<Icon name={\"bug\"} />}  onPress={\n\t\t\t\t\t\t() => {setShowMore(!showMore)}\n\t\t\t\t\t}/>\n\t\t\t\t\t{debugContent}\n\t\t\t\t</>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst header = <HeaderWithActions route={props?.route} showbackbutton={props?.route?.params?.showbackbutton} title={title} />\n\n\tfunction renderPriceGroupOptions(){\n\t\tlet output = [];\n\t\tlet priceGroupKeys = Object.keys(priceGroups)\n\t\tfor(let priceGroupsToChooseKey of priceGroupKeys){\n\t\t\tlet priceGroupInformations = priceGroups[priceGroupsToChooseKey];\n\t\t\tlet label = priceGroupInformations?.label;\n\t\t\tlet iconName = priceGroupInformations?.icon;\n\n\t\t\tlet active = priceGroupsToChooseKey === priceGroup;\n\n\t\t\toutput.push(<SettingsRowOption active={active} accessibilityLabel={translationSelect+\": \"+label}\n\t\t\t\t\t\t\t\t\t\t   leftIcon={iconName} onPress={() => {\n\t\t\t\tonPress(priceGroupsToChooseKey)\n\t\t\t}}  leftContent={label}\n\t\t\t/>)\n\t\t}\n\t\treturn output;\n\t}\n\n\n\treturn(\n\t\t<View style={{width: \"100%\", height: \"100%\", flex: 1}}>\n\t\t\t<BaseNoPaddingTemplate header={header} route={props?.route} >\n\t\t\t\t<BasePadding>\n\t\t\t\t\t<AnimationPriceGroup />\n\t\t\t\t</BasePadding>\n\t\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t\t{renderDebug()}\n\t\t\t\t\t{renderPriceGroupOptions()}\n\t\t\t\t</View>\n\t\t\t</BaseNoPaddingTemplate>\n\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon, Navigation} from \"../../../kitcheningredients\";\nimport {Button, Text, Tooltip, View} from \"native-base\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {CanteenIcon} from \"../../components/canteen/CanteenIcon\";\nimport {MarkingIcon} from \"../marking/MarkingIcon\";\nimport {FoodOfferList} from \"../../screens/food/FoodOfferList\";\nimport {SettingMarking} from \"../../screens/settings/SettingMarking\";\nimport {SettingCanteen} from \"../../screens/settings/SettingCanteen\";\nimport {FoodList} from \"../../screens/food/FoodList\";\nimport {SimpleDatePicker} from \"../datePicker/SimpleDatePicker\";\nimport {SwitchIcon} from \"../icons/SwitchIcon\";\nimport {useDemoMode, useSynchedSettingsFoods} from \"../../helper/synchedJSONState\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {HeaderWithActions} from \"../../../kitcheningredients\";\nimport {ProfileAPI, useSynchedProfile} from \"../profile/ProfileAPI\";\nimport {PriceGroupIcon} from \"../icons/PriceGroupIcon\";\nimport {SettingPriceGroup} from \"../../screens/settings/SettingPriceGroup\";\nimport {UtilizationForecast} from \"../canteen/utilizationForecast/UtilizationForecast\";\n\nexport interface AppState{\n\tcanteenid?: number,\n\tdate?: any,\n\troute: any\n}\nexport const FoodOfferListHeader: FunctionComponent<AppState> = (props) => {\n\n\tconst [foodSettings, setFoodSettings] = useSynchedSettingsFoods()\n\n\tconst [demo, setDemo] = useDemoMode();\n\n\tconst utilization_forecast_enabled = foodSettings?.utilization_forecast_enabled; // TODO: Implement Feature forecast\n\n\tconst translationDay = useAppTranslation(\"day\");\n\tconst translationSearch = useAppTranslation(\"search\");\n\tconst translationFoods = useAppTranslation(\"foods\");\n\tconst translationSearchFoods = translationSearch + \": \" + translationFoods;\n\tconst translationSettingMarking = useAppTranslation(\"settingmarking\");\n\tconst translationSettingCanteen = useAppTranslation(\"settingcanteen\");\n\tconst translationSettingPriceGroup = useAppTranslation(\"price_group\");\n\n\tconst [profile, setProfile] = useSynchedProfile();\n\tlet locale = ProfileAPI.getLocaleForJSDates(profile);\n\n\tlet paramcanteenId = props?.canteenid;\n\tif(demo){\n\t\tparamcanteenId = 1;\n\t}\n\tlet paramDate = props?.date;\n\n\tfunction changeDate(nextDate){\n\t\tlet formattedDate = DateHelper.formatToOfferDate(nextDate);\n\t\tNavigation.navigateTo(FoodOfferList, {canteenid: paramcanteenId, date: formattedDate})\n//\t\tNavigatorHelper.navigateWithoutParams(FoodOfferList, false, {canteenid: paramcanteenId, date: formattedDate})\n\t}\n\n\tfunction renderSwitchDate(forward: boolean){\n\t\tlet nextDate = new Date(paramDate);\n\t\tlet skipAmountDays = forward? 1 : -1;\n\t\tnextDate = DateHelper.addDays(nextDate, skipAmountDays)\n\n\t\treturn <SwitchIcon accessibilityName={translationDay} forward={forward} onPress={() => {\n\t\t\tchangeDate(nextDate)\n\t\t}} />\n\t}\n\n\tfunction getTitleString(){\n\t\tif(!!paramDate){\n\t\t\tlet asDate = new Date(paramDate);\n\t\t\treturn DateHelper.useSmartReadableDate(asDate, locale);\n\t\t}\n\t\treturn null; //Render null to let more space for icons and buttons\n\t}\n\n\tfunction renderSelectedDate(){\n\n\t\tconst formatedSelectedDate = DateHelper.formatOfferDateToReadable(paramDate)\n\n\t\treturn (\n\t\t\t<SimpleDatePicker currentDate={paramDate} onSelectDate={(nextDate) => {\n\t\t\t\t//console.log(\"On Select next Date In Header\");\n\t\t\t\t//console.log(nextDate);\n\t\t\t\tchangeDate(nextDate);\n\t\t\t}}>\n\t\t\t\t<View style={{flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\"}}>\n\t\t\t\t\t<Icon name={\"calendar-month-outline\"} />\n\t\t\t\t\t<Text>{formatedSelectedDate}</Text>\n\t\t\t\t</View>\n\t\t\t</SimpleDatePicker>\n\n\t\t)\n\t}\n\n\tfunction renderActions(){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<Tooltip label={translationSearchFoods}>\n\t\t\t\t\t<Button style={{backgroundColor: \"transparent\"}}\n\t\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\t\tNavigation.navigateTo(FoodList, {showbackbutton: true})\n//\t\t\t\t\t\t\t\tNavigatorHelper.navigateWithoutParams(FoodList, false, {showbackbutton: true});\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<Icon name={\"magnify\"} accessibilityLabel={translationSearchFoods} />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip label={translationSettingMarking}>\n\t\t\t\t\t<Button style={{backgroundColor: \"transparent\"}} accessibilityLabel={translationSettingMarking} onPress={() => {\n\t\t\t\t\t\tNavigation.navigateTo(SettingMarking, {showbackbutton: true})\n//\t\t\t\t\t\tNavigatorHelper.navigateWithoutParams(SettingMarking, false, {showbackbutton: true});\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<MarkingIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip label={translationSettingCanteen}>\n\t\t\t\t\t<Button style={{backgroundColor: \"transparent\"}} onPress={() => {\n\t\t\t\t\t\tNavigation.navigateTo(SettingCanteen, {showbackbutton: true})\n//\t\t\t\t\t\tNavigatorHelper.navigateWithoutParams(SettingCanteen, false, {showbackbutton: true});\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<CanteenIcon accessibilityLabel={translationSettingCanteen} />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip label={translationSettingPriceGroup}>\n\t\t\t\t\t<Button style={{backgroundColor: \"transparent\"}} onPress={() => {\n\t\t\t\t\t\tNavigation.navigateTo(SettingPriceGroup, {showbackbutton: true})\n//\t\t\t\t\t\tNavigatorHelper.navigateWithoutParams(SettingCanteen, false, {showbackbutton: true});\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<PriceGroupIcon accessibilityLabel={translationSettingPriceGroup} />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t</>\n\t\t)\n\t}\n\n\tfunction renderCustomBottom(){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<View style={{flex: 1}}>\n\t\t\t\t\t<View style={{flex: 1}}>\n\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{justifyContent: \"center\", alignItems: \"center\", flexDirection: \"row\"}}>\n\t\t\t\t\t\t{renderSwitchDate(false)}\n\t\t\t\t\t\t{renderSelectedDate()}\n\t\t\t\t\t\t{renderSwitchDate(true)}\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{flex: 1}}>\n\n\t\t\t\t\t</View>\n\n\t\t\t\t</View>\n\t\t\t</>\n\t\t)\n\t}\n\n\treturn(\n\t\t<HeaderWithActions route={props?.route} title={getTitleString()} renderActions={renderActions} renderCustomBottom={renderCustomBottom} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {ViewPercentageBorderradius} from \"../../../helper/ViewPercentageBorderradius\";\nimport {ColorHelper} from \"../../../helper/ColorHelper\";\n\nconst paddingLeft = 5;\n\n/**\n * RushMinutes can show the user how full the canteen is probably\n */\nexport const UtilizationForecastBar: FunctionComponent = (props) => {\n\n    let width = props?.width;\n    let height = props?.height\n    let bgColor = props?.bgColor;\n    let textInside = props?.textInside;\n    let textBelow = props?.textBelow;\n    let isActive = props?.isActive\n\n    let bgContrast = ColorHelper.useContrastColor(bgColor);\n\n    isActive = true;\n    let borderColor = isActive ? bgContrast : \"transparent\";\n\n    let textStyle = bgColor ? {color: bgContrast} : undefined\n\n    return(\n\n        <View style={{alignItems: \"center\", paddingRight: 0, paddingLeft: paddingLeft}}\n        >\n            <ViewPercentageBorderradius\n                style={{\n                    width: width,\n                    height: height,\n                    borderRadius: \"20%\",\n                    borderWidth: 2,\n                    borderColor: borderColor,\n                    backgroundColor: bgColor,\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                }}\n            >\n                <View style={{width: \"100%\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    flex: 1\n                }}>\n                    <Text style={textStyle}>{textInside}</Text>\n                </View>\n            </ViewPercentageBorderradius>\n            <Text style={textStyle}>{textBelow}</Text>\n        </View>\n    )\n}\n","import React, {FunctionComponent, useRef, useState} from \"react\";\nimport {ScrollView, TouchableOpacity} from \"react-native\";\nimport {Text, View} from \"native-base\";\nimport {Icon, TranslationKeys} from \"../../../../kitcheningredients\";\nimport {UtilizationForecastBar} from \"./UtilizationForecastBar\";\nimport {useAppTranslation} from \"../../translations/AppTranslation\";\n\nconst paddingLeft = 5;\n\nconst maxCharacters = 1024;\nconst minCharacters = 16;\n\n/**\n * RushMinutes can show the user how full the canteen is probably\n */\nexport const UtilizationForecastRow: FunctionComponent = (props) => {\n\n    let rushMinutes_openedFrom= useAppTranslation(TranslationKeys.rushMinutes_openedFrom);\n    let rushMinutes_closedAfter = useAppTranslation(TranslationKeys.rushMinutes_closedAfter);\n\n    const myScrollViewRef = useRef(null);\n\n    const translation_rusMinutes = \"Rush-Minutes\"\n    const translation_time = \"Uhrzeit\"\n\n\n    let utilization = props?.utilization;\n    let date = props?.date;\n\n    let [showDetails, setShowDetails] = useState(false)\n    let [feedback, setFeedback] = useState(\"\")\n\n    function getColorForTraffic(traffic) {\n        let maxValue = 100;\n        let lowest = (0)*maxValue;\n        let medium = (3.0/6.0)*maxValue;\n        let max = (5.0/6.0)*maxValue;\n\n        let colors = {\n            [lowest]: \"#93c34b\",\n            [medium]: \"#FFD500\",\n            [max]: \"#F5A13C\"\n        };\n\n        let colorsWithCorrectKeys = {};\n        for(let key in colors){\n            let parsedKey = parseInt(key+\"\");\n            colorsWithCorrectKeys[parsedKey] = colors[key];\n        }\n\n        // @ts-ignore\n        let colorBorders = Object.keys(colorsWithCorrectKeys).sort((a, b) => a - b);\n        let lastColor = colors[colorBorders[0]];\n        for (let i = 0; i < colorBorders.length; i++) {\n            let border = colorBorders[i];\n            if (traffic >= parseInt(border)) {\n                lastColor = colorsWithCorrectKeys[border];\n            }\n        }\n        return lastColor;\n    }\n\n    function getActiveIndex(now, utilization){\n        let activeIndex = -1;\n\n        let nowHour = now.getHours();\n        let nowMinute = now.getMinutes();\n\n        let populartimes = utilization;\n\n        let keys = Object.keys(populartimes);\n\n        let compareTime: Date = null;\n        let diffInMinutes: null | number = null;\n\n        for (let i = 0; i < keys.length; i++) { //search in all for the maximum value\n            let populartime = populartimes[keys[i]];\n\n            const time = populartime.start || \"\";\n            const timeParts = time.split(\":\");\n            let HH = timeParts[0];\n            let mm = timeParts[1];\n\n            let nextCompareTime = new Date(now);\n            nextCompareTime.setHours(parseInt(HH), parseInt(mm), 0, 0);\n            if(!!compareTime){\n                // @ts-ignore\n                diffInMinutes = (nextCompareTime - compareTime) / 1000 / 60;\n            }\n            compareTime = nextCompareTime;\n            if(now>=compareTime){\n                activeIndex = i;\n            }\n        }\n\n        if(diffInMinutes !== null && !!compareTime){\n            let nextCompareTime = new Date(compareTime);\n            nextCompareTime.setMinutes(nextCompareTime.getMinutes() + diffInMinutes);\n            if(now>=nextCompareTime){\n                activeIndex = populartimes.length;\n            }\n        }\n\n        return activeIndex;\n    }\n\n    function scrollToElement(indexOf) {\n        let amountInfront = 3;\n\n        let totalItemWidth = getItemWidth()+paddingLeft;\n        let offset = 0.5*totalItemWidth;\n        let x = 0;\n\n        let keys = getTimeKeys();\n\n        if(indexOf===-1){\n            indexOf = -1;\n        } else {\n            if(indexOf>=keys.length){\n                indexOf = keys.length;\n            } else {\n                if(indexOf > (amountInfront-1)){\n                    indexOf-=(amountInfront-1);\n                } else {\n                    indexOf = 0;\n                }\n            }\n            let preItems = getClosedBarWidth()+paddingLeft;\n            let itemXPosition = preItems+(indexOf*totalItemWidth);\n            x = x+itemXPosition-offset; // we want to show half of the previous item\n        }\n\n        if(!isNaN(x) && !!myScrollViewRef && !!myScrollViewRef?.current){\n            myScrollViewRef.current.scrollTo({ x: x, y: 0, animated: true });\n        }\n    }\n\n    function getNow(){\n        let now = new Date();\n        //now = new Date(\"2023-12-01T11:00:00.000Z\"); //TODO remove\n        return now;\n    }\n\n    function getItemWidth(){\n        return 40\n    }\n\n    function getClosedBarWidth(){\n        return 6*getItemWidth();\n    }\n\n    function renderClosedBar(first, isActive, lastTime){\n        let text = \"\";\n        if(first){\n            text = rushMinutes_openedFrom\n        } else {\n            text = rushMinutes_closedAfter\n        }\n\n        let firstRenderedText = (\n            text+\" \"+lastTime\n        )\n\n        let textBelowPlaceholder = null;\n        if(showDetails){\n            textBelowPlaceholder = (\n                \" \"\n            );\n        }\n\n        //let borderColor = active ? this.fontStyles.normal.color : \"transparent\"; // TODO:\n\n        return renderBar(getItemWidth(), getClosedBarWidth(), \"transparent\", undefined, textBelowPlaceholder, firstRenderedText, isActive);\n    }\n\n    function getTimeKeys(){\n        let keys = Object.keys(utilization);\n        return keys;\n    }\n\n    /**\n     * Render Rush Minutes\n     * @returns {Array}\n     */\n    function renderPopularTimeCols(topPosition) {\n        if (!utilization) {\n            return <Text>{\"\"}</Text>;\n        }\n\n        let now = getNow();\n\n        let activeIndex = getActiveIndex(now, utilization);\n\n        let keys = getTimeKeys();\n\n        let width = getItemWidth();\n\n        let cols = [];\n\n        let lastTime = null;\n        for (let i = 0; i < keys.length; i++) { //for all rush minutes\n            let populartime = utilization[keys[i]];\n            let value = populartime.traffic;\n\n            let height = getItemWidth();\n            if(showDetails){\n                height = (height * 5) * (value / 100);\n            }\n\n            const time = populartime.start || \"\";\n            const timeParts = time.split(\":\");\n            let HH = timeParts[0];\n            let mm = timeParts[1];\n\n            const timeEnd = populartime.end || \"\";\n            const timeEndParts = timeEnd.split(\":\");\n            let HH_end = timeEndParts[0];\n            let mm_end = timeEndParts[1];\n            lastTime = \"\" + HH_end + \":\" + mm_end;\n\n            if(i === 0){\n                let openingTime = \"\" + HH + \":\" + mm\n                const isActive = activeIndex === -1;\n                cols.push(renderClosedBar(true, isActive, openingTime));\n            }\n\n            const isFullHour = parseInt(mm) === 0;\n\n            let text = \"\";\n            let renderedText = null;\n            let renderedTextInside = \"\";\n            if(showDetails){\n                text = isFullHour ? HH : \"  \";\n                renderedText = (\n                    <Text>{text}</Text>\n                );\n            } else {\n                renderedTextInside = isFullHour ? HH : \"  \";\n            }\n\n            //let bgColor = popularTimeHour === nowHour ? \"#FFD500\" : \"#ffffff\";\n            let bgColor = getColorForTraffic(value);\n\n            const isActive = i === activeIndex;\n            cols.push(\n                renderBar(height, width, bgColor, bgColor, renderedText, renderedTextInside, isActive)\n            );\n        }\n\n        let placeHolderRenderedText = showDetails ? (\" \") : null;\n        //add empty item to fill the rest of the space\n\n        const isActive = activeIndex === keys.length;\n        if(keys.length > 0){\n            cols.push(renderClosedBar(false, isActive, lastTime));\n        }\n        cols.push(renderBar(getItemWidth(), getItemWidth(), \"transparent\", \"transparent\", placeHolderRenderedText, undefined, false));\n\n        let scrollViewContent = (\n            <View style={{alignItems: \"flex-end\", flexGrow: 1, flexDirection: \"row\"}} onPress={() => {\n                setShowDetails(!showDetails)\n            }} >\n                {cols}\n            </View>\n        )\n\n\n        return (\n            <View style={{flexGrow: 1, flexDirection: \"row\"}}>\n                <ScrollView\n                    ref={myScrollViewRef} onLayout={(event) => {\n                        if(!!myScrollViewRef){\n                            setTimeout(() => {\n                                let now = getNow();\n                                let activeIndex = getActiveIndex(now, utilization);\n                                scrollToElement(activeIndex);\n                            }, 500);\n                        }\n                    }}\n                    contentContainerStyle={{alignItems: \"flex-end\" /* No use of flex: 1 or width: \"100%\" not working on android*/}} horizontal={true} style={{flex: 1}}>\n                    {scrollViewContent}\n                </ScrollView>\n            </View>\n        );\n    }\n\n    function renderBar(height, width, borderColor, bgColor, textBelow, textInside?, isActive){\n        return <UtilizationForecastBar height={height} width={width} borderColor={borderColor} bgColor={bgColor} textInside={textInside} textBelow={textBelow} isActive={isActive} />\n    }\n\n    const paddingTop = 5;\n    const paddingHorizontal = 10;\n\n    return (\n        <View style={{width: \"100%\", paddingBottom: 0}}>\n            <View style={{flexDirection: \"row\"}}>\n                <View style={{flex: 1, paddingTop: paddingTop}}>\n                    {renderPopularTimeCols(false)}\n                </View>\n                <View>\n                    <TouchableOpacity style={{}} onPress={() => {\n                        setShowDetails(!showDetails);\n                    }} >\n                        <View style={{paddingHorizontal: paddingHorizontal, paddingTop: paddingTop}}>\n                            <Icon\n                                name={showDetails ? \"chevron-up\" : \"chevron-down\"}\n                            />\n                        </View>\n                    </TouchableOpacity>\n                </View>\n            </View>\n        </View>\n    );\n}\n","import React, {FunctionComponent} from \"react\";\nimport {View, Text} from \"native-base\";\nimport {\n\tuseDebugMode,\n\tuseDemoMode,\n\tuseSynchedSettingsFoods,\n\tuseSynchedSettingsUtilizations\n} from \"../../../helper/synchedJSONState\";\nimport {UtilizationForecastRow} from \"./UtilizationForecastRow\";\nimport {DateHelper} from \"../../../helper/DateHelper\";\n\nexport const UtilizationForecast: FunctionComponent = (props) => {\n\n\tlet paramcanteenId = props?.canteenid;\n\tlet paramDate = props?.date;\n\n\tconst [utilizationSettings, setUtilizationSettings] = useSynchedSettingsUtilizations();\n\tconst visible = utilizationSettings?.[\"enabled\"]\n\tconst [debug, setDebug] = useDebugMode()\n\tconst [demo, setDemo] = useDemoMode();\n\n\n\tlet utilization = {}\n\n\tif(demo){\n\t\tutilization = getDemoUtilization()\n\t} else {\n\t\t// TODO: Implement correct download of forecast data\n\t}\n\n\tfunction getDemoUtilization() {\n\t\tlet utilization = {};\n\n\t\tlet startTime = new Date(2020, 0, 1, 10, 0, 0); // Jan 1, 2020, 10:00 AM\n\t\tlet endTime = new Date(2020, 0, 1, 17, 0, 0); // Jan 1, 2020, 5:00 PM\n\n\t\tfor (let i = 0; startTime < endTime; i++) {\n\t\t\tlet currentStart = new Date(startTime.getTime());\n\t\t\tstartTime.setMinutes(startTime.getMinutes() + 15)\n\t\t\tlet currentEnd = new Date(startTime.getTime());\n\n\t\t\tlet traffic;\n\t\t\tswitch (i % 3) {\n\t\t\t\tcase 0:\n\t\t\t\t\ttraffic = 20;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\ttraffic = 50;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\ttraffic = 90;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tDateHelper.formatDateToHHMM(currentStart)\n\n\t\t\tlet key = DateHelper.formatDateToHHMM(currentStart);\n\t\t\tutilization[key] = {\n\t\t\t\tstart: DateHelper.formatDateToHHMM(currentStart),\n\t\t\t\tend: DateHelper.formatDateToHHMM(currentEnd),\n\t\t\t\ttraffic: traffic\n\t\t\t};\n\t\t}\n\n\t\treturn utilization;\n\t}\n\n\n\tif(!visible && !demo){\n\t\treturn null;\n\t} else {\n\t\treturn(\n\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t<UtilizationForecastRow utilization={utilization} />\n\t\t\t</View>\n\t\t)\n\t}\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {FoodLoader} from \"../../components/food/FoodLoader\";\nimport {FoodOfferListComponent} from \"../../components/food/FoodOfferListComponent\";\nimport {BaseNoPaddingTemplate, Navigation, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {View} from \"native-base\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {FoodOfferListHeader} from \"../../components/food/FoodOfferListHeader\";\nimport {useSynchedProfile, useSynchedProfileCanteen} from \"../../components/profile/ProfileAPI\";\nimport {useDemoMode} from \"../../helper/synchedJSONState\";\nimport {UtilizationForecast} from \"../../components/canteen/utilizationForecast/UtilizationForecast\";\n\nexport const FoodOfferList: FunctionComponent = (props) => {\n\n\tlet params = props?.route?.params;\n\tlet paramcanteenId = params?.canteenid;\n\tlet paramDate = params?.date;\n\tconst [canteenId, setProfileCanteenId] = useSynchedProfileCanteen();\n\tconst [demo, setDemo] = useDemoMode();\n\n\t//console.log(\"FoodOfferList: canteenId: \" + canteenId);\n\n\tconst [foodoffers, setFoodOffers] = useState(undefined);\n\n\tfunction checkParams(){\n\t\tif((paramcanteenId === undefined+\"\" || !paramcanteenId) && (paramDate===undefined+\"\" || !paramDate)){\n\t\t\t//console.log(\"FoodOfferList: canteenId and date not set\");\n\t\t\tlet formatedDate = DateHelper.formatToOfferDate(new Date());\n\t\t\tNavigation.navigateTo(FoodOfferList, {canteenid: 1, date: formatedDate})\n//\t\t\tNavigatorHelper.navigateWithoutParams(FoodOfferList, false, {canteenid: 1, date: formatedDate})\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tasync function load(){\n\t\t//console.log(\"FoodOfferList: load\");\n\t\tif(checkParams()){\n\t\t\t//console.log(\"FoodOfferList: load: checkParams true\");\n\t\t\tconst date = new Date(paramDate);\n\t\t\tlet newFoodOffers = await FoodLoader.getFoodOffers(date, canteenId);\n\t\t\tif(demo){\n\t\t\t\tconst demofoodoffers = FoodLoader.getDemoFoodOffers();\n\t\t\t\tnewFoodOffers = demofoodoffers;\n\t\t\t}\n\t\t\tsetFoodOffers(newFoodOffers);\n\t\t}\n\t}\n\n\tfunction onUpload(){\n\t\tload();\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t\tload()\n\t}, [props?.route?.params])\n\n\tif(!checkParams()){\n\t\treturn null;\n\t}\n\n\treturn(\n\t\t<View style={{width: \"100%\", height: \"100%\", flex: 1}}>\n\t\t\t<BaseNoPaddingTemplate header={\n\t\t\t\t<>\n\t\t\t\t\t<FoodOfferListHeader date={paramDate} canteenid={paramcanteenId} route={props?.route} />\n\t\t\t\t</>\n\t\t\t} route={props?.route} >\n\t\t\t\t<UtilizationForecast date={paramDate} canteenid={paramcanteenId} />\n\t\t\t\t<FoodOfferListComponent key={JSON.stringify(foodoffers)} foodoffers={foodoffers} onUpload={onUpload} />\n\t\t\t</BaseNoPaddingTemplate>\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent, useState} from \"react\";\nimport {Layout, useSynchedJSONState} from \"../../../kitcheningredients\";\nimport {SettingsRow, SettingsRowProps} from \"./SettingsRow\";\nimport {Switch, View, Text} from \"native-base\";\nimport {ViewPixelRatio} from \"../../helper/ViewPixelRatio\";\nimport {PlatformHelper} from \"../../helper/PlatformHelper\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {useDebugMode} from \"../../helper/synchedJSONState\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\ninterface AppState {\n    value: boolean,\n    accessibilityLabel: string,\n    onPress?: any,\n}\nexport const SettingsRowBooleanSwitch: FunctionComponent<AppState & SettingsRowProps> = ({accessibilityLabel,...props}) => {\n\n    const [debug, setDebug] = useDebugMode()\n\n    const [isCheckedRaw, setIsChecked] = useState(props?.value)\n    const isChecked = isCheckedRaw===true\n\n    const translationSwitch = useAppTranslation(\"switch\");\n    const accessibilityLabelWithFunction = accessibilityLabel ? accessibilityLabel+\": \"+translationSwitch : translationSwitch\n\n    let smallDevice = Layout.usesSmallDevice();\n    let size = smallDevice ? \"md\" : \"lg\"\n\n    function onPress(){\n        const nextValue = !isChecked;\n        if(nextValue){\n            setIsChecked(true);\n        } else {\n            setIsChecked(null);\n        }\n        if(!!props.onPress){\n            props.onPress(nextValue);\n        }\n    }\n\n    let debugContent = null;\n    if(debug){\n        debugContent = <View><Text>{JSON.stringify(isChecked)}</Text></View>\n    }\n\n    let rightContent = (\n        <ViewPixelRatio style={{paddingRight: 10}}>\n            {debugContent}\n            <Switch\n                accessibilityRole={AccessibilityRoles.switch}\n                    size={size}\n                    onTrackColor={props?.onTrackColor}\n                    isChecked={isChecked}\n                    onToggle={() => {\n                        if(PlatformHelper.isWeb()){\n                            //do nothing since, the touchable opacity overlays it on web\n                        } else {\n                            onPress();\n                        }\n                    }}  />\n        </ViewPixelRatio>\n    )\n\n    return(\n        <SettingsRow accessibilityState={{checked: isChecked}} accessibilityLabel={accessibilityLabelWithFunction} accessibilityRole={AccessibilityRoles.switch} {...props} rightIcon={rightContent} onPress={onPress} />\n    )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {useColorMode} from \"native-base\";\nimport {Ionicons} from \"@expo/vector-icons\";\nimport {Icon, RequiredStorageKeys, useSynchedJSONState, useSynchedState} from \"../../../kitcheningredients\";\nimport {AppTranslation, useAppTranslation} from \"../translations/AppTranslation\";\nimport {SettingsRowBooleanSwitch} from \"./SettingsRowBooleanSwitch\";\n\nexport const SettingsRowThemeSwitch: FunctionComponent = (props) => {\n\n    let storageKey = RequiredStorageKeys.CACHED_THEME;\n    const [value, setValue] = useSynchedState(storageKey);\n    const { colorMode, toggleColorMode } = useColorMode();\n\n    const isLightTheme = colorMode === \"light\";\n    let nextTheme = isLightTheme ? \"dark\" : \"light\";\n\n    const translationTheme = useAppTranslation(\"theme\");\n    const translationLight = useAppTranslation(\"light\");\n    const translationDark = useAppTranslation(\"dark\");\n    const accessibilityLabel = translationTheme + \" \" + (isLightTheme ? translationLight : translationDark);\n\n    let isLight = colorMode===\"light\"\n    let icon = isLight ? \"sunny\" : \"moon\";\n    let color = isLight ? '#FFF7ED' : '#0F172A';\n    let iconColor = isLight ? '#FB923C' : '#F1F5F9';\n\n    let isChecked = !isLight\n\n    function handlePress(){\n        setValue(nextTheme)\n        toggleColorMode();\n    }\n\n    const leftIcon = <Icon name={icon} as={Ionicons} color={iconColor} />\n\n    return(\n        <SettingsRowBooleanSwitch accessibilityLabel={accessibilityLabel} color={color} leftIcon={leftIcon} leftContent={<AppTranslation id={\"theme\"} />} onPress={handlePress} value={isChecked} />\n    )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {View, Text} from \"native-base\";\nimport {Icon, MyThemedBox, ServerAPI} from \"../../../kitcheningredients\";\nimport {UserItem} from \"@directus/sdk\";\n\ninterface AppState {\n    user: UserItem,\n    own: boolean\n}\nexport const UsersAvatar: FunctionComponent<AppState> = (props) => {\n\n    const user = props?.user;\n    //console.log(\"user: \", user);\n\n  return (\n      <View style={{justifyContent: \"center\", alignItems: \"center\", width: 24, height: 24}}>\n          <Icon\n              name={\"account-circle\"}\n          />\n      </View>\n  );\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Layout, useSynchedJSONState} from \"../../../kitcheningredients\";\nimport {SettingsRow, SettingsRowProps} from \"./SettingsRow\";\nimport {Switch} from \"native-base\";\nimport {ViewPixelRatio} from \"../../helper/ViewPixelRatio\";\nimport {PlatformHelper} from \"../../helper/PlatformHelper\";\nimport {SettingsRowBooleanSwitch} from \"./SettingsRowBooleanSwitch\";\n\ninterface AppState {\n    variable: string,\n    onPress?: any,\n}\nexport const SettingsRowSynchedBooleanSwitch: FunctionComponent<AppState & SettingsRowProps> = (props) => {\n\n    const [isCheckedRaw, setIsChecked] = useSynchedJSONState(props?.variable);\n    const isChecked = isCheckedRaw===true\n\n    function onPress(nextValue){\n        if(nextValue){\n            setIsChecked(true);\n        } else {\n            setIsChecked(false);\n        }\n        if(!!props.onPress){\n            props.onPress(nextValue);\n        }\n    }\n\n    return(\n        <SettingsRowBooleanSwitch {...props} value={isChecked} onPress={onPress} />\n    )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useRef, useState} from \"react\";\nimport {ConfigHolder, Icon, MyActionsheet, MyThemedBox, ServerAPI} from \"../../../kitcheningredients\";\nimport {ProfileAPI, useSynchedProfile} from \"../../components/profile/ProfileAPI\";\n\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {useSynchedDirectusLanguage} from \"../../helper/synchedJSONState\";\nimport {ScrollView, View, Text} from \"native-base\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {StringHelper} from \"../../helper/StringHelper\";\nimport {useProfileLanguageCode} from \"../translations/DirectusTranslationUseFunction\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\ninterface AppState {\n    onChange?: (value: string) => void;\n    shadeLevel?: number\n}\nexport const SettingsProfileLanguageComponent: FunctionComponent<AppState> = (props) => {\n\n    const actionsheet = MyActionsheet.useActionsheet();\n    const [profile, setProfile] = useSynchedProfile();\n    const [directusLanguages, setDirectusLanguages] = useSynchedDirectusLanguage();\n    const profilesLanguageCode = useProfileLanguageCode()\n    const languageTitle = useAppTranslation(\"language\");\n    const translationEdit = useAppTranslation(\"edit\");\n    const translationSelect = useAppTranslation(\"select\");\n\n    const languageOptions = {}\n\n    const languageCodeToName = {}\n    if(!!directusLanguages){\n        for(let directusLanguage of directusLanguages){\n            languageCodeToName[directusLanguage?.code] = directusLanguage?.name\n        }\n    }\n\n    if(!!directusLanguages){\n        for(let directusLanguage of directusLanguages){\n            languageOptions[directusLanguage?.code] = {\n                label: directusLanguage?.name+\" (\"+directusLanguage?.code+\")\",\n            }\n        }\n    }\n\n    let profilesLanguageName = null;\n    if(!!languageCodeToName[profilesLanguageCode]){\n        profilesLanguageName = languageCodeToName[profilesLanguageCode];\n    }\n    let profileSelectedLanguageName = profilesLanguageName || profilesLanguageCode;\n\n    function onSelectLanguage(language){\n        profile[ProfileAPI.getLanguageFieldName()] = language;\n        setProfile(profile);\n        ConfigHolder.instance.reload()\n    }\n\n  return (\n          <SettingsRow\n              accessibilityRole={AccessibilityRoles.adjustable}\n              shadeLevel={props?.shadeLevel}\n              accessibilityLabel={translationEdit+\": \"+languageTitle + \" \" + profileSelectedLanguageName}\n              onPress={() => {\n              actionsheet.show({\n                  title: StringHelper.capitalizeFirstLetter(translationSelect)+\": \"+languageTitle,\n                  onOptionSelect: onSelectLanguage,\n              }, languageOptions);\n          }} leftContent={languageTitle} rightContent={profileSelectedLanguageName} leftIcon={<Icon name={\"translate\"}  />} />\n  )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {SettingsRowNavigator} from \"./SettingsRowNavigator\";\nimport {SettingMarking} from \"../../screens/settings/SettingMarking\";\nimport {MarkingIcon} from \"../marking/MarkingIcon\";\n\nexport const SettingsRowMarking: FunctionComponent = (props) => {\n\n    const translation = useAppTranslation(\"settingmarking\")\n\n    return <SettingsRowNavigator accessibilityLabel={translation} destinationComponent={SettingMarking} leftContent={translation} leftIcon={<MarkingIcon />} />\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {SettingsRowNavigator} from \"./SettingsRowNavigator\";\nimport {SettingCanteen} from \"../../screens/settings/SettingCanteen\";\nimport {CanteenIcon} from \"../canteen/CanteenIcon\";\nimport {useSynchedCanteen, useSynchedCanteensDict} from \"../../helper/synchedJSONState\";\nimport {useSynchedProfileCanteen} from \"../profile/ProfileAPI\";\n\nexport const SettingsRowCanteen: FunctionComponent = (props) => {\n\n    const translation = useAppTranslation(\"settingcanteen\")\n    const [profileCanteenId, setProfileCanteenId] = useSynchedProfileCanteen();\n    const resource = useSynchedCanteen(profileCanteenId);\n    const canteen = resource;\n    const label = canteen?.label;\n\n    return <SettingsRowNavigator rightContent={label} accessibilityLabel={translation+\": \"+label} destinationComponent={SettingCanteen} leftContent={translation} leftIcon={<CanteenIcon />} />\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const DemoIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"presentation\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","// @ts-nocheck\nimport React from \"react\";\nimport {useJSONState, useSynchedSettingsCourseTimetable} from \"../../helper/synchedJSONState\";\nimport {ProfileAPI, useSynchedProfile} from \"../profile/ProfileAPI\";\nimport {StorageKeys} from \"../../helper/synchedVariables/StorageKeys\";\nimport {Weekday} from \"../../helper/DateHelper\";\n\nexport function getCourseTimetableVisiblity(): boolean{\n    const [settingsCourseTimetable, setSettingsCourseTimetable] = useSynchedSettingsCourseTimetable()\n    return settingsCourseTimetable?.[\"enabled\"];\n}\n\nexport function useCourseTimetableEvents(): any[]{\n    const [profile, setProfile] = useSynchedProfile();\n    let courseTimetable = profile[ProfileAPI.getCourseTimetableFieldName()] || {};\n\n    const setCourseTimetable = async (value) => {\n        profile[ProfileAPI.getCourseTimetableFieldName()] = value;\n        let success = await setProfile(profile);\n        return success;\n    }\n    const addNewCourseTimetableEvent = async (event) => {\n        if(!event){\n            return false;\n        }\n        // find the next free id\n        let id = 1;\n        while(courseTimetable[id]){\n            // id is already taken\n            id++;\n        }\n        event.id = id;\n        courseTimetable[id] = event;\n        let success = await setCourseTimetable(courseTimetable);\n        return success;\n    }\n    return [courseTimetable, setCourseTimetable, addNewCourseTimetableEvent];\n}\n\nexport function usePersonalCourseTimetableSettings(): any[]{\n    const [jsonState, setJsonState] = useJSONState(StorageKeys.CACHED_PERSONAL_SETTINGS_COURSE_TIMETABLE);\n    const reset = async () => {\n        setJsonState({});\n    }\n    return [jsonState, setJsonState, reset];\n}\n\nexport function usePersonalCourseTimetableFirstDayOfWeek(): [Weekday, (value: Weekday) => void]{\n    const [jsonState, setJsonState] = usePersonalCourseTimetableSettings();\n    const field = \"firstDayOfWeek\";\n    const firstDayOfWeek = jsonState?.[field] || Weekday.MONDAY;\n    const setFirstDayOfWeek = (value: Weekday) => {\n        jsonState[field] = value;\n        setJsonState(jsonState);\n    }\n    return [firstDayOfWeek, setFirstDayOfWeek];\n}\n\nexport function usePersonalCourseTimetableTime(start: boolean): [string, (value: string) => void]{\n    const [jsonState, setJsonState] = usePersonalCourseTimetableSettings();\n    const field = start ? \"timetableStartTime\" : \"timetableEndTime\";\n    const defaultValue = start ? \"08:00\" : \"20:00\";\n    const time = jsonState?.[field] || defaultValue;\n    const setCourseTimetableTime = async (value: Weekday) => {\n        jsonState[field] = value;\n        return await setJsonState(jsonState);\n    }\n    return [time, setCourseTimetableTime];\n}\n\nexport function usePersonalCourseTimetableAmountDaysOnScreen(): [number, (value: number) => void]{\n    const [jsonState, setJsonState] = usePersonalCourseTimetableSettings();\n    const field = \"amountDaysOnScreen\";\n    const defaultValue = undefined;\n    const amountDaysOnScreen = jsonState?.[field] || defaultValue;\n    const setAmountDaysOnScreen = async (value: number) => {\n        jsonState[field] = value;\n        if(value <= 0){\n            delete jsonState[field];\n        }\n        return await setJsonState(jsonState);\n    }\n    const asNumber = parseInt(amountDaysOnScreen) || 0;\n    return [asNumber, setAmountDaysOnScreen];\n}\n\nexport function usePersonalCourseTimetableTitleIntelligent(): [boolean, (value: boolean) => void]{\n    const [jsonState, setJsonState] = usePersonalCourseTimetableSettings();\n    const field = \"titleIntelligent\";\n    const defaultValue = true;\n    const fieldValue = jsonState?.[field];\n    const titleIntelligent = fieldValue!==undefined ? fieldValue : defaultValue;\n    const setTitleIntelligent = async (value: boolean) => {\n        jsonState[field] = value;\n        return await setJsonState(jsonState);\n    }\n    return [titleIntelligent, setTitleIntelligent];\n}\n\nexport function useTimetableViewMode(): [Weekday, (value: Weekday) => void]{\n    const [jsonState, setJsonState] = usePersonalCourseTimetableSettings();\n    const field = \"firstDayOfWeek\";\n    const firstDayOfWeek = jsonState?.[field] || Weekday.MONDAY;\n    const setFirstDayOfWeek = (value: Weekday) => {\n        jsonState[field] = value;\n        setJsonState(jsonState);\n    }\n    return [firstDayOfWeek, setFirstDayOfWeek];\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {Text} from \"native-base\";\nimport {useBackgroundColor} from \"../../../kitcheningredients\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\n\nexport const useSettingTranslationCourseTimetable = () => {\n    const translationsSettings = useAppTranslation(\"settings\")\n    const translationsCourseTimetable = useAppTranslation(\"screenNameCourseTimetable\")\n    return translationsCourseTimetable+\" \"+translationsSettings\n}\n\nexport const SettingTranslationCourseTimetable: FunctionComponent<AppTranslationProps> = (props) => {\n    const translation = useSettingTranslationCourseTimetable()\n\n    const dynamicBackgroundColor = useBackgroundColor()\n    const contrastColor = ColorHelper.useContrastColor(props?.backgroundColor || dynamicBackgroundColor);\n    let dynamicColor = props?.color || contrastColor;\n\n    return <Text color={dynamicColor}>{translation}</Text>\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\nimport {Ionicons} from \"@expo/vector-icons\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n    color?: string\n    size?: string,\n    accessibilityLabel?: string,\n}\nexport const CourseTimetableIcon: FunctionComponent<AppState> = (props) => {\n\n  return (\n      <Icon name={\"timetable\"} color={props.color} accessibilityLabel={props?.accessibilityLabel} />\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {Icon, MyActionsheet} from \"../../../kitcheningredients\";\nimport {DateHelper, Weekday} from \"../../helper/DateHelper\";\nimport {SettingsRow} from \"./SettingsRow\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {DirectusTranslationHelper} from \"../translations/DirectusTranslationHelper\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\ninterface AppState {\n\tlocale: string,\n\tweekday: Weekday,\n\tdescription: any,\n\tonChange: (newWeekday: Weekday) => void,\n}\nexport const SettingsRowWeekday: FunctionComponent<AppState> = (props) => {\n\n\tconst description = props?.description || \"weekday\";\n\tconst weekday = props?.weekday || Weekday.MONDAY;\n\n\tconst actionsheet = MyActionsheet.useActionsheet();\n\n\tlet translationEdit = useAppTranslation(\"edit\") || \"\";\n\t// capitalise first letter\n\ttranslationEdit = translationEdit.charAt(0).toUpperCase() + translationEdit.slice(1);\n\n\tconst locale = props?.locale || DirectusTranslationHelper.DEFAULT_LANGUAGE_CODE;\n\tconst translatedFirstDayOfWeek = DateHelper.getWeekdayTranslationByWeekday(weekday, locale);\n\tconst weekdayEnumValues = DateHelper.getWeekdayEnumsValues();\n\tconst firstDayOfWeekOptions = {}\n\tfor(let weekdayEnumValue of weekdayEnumValues){\n\t\tfirstDayOfWeekOptions[weekdayEnumValue] = {\n\t\t\tlabel: DateHelper.getWeekdayTranslationByWeekday(weekdayEnumValue, locale),\n\t\t}\n\t}\n\n\tfunction onSelectFirstDayOfWeek(key){\n\t\tif(props.onChange){\n\t\t\tprops.onChange(key);\n\t\t}\n\t}\n\n\treturn(\n\t\t\t<SettingsRow\n\t\t\t\taccessibilityRole={AccessibilityRoles.adjustable}\n\t\t\t\taccessibilityLabel={translationEdit+\": \"+description}\n\t\t\t\tonPress={() => {\n\t\t\t\ttry{\n\t\t\t\t\tactionsheet.show({\n\t\t\t\t\t\ttitle: description,\n\t\t\t\t\t\tonOptionSelect: onSelectFirstDayOfWeek,\n\t\t\t\t\t}, firstDayOfWeekOptions);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t//console.log(e);\n\t\t\t\t}\n\t\t\t}} leftContent={description} rightContent={translatedFirstDayOfWeek} leftIcon={<Icon name={\"calendar-arrow-right\"}  />} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {useAppTranslation} from \"../../translations/AppTranslation\";\nimport {usePersonalCourseTimetableFirstDayOfWeek} from \"../CourseTimetableHelper\";\nimport {SettingsRowWeekday} from \"../../settings/SettingsRowWeekday\";\nimport {ProfileAPI, useSynchedProfile} from \"../../profile/ProfileAPI\";\n\nexport const SettingCourseTimetableFirstDayOfWeek: FunctionComponent = (props) => {\n\tconst translationFirstDayOfWeek = useAppTranslation(\"firstDayOfWeek\");\n\n\tconst [profile, setProfile] = useSynchedProfile();\n\tconst locale = ProfileAPI.getLocaleForJSDates(profile);\n\tconst [firstDayOfWeek, setFirstDayOfWeek] = usePersonalCourseTimetableFirstDayOfWeek();\n\n\tfunction onSelectFirstDayOfWeek(key){\n\t\tsetFirstDayOfWeek(key);\n\t}\n\n\treturn(\n\t\t\t<SettingsRowWeekday weekday={firstDayOfWeek} onChange={onSelectFirstDayOfWeek} description={translationFirstDayOfWeek} locale={locale} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon, MyActionsheet} from \"../../../../kitcheningredients\";\nimport {AppTranslation, useAppTranslation} from \"../../translations/AppTranslation\";\nimport {useCourseTimetableEvents} from \"../CourseTimetableHelper\";\nimport {SettingsRow} from \"../../settings/SettingsRow\";\n\nexport const SettingCourseTimetableReset: FunctionComponent = (props) => {\n\n\tconst [timetableEvents, setTimetableEvents] = useCourseTimetableEvents()\n\n\tconst actionsheet = MyActionsheet.useActionsheet();\n\n\tconst translationReset = useAppTranslation(\"reset\");\n\tconst translationScreenName = useAppTranslation(\"screenNameCourseTimetable\");\n\tconst rowTitle = translationReset+\": \"+translationScreenName;\n\n\tfunction onReset(){\n\t\tsetTimetableEvents({});\n\t}\n\n\tfunction showConfirmDialog(){\n\t\tactionsheet.show({\n\t\t\ttitle: rowTitle,\n\t\t\tacceptLabel: translationReset,\n\t\t\tcancelLabel: <AppTranslation id={\"cancel\"} />,\n\t\t\tonAccept: () => {\n\t\t\t\tonReset()\n\t\t\t}\n\t\t})\n\t}\n\n\treturn(\n\t\t<SettingsRow leftContent={rowTitle} leftIcon={<Icon name={\"trash-can\"} />} onPress={() => {\n\t\t\tshowConfirmDialog()\n\t\t}} />\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useRef, useState} from \"react\";\nimport {Input, Text, View} from \"native-base\";\nimport {Icon, useThemeTextColor} from \"../../../kitcheningredients\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {ParentSpacer} from \"../../helper/ParentSpacer\";\nimport {MyButton} from \"../buttons/MyButton\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\ninterface AppState {\n    icon?: any;\n    initialValue?: string;\n    description?: string;\n    placeholder?: string;\n    onChange?: (value: string) => boolean;\n    saveText?: string;\n    cancelText?: string;\n}\n\n//TODO use SettingsRowTextEditComponent as base\nexport const SettingsRowTimeEditComponent: FunctionComponent<AppState> = (props) => {\n\n    const textColor = useThemeTextColor();\n    const [editText, setEditText] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const initialValue = props.initialValue || \"\";\n    const description = props.description || \"\";\n    const [textValue, textTextValue] = useState(initialValue);\n    const textInput = useRef(null);\n\n    let translationEdit = useAppTranslation(\"edit\") || \"\";\n    // capitalise first letter\n    translationEdit = translationEdit.charAt(0).toUpperCase() + translationEdit.slice(1);\n\n    //load user with corresponding profile?\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        if(editText){\n            textInput.current.focus()\n        }\n    }, [props?.route?.params, editText])\n\n    function checkAndFormatInput(text){\n        //check if input is valid time format (hh:mm) and format it\n        let time = text.split(\":\");\n        if(time.length == 1){\n            let hours = time[0];\n            if(hours.length > 2){\n                hours = hours.substring(0,2);\n            }\n            text = hours + \":00\";\n        }\n        time = text.split(\":\");\n        if(time.length == 2){\n            //check if hours and minutes are numbers\n            if(!isNaN(time[0]) && !isNaN(time[1])){\n                //check if hours and minutes are in range\n                if(time[0] >= 0 && time[0] <= 23 && time[1] >= 0 && time[1] <= 59){\n                    //format time and add leading zeros\n                    let hours = (\"0\" + time[0]).slice(-2);\n                    let minutes = (\"0\" + time[1]).slice(-2);\n                    return hours + \":\" + minutes;\n                }\n            }\n        }\n        return false;\n    }\n\n    async function handleSave() {\n        //console.log(\"ROW: save\")\n        let formattedTime = checkAndFormatInput(textValue);\n        if(formattedTime){\n            textTextValue(formattedTime);\n            let success = await props.onChange(formattedTime);\n            //console.log(\"ROW: save success: \" + success)\n            if(success) {\n                setEditText(false);\n            }\n        } else {\n            textTextValue(\"00:00\");\n        }\n        setLoading(false);\n    }\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        if(loading){\n            handleSave();\n        }\n    }, [loading])\n\n    function renderContent(){\n        let textPlaceholder = <View style={{flexDirection: \"row\", alignItems: \"center\"}}><Text>{initialValue}</Text></View>;\n        let displayStyle = \"none\";\n        if(editText) {\n            textPlaceholder = null;\n            displayStyle = null;\n        }\n\n        let saveEnabled = textValue.length > 0 && textValue !== initialValue && !loading;\n\n        return(\n            <View style={{width: \"100%\", alignItems: \"flex-end\"}}>\n                {textPlaceholder}\n                <View style={{display: displayStyle, width: \"100%\"}}>\n                    <Input ref={textInput}\n\n                           _input={{ // https://github.com/GeekyAnts/NativeBase/issues/5420\n                               selectionColor: textColor,\n                               placeholderTextColor: textColor,\n                               // @ts-ignore\n                               cursorColor: textColor,\n                           }}\n\n                           placeholder={props?.placeholder} value={textValue} onChangeText={(text) => {textTextValue(text)}}/>\n                    <ParentSpacer space={10} style={{marginTop: 20, width: \"100%\", flex: 1, flexDirection: \"row\", flexWrap: \"wrap\"}}>\n                        <MyButton accessibilityLabel={props?.saveText} disabled={!saveEnabled} onPress={async () => {\n                            if(!!props.onChange){\n                                setLoading(true);\n                            } else {\n                                //TODO: error handling\n                            }\n                        }}\n                            iconName={\"content-save\"}\n                            label={props?.saveText}\n                        >\n                        </MyButton>\n                        <MyButton accessibilityLabel={props?.cancelText} disabled={loading} onPress={() => {\n                                setEditText(false);\n                                textTextValue(initialValue);\n                        }}\n                            iconName={\"cancel\"}\n                                  label={props?.cancelText}\n                        >\n                        </MyButton>\n                    </ParentSpacer>\n                </View>\n            </View>\n        )\n    }\n\n  return (\n          <SettingsRow accessibilityRole={AccessibilityRoles.adjustable} accessibilityLabel={translationEdit+\": \"+description} onPress={editText ? undefined : () => {if(!editText) {setEditText(!editText)}}} leftContent={description} rightContent={renderContent()} leftIcon={props?.icon} />\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const TimeStartIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"clock-start\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const TimeEndIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"clock-end\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {useAppTranslation} from \"../../translations/AppTranslation\";\nimport {usePersonalCourseTimetableTime} from \"../CourseTimetableHelper\";\nimport {SettingsRowTimeEditComponent} from \"../../settings/SettingsRowTimeEditComponent\";\nimport {TimeStartIcon} from \"../../icons/TimeStartIcon\";\nimport {TimeEndIcon} from \"../../icons/TimeEndIcon\";\n\ninterface AppState {\n\tstart: boolean\n}\nexport const SettingCourseTimetableTime: FunctionComponent<AppState> = (props) => {\n\n\tconst start = props?.start || false;\n\n\tconst translationStart = useAppTranslation(\"courseTimetableDayStartTime\");\n\tconst translationEnd = useAppTranslation(\"courseTimetableDayEndTime\");\n\n\tconst translationSave = useAppTranslation(\"save\");\n\tconst translationCancel = useAppTranslation(\"cancel\");\n\n\tconst icon = start ? <TimeStartIcon/> : <TimeEndIcon/>;\n\n\tconst translationTime = start ? translationStart : translationEnd;\n\n\tconst [time, setTime] = usePersonalCourseTimetableTime(start);\n\n\tfunction onChange(newTime: string): boolean{\n\t\tlet hours = parseInt(newTime.split(\":\")[0]);\n\t\tsetTime(hours+\":00\");\n\t\treturn true;\n\t}\n\n\treturn(\n\t\t<SettingsRowTimeEditComponent\n\t\t\ticon={icon}\n\t\t\tdescription={translationTime}\n\t\t\tonChange={onChange}\n\t\t\tinitialValue={time}\n\t\t\tplaceholder={\"HH:00\"}\n\t\t\tsaveText={translationSave}\n\t\t\tcancelText={translationCancel}  />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const SaveIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"content-save\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useRef, useState} from \"react\";\nimport {Input, Text, View} from \"native-base\";\nimport {Icon, useThemeTextColor} from \"../../../kitcheningredients\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {ParentSpacer} from \"../../helper/ParentSpacer\";\nimport {SaveIcon} from \"../icons/SaveIcon\";\nimport {MyButton} from \"../buttons/MyButton\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\ninterface AppState {\n    icon?: any;\n    initialValue?: number;\n    emptyValue?: number;\n    description?: string;\n    placeholder?: string;\n    onChange?: (value: number) => boolean;\n    saveText?: string;\n    cancelText?: string;\n}\nexport const SettingsRowNumberEditComponent: FunctionComponent<AppState> = (props) => {\n\n    const textColor = useThemeTextColor();\n    const [editText, setEditText] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const initialValue = props.initialValue || \"\";\n    const description = props.description || \"\";\n    const [textValue, textTextValue] = useState(initialValue);\n    const textInput = useRef(null);\n    const shownValueInNoEdit = initialValue || props?.emptyValue;\n\n\n    let translationEdit = useAppTranslation(\"edit\") || \"\";\n    // capitalise first letter\n    translationEdit = translationEdit.charAt(0).toUpperCase() + translationEdit.slice(1);\n\n    let accessibilityLabel = translationEdit+\": \"+description+\": \"+shownValueInNoEdit;\n\n    //load user with corresponding profile?\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        if(editText){\n            textInput.current.focus()\n\n        }\n    }, [props?.route?.params, editText])\n\n    async function handleSave() {\n        //console.log(\"ROW: save\")\n        let asNumber = parseFloat(textValue);\n        if(isNaN(asNumber)){\n            asNumber = undefined;\n        }\n\n        let success = await props.onChange(asNumber);\n        //console.log(\"ROW: save success: \" + success)\n        if(success) {\n            setEditText(false);\n            textTextValue(asNumber || \"\")\n        }\n        setLoading(false);\n    }\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        if(loading){\n            handleSave();\n        }\n    }, [loading])\n\n    function renderContent(){\n        let textPlaceholder = <View style={{flexDirection: \"row\", alignItems: \"center\"}}><Text>{shownValueInNoEdit}</Text></View>;\n        let displayStyle = \"none\";\n        if(editText) {\n            textPlaceholder = null;\n            displayStyle = null;\n        }\n\n        let saveEnabled = (textValue.length > 0 || textValue===\"\") && textValue !== initialValue && !loading;\n\n        return(\n            <View style={{width: \"100%\", alignItems: \"flex-end\"}}>\n                {textPlaceholder}\n                <View style={{display: displayStyle, width: \"100%\"}}>\n                    <Input ref={textInput}\n                           keyboardType={\"numeric\"}\n                           //inputMode={\"numeric\"}\n                           _input={{ // https://github.com/GeekyAnts/NativeBase/issues/5420\n                               selectionColor: textColor,\n                               placeholderTextColor: textColor,\n                               // @ts-ignore\n                               cursorColor: textColor,\n                           }}\n\n                           placeholder={props?.placeholder} value={textValue} onChangeText={(text) => {\n                                textTextValue(text);\n                           }} />\n                    <ParentSpacer space={10} style={{marginTop: 20, width: \"100%\", flex: 1, flexDirection: \"row\", flexWrap: \"wrap\"}}>\n                        <MyButton accessibilityLabel={props?.saveText} disabled={!saveEnabled} onPress={async () => {\n                            if(!!props.onChange){\n                                setLoading(true);\n                            } else {\n                                //TODO: error handling\n                            }\n                        }}\n                            renderIcon={(backgroundColor, textColor) => {\n                                return <SaveIcon color={textColor} />\n                            }}\n                            label={props?.saveText}\n                        >\n                        </MyButton>\n                        <MyButton accessibilityLabel={props?.cancelText} disabled={loading} onPress={() => {\n                                setEditText(false);\n                                textTextValue(initialValue);\n                        }}\n                            iconName={\"cancel\"}\n                                  label={props?.cancelText}\n                        >\n                        </MyButton>\n                    </ParentSpacer>\n                </View>\n            </View>\n        )\n    }\n\n  return (\n          <SettingsRow accessibilityRole={AccessibilityRoles.adjustable} accessibilityLabel={accessibilityLabel} onPress={editText ? undefined : () => {if(!editText) {setEditText(!editText)}}} leftContent={description} rightContent={renderContent()} leftIcon={props?.icon} />\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text} from \"native-base\";\nimport {Icon, MyActionsheet} from \"../../../../kitcheningredients\";\nimport {AppTranslation, useAppTranslation} from \"../../translations/AppTranslation\";\nimport {ProfileAPI, useSynchedProfile} from \"../../profile/ProfileAPI\";\nimport {\n\tusePersonalCourseTimetableFirstDayOfWeek,\n\tusePersonalCourseTimetableAmountDaysOnScreen,\n\tusePersonalCourseTimetableTime\n} from \"../CourseTimetableHelper\";\nimport {DateHelper} from \"../../../helper/DateHelper\";\nimport {SettingsRow} from \"../../settings/SettingsRow\";\nimport {SettingsRowTimeEditComponent} from \"../../settings/SettingsRowTimeEditComponent\";\nimport {TimeStartIcon} from \"../../icons/TimeStartIcon\";\nimport {TimeEndIcon} from \"../../icons/TimeEndIcon\";\nimport {SettingsRowNumberEditComponent} from \"../../settings/SettingsRowNumberEditComponent\";\n\ninterface AppState {\n}\nexport const SettingCourseTimetableAmountDaysToShowAtOnce: FunctionComponent<AppState> = (props) => {\n\n\tconst translationDaysPerPage = useAppTranslation(\"daysPerPage\");\n\n\tconst translationIntelligent = useAppTranslation(\"intelligent\");\n\n\tconst translationSave = useAppTranslation(\"save\");\n\tconst translationCancel = useAppTranslation(\"cancel\");\n\n\tconst icon = <Icon name={\"view-week\"} />;\n\n\tconst [amountDaysOnScreen, setAmountDaysOnScreen] = usePersonalCourseTimetableAmountDaysOnScreen();\n\n\tfunction onChange(newAmount: number): boolean{\n\t\tif(newAmount <= 0){\n\t\t\tnewAmount = 0;\n\t\t}\n\t\tif(newAmount > 7){\n\t\t\tnewAmount = 7;\n\t\t}\n\t\tsetAmountDaysOnScreen(newAmount);\n\t\treturn true;\n\t}\n\n\tconst initialValue = amountDaysOnScreen === 0 ? undefined : amountDaysOnScreen;\n\n\treturn(\n\t\t<SettingsRowNumberEditComponent\n\t\t\ticon={icon}\n\t\t\tdescription={translationDaysPerPage}\n\t\t\tonChange={onChange}\n\t\t\temptyValue={translationIntelligent}\n\t\t\tinitialValue={initialValue}\n\t\t\tplaceholder={\"0-7 (0 = \"+translationIntelligent+\")\"}\n\t\t\tsaveText={translationSave}\n\t\t\tcancelText={translationCancel}  />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const TitleIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"tag-text\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {useAppTranslation} from \"../../translations/AppTranslation\";\nimport {\n\tusePersonalCourseTimetableAmountDaysOnScreen,\n\tusePersonalCourseTimetableTitleIntelligent\n} from \"../CourseTimetableHelper\";\nimport {SettingsRowBooleanSwitch} from \"../../settings/SettingsRowBooleanSwitch\";\nimport {TitleIcon} from \"../../icons/TitleIcon\";\n\ninterface AppState {\n}\nexport const SettingCourseTimetableIntelligentTitle: FunctionComponent<AppState> = (props) => {\n\n\tconst translationTitle = useAppTranslation(\"title\");\n\tconst translationIntelligent = useAppTranslation(\"intelligent\");\n\n\tconst [titleIntelligent, setTitleIntelligent] = usePersonalCourseTimetableTitleIntelligent();\n\n\tconst content = translationTitle + \": \" + translationIntelligent;\n\n\tfunction onPress(nextValue){\n\t\tsetTitleIntelligent(nextValue);\n\t}\n\n\treturn(\n\t\t<SettingsRowBooleanSwitch key={\"state:\"+titleIntelligent} onPress={onPress} accessibilityLabel={content} value={titleIntelligent} leftContent={content} leftIcon={<TitleIcon />} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {AppTranslation, useAppTranslation} from \"../../translations/AppTranslation\";\nimport {\n\tuseCourseTimetableEvents,\n\tusePersonalCourseTimetableAmountDaysOnScreen, usePersonalCourseTimetableSettings,\n\tusePersonalCourseTimetableTitleIntelligent\n} from \"../CourseTimetableHelper\";\nimport {SettingsRowBooleanSwitch} from \"../../settings/SettingsRowBooleanSwitch\";\nimport {TitleIcon} from \"../../icons/TitleIcon\";\nimport {Icon, MyActionsheet} from \"../../../../kitcheningredients\";\nimport {SettingsRow} from \"../../settings/SettingsRow\";\n\ninterface AppState {\n}\nexport const SettingCourseTimetableResetSettings: FunctionComponent<AppState> = (props) => {\n\n\tconst [timetableSettings, setTimetableSettings] = usePersonalCourseTimetableSettings()\n\n\tconst actionsheet = MyActionsheet.useActionsheet();\n\n\tconst translationReset = useAppTranslation(\"reset\");\n\tconst translationScreenName = useAppTranslation(\"settings\");\n\tconst rowTitle = translationReset+\": \"+translationScreenName;\n\n\tfunction onReset(){\n\t\tsetTimetableSettings({});\n\t}\n\n\tfunction showConfirmDialog(){\n\t\tactionsheet.show({\n\t\t\ttitle: rowTitle,\n\t\t\tacceptLabel: translationReset,\n\t\t\tcancelLabel: <AppTranslation id={\"cancel\"} />,\n\t\t\tonAccept: () => {\n\t\t\t\tonReset()\n\t\t\t}\n\t\t})\n\t}\n\n\treturn(\n\t\t<SettingsRow leftContent={rowTitle} leftIcon={<Icon name={\"trash-can\"} />} onPress={() => {\n\t\t\tshowConfirmDialog()\n\t\t}} />\n\t)\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {View} from \"native-base\";\nimport {SettingCourseTimetableFirstDayOfWeek} from \"../../components/courseTimetable/settings/SettingCourseTimetableFirstDayOfWeek\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\nimport {SettingCourseTimetableReset} from \"../../components/courseTimetable/settings/SettingCourseTimetableReset\";\nimport {SettingCourseTimetableTime} from \"../../components/courseTimetable/settings/SettingCourseTimetableTime\";\nimport {SettingCourseTimetableAmountDaysToShowAtOnce} from \"../../components/courseTimetable/settings/SettingCourseTimetableAmountDaysToShowAtOnce\";\nimport {SettingCourseTimetableIntelligentTitle} from \"../../components/courseTimetable/settings/SettingCourseTimetableIntelligentTitle\";\nimport {SettingCourseTimetableResetSettings} from \"../../components/courseTimetable/settings/SettingCourseTimetableResetSettings\";\n\nexport const SettingCourseTimetable: FunctionComponent = (props) => {\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props?.route?.params])\n\n\treturn(\n\t\t<View style={{width: \"100%\"}}>\n\t\t\t<SettingCourseTimetableFirstDayOfWeek />\n\t\t\t<SettingCourseTimetableTime start={true} />\n\t\t\t<SettingCourseTimetableTime start={false} />\n\t\t\t<SettingCourseTimetableAmountDaysToShowAtOnce />\n\t\t\t<SettingCourseTimetableIntelligentTitle />\n\t\t\t<SettingsSpacer />\n\t\t\t<SettingCourseTimetableResetSettings />\n\t\t\t<SettingsSpacer />\n\t\t\t<SettingCourseTimetableReset />\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {getCourseTimetableVisiblity} from \"./CourseTimetableHelper\";\nimport {useSettingTranslationCourseTimetable} from \"./SettingTranslationCourseTimetable\";\nimport {SettingsRowNavigator} from \"../settings/SettingsRowNavigator\";\nimport {CourseTimetableIcon} from \"./CourseTimetableIcon\";\nimport {SettingCourseTimetable} from \"../../screens/settings/SettingCourseTimetable\";\n\nexport const SettingsRowCourseTimetable: FunctionComponent = (props) => {\n\n    const courseTimetableVisiblity = getCourseTimetableVisiblity();\n    const translation = useSettingTranslationCourseTimetable()\n\n    if(!courseTimetableVisiblity){\n        return null;\n    } else {\n        return <SettingsRowNavigator accessibilityLabel={translation} destinationComponent={SettingCourseTimetable} leftContent={translation} leftIcon={<CourseTimetableIcon />} />\n    }\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useRef, useState} from \"react\";\nimport {Input, Text, View} from \"native-base\";\nimport {Icon, useThemeTextColor} from \"../../../kitcheningredients\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {ParentSpacer} from \"../../helper/ParentSpacer\";\nimport {SaveIcon} from \"../icons/SaveIcon\";\nimport {MyButton} from \"../buttons/MyButton\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\ninterface AppState {\n    icon?: any;\n    initialValue?: string;\n    description?: string;\n    placeholder?: string;\n    onChange?: (value: string) => boolean;\n    saveText?: string;\n    cancelText?: string;\n}\nexport const SettingsRowTextEditComponent: FunctionComponent<AppState> = (props) => {\n\n    const textColor = useThemeTextColor();\n    const [editText, setEditText] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const initialValue = props.initialValue || \"\";\n    const description = props.description || \"\";\n    const [textValue, textTextValue] = useState(initialValue);\n    const textInput = useRef(null);\n    let translationEdit = useAppTranslation(\"edit\") || \"\";\n    // capitalise first letter\n    translationEdit = translationEdit.charAt(0).toUpperCase() + translationEdit.slice(1);\n\n    //load user with corresponding profile?\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        if(editText){\n            if(textInput.current){\n                textInput.current.focus()\n            }\n        }\n    }, [props?.route?.params, editText])\n\n    async function handleSave() {\n        //console.log(\"ROW: save\")\n        let success = await props.onChange(textValue);\n        //console.log(\"ROW: save success: \" + success)\n        if(success) {\n            setEditText(false);\n        }\n        setLoading(false);\n    }\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        if(loading){\n            handleSave();\n        }\n    }, [loading])\n\n    function renderEditActions(){\n        let saveEnabled = textValue.length > 0 && textValue !== initialValue && !loading;\n        return(\n            <View style={{width: \"100%\"}}>\n                <Input ref={textInput}\n\n                       _input={{ // https://github.com/GeekyAnts/NativeBase/issues/5420\n                           selectionColor: textColor,\n                           // @ts-ignore\n                           cursorColor: textColor,\n                       }}\n\n                       placeholder={props?.placeholder} value={textValue} onChangeText={(text) => {textTextValue(text)}}/>\n                <ParentSpacer space={10} style={{marginTop: 20, width: \"100%\", flex: 1, flexDirection: \"row\", flexWrap: \"wrap\"}}>\n                    <View style={{flex: 1}}>\n                        <MyButton\n                            renderIcon={(backgroundColor, textColor) => {\n                                return <SaveIcon color={textColor} />\n                            }}\n                            accessibilityLabel={props?.saveText} disabled={!saveEnabled} onPress={async () => {\n                            if(!!props.onChange){\n                                setLoading(true);\n                            } else {\n                                //TODO: error handling\n                            }\n                        }}\n                            label={props?.saveText}\n                        >\n                        </MyButton>\n                    </View>\n                    <View style={{flex: 1}}>\n                        <MyButton iconName={\"cancel\"} accessibilityLabel={props?.cancelText} disabled={loading} onPress={() => {\n                            setEditText(false);\n                            textTextValue(initialValue);\n                        }}\n                            label={props?.cancelText}\n                        >\n                        </MyButton>\n                    </View>\n                </ParentSpacer>\n            </View>\n        )\n    }\n\n    function renderContent(){\n        let textPlaceholder = <View style={{flexDirection: \"row\", alignItems: \"center\"}}><Text>{initialValue}</Text></View>;\n        if(editText) {\n            textPlaceholder = null;\n        }\n\n        return(\n            <View style={{width: \"100%\", alignItems: \"flex-end\"}}>\n                {textPlaceholder}\n            </View>\n        )\n    }\n\n  return (\n      <SettingsRow accessibilityRole={AccessibilityRoles.adjustable} accessibilityLabel={translationEdit+\": \"+description} expanded={editText} onPress={editText ? undefined : () => {if(!editText) {setEditText(!editText)}}} leftContent={description} rightContent={renderContent()} leftIcon={props?.icon} >\n          {renderEditActions()}\n      </SettingsRow>\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const NameIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"tag-text\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useRef, useState} from \"react\";\nimport {useSynchedProfile} from \"../../components/profile/ProfileAPI\";\nimport {AppTranslation, useAppTranslation} from \"../translations/AppTranslation\";\nimport {SettingsRowTextEditComponent} from \"./SettingsRowTextEditComponent\";\nimport {NameIcon} from \"../icons/NameIcon\";\n\ninterface AppState {\n    onChange?: (value: string) => void;\n}\nexport const SettingsUsersNicknameComponent: FunctionComponent<AppState> = (props) => {\n\n    const [profile, setProfile] = useSynchedProfile();\n    const [editNickname, setEditNickname] = useState(false);\n    const [nicknameValue, setNicknameValue] = useState(profile?.nickname || \"\");\n    const textInput = useRef(null);\n\n    let initialValue = profile?.nickname || \"\";\n    const description = useAppTranslation(\"nickname\");\n    const translationSave = useAppTranslation(\"save\");\n    const translationCancel = useAppTranslation(\"cancel\");\n    const icon = <NameIcon />\n\n    async function onChange(text): boolean{\n        profile.nickname = text;\n        let savedNickname = await setProfile(profile);\n        if(savedNickname){\n            if(props?.onChange){\n                props.onChange(text);\n            }\n            return true;\n        }\n        return false;\n    }\n\n    //load user with corresponding profile?\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        if(editNickname){\n            textInput.current.focus()\n        }\n    }, [props?.route?.params, editNickname])\n\n  return (\n          <SettingsRowTextEditComponent\n              saveText={translationSave}\n              cancelText={translationCancel}\n              placeholder={initialValue}\n              initialValue={initialValue}\n              onChange={onChange}\n              description={description}\n              icon={icon}\n          />\n  )\n}\n","// @ts-nocheck\nimport React, { FunctionComponent, useEffect, useState } from \"react\";\nimport { View, Text, useToast, ScrollView, Divider, useClipboard } from \"native-base\";\nimport {ConfigHolder, Icon, ServerAPI} from \"../../../kitcheningredients\";\nimport { useSynchedProfile } from \"../../components/profile/ProfileAPI\";\nimport { Share, TouchableOpacity } from \"react-native\";\nimport { AppTranslation } from \"../../components/translations/AppTranslation\";\nimport { Directus } from \"@directus/sdk\";\nimport {Nutritions} from \"../../components/food/nutritions/Nutritions\";\nimport {NutritionIcon} from \"../../components/food/nutritions/NutritionIcon\";\nimport {MarkingIcon} from \"../../components/marking/MarkingIcon\";\nimport {FoodCard} from \"../../components/food/FoodCard\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\nimport {DetailsComponentMenus} from \"../../components/detailsComponent/DetailsComponentMenus\";\nimport {IdIcon} from \"../../components/icons/IdIcon\"; // Import Directus SDK\n\ninterface AppState {}\n\nexport const ProfileRawInformation: FunctionComponent<AppState> = (props) => {\n    const [profile, setProfile] = useSynchedProfile();\n    const [activityLogs, setActivityLogs] = useState(null); // State to hold activity logs\n\n    let stringifiedProfile = JSON.stringify(profile, null, 2);\n\n    const user_instance = ConfigHolder.instance.getUser();\n    const stringifiedUser = JSON.stringify(user_instance, null, 2);\n\n    const toast = useToast();\n    const clipboard = useClipboard();\n\n    // Initialize Directus SDK\n    const directus = ServerAPI.getClient()\n\n\n    function renderCopyButton( content){\n        return(\n            <TouchableOpacity style={{flex: 1}} onPress={async () => {\n                await clipboard.onCopy(content);\n                toast.show({\n                    description: \"Copied\"\n                });\n            }} >\n                <View style={{padding: 10, backgroundColor: \"orange\", flexDirection: \"row\"}}>\n                    <Icon name={\"content-copy\"} />\n                    <View style={{width: 18}}></View>\n                    <View><AppTranslation id={\"copy\"} /><Text>{\" \"}</Text></View>\n                </View>\n            </TouchableOpacity>\n        )\n    }\n\n    function renderElement(jsonObject){\n        return(\n            <View>\n                {renderCopyButton(jsonObject)}\n                <View style={{width: 30}}></View>\n                <Text>{JSON.stringify(jsonObject, null, 2)}</Text>\n            </View>\n        )\n    }\n\n    const menus = {\n        \"user\": {\n            element: renderElement(user_instance),\n            renderIcon: (backgroundColor, textColor) => { return <IdIcon color={textColor} />},\n            renderContent: (backgroundColor, textColor) => { return <Text color={textColor}>{\"User\"}</Text>},\n        },\n        \"profile\": {\n            element: renderElement(profile),\n            renderIcon: (backgroundColor, textColor) => { return <Icon name={\"face-outline\"} color={textColor} />},\n            renderContent: (backgroundColor, textColor) => { return <Text color={textColor}>{\"Profile\"}</Text>},\n        },\n        \"activity\": {\n            element: renderElement(activityLogs),\n            renderIcon: (backgroundColor, textColor) => { return <Icon name={\"clock\"} color={textColor} />},\n            renderContent: (backgroundColor, textColor) => { return <Text color={textColor}>{\"Activity\"}</Text>},\n        },\n    }\n\n    // Fetch activity logs for the current user\n    const fetchActivityLogs = async () => {\n        try {\n            const logs = await directus.activity.readByQuery({\n                filter: {\n                    user: user_instance.id, // Replace with the ID of the current user\n                },\n                sort: [\"-timestamp\"]\n            });\n            setActivityLogs(logs);\n        } catch (error) {\n            console.error(\"Error fetching activity logs:\", error);\n        }\n    };\n\n    useEffect(() => {\n        fetchActivityLogs(); // Fetch activity logs on component mount\n    }, [props?.route?.params]);\n\n\n    return (\n        <View style={{width: \"100%\"}}>\n                <DetailsComponentMenus menus={menus} />\n        </View>\n    )\n};\n","import React, {FunctionComponent} from \"react\";\nimport {Text, useToast, useClipboard} from \"native-base\";\nimport {TouchableOpacity} from \"react-native\";\nimport {MyClipboard} from \"./MyClipboard\";\n\ninterface AppState {\n    text?: string,\n    style?: any,\n    onPress?: any,\n}\nexport const TextWithClipboard: FunctionComponent<AppState> = (props) => {\n\n    const toast = useToast();\n    const clipboard = useClipboard();\n\n    function renderText(){\n        if(!props.children && !!props?.text){\n            return <Text>{props.text}</Text>\n        }\n    }\n\n    return (\n        <TouchableOpacity style={props?.style || {}} onPress={async () => {\n            let textToCopy = props?.text+\"\";\n            await MyClipboard.copyText(toast, clipboard, textToCopy);\n            if(!!props?.onPress){\n                props.onPress(textToCopy)\n            }\n        }} >\n            {renderText()}\n            {props.children}\n        </TouchableOpacity>\n    )\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {CrossLottie, Layout} from \"../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport notFound from \"../../assets/empty.json\";\nimport {AppTranslation} from \"../translations/AppTranslation\";\nimport {ProjectColoredCrossLottie} from \"./ProjectColoredCrossLottie\";\n\nexport const AnimationEmptyNotingFound = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"100%\",\n\t\tmd: Layout.WIDTH_MD*0.7,\n\t\tlg: Layout.WIDTH_LG*0.6,\n\t\txl: Layout.WIDTH_XL*0.5\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<ProjectColoredCrossLottie source={notFound} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React from \"react\";\nimport {View} from \"native-base\";\nimport {AppTranslation} from \"../translations/AppTranslation\";\nimport {AnimationEmptyNotingFound} from \"./AnimationEmptyNotingFound\";\n\nexport const NoFeedbackFound = ({children,...props}: any) => {\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{height: 30}}></View>\n\t\t\t<AppTranslation id={\"noFeedbacksFound\"} />\n\t\t\t<AnimationEmptyNotingFound />\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Text} from \"native-base\";\nimport {FoodLoader} from \"./FoodLoader\";\nimport {FoodImage} from \"./FoodImage\";\nimport {useFoodName} from \"./FoodName\";\n\nexport type FoodImageByIdProps = {\n\tid: string;\n\thideManipulation?: boolean;\n}\nexport const FoodImageById: FunctionComponent<FoodImageByIdProps> = (props) => {\n\n\tconst [food, setFood] = useState(null);\n\tconst foodName = useFoodName(food);\n\tconst food_id = props?.id;\n\n\tasync function load(){\n\t\tif(!!food_id){\n\t\t\tlet foodDetails = await FoodLoader.loadFoodDetails(food_id);\n\t\t\tsetFood(foodDetails);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tload();\n\t}, [props]);\n\n\treturn (\n\t\t\t<FoodImage alt={foodName} hideManipulation={props?.hideManipulation} food={food} key={JSON.stringify(food)} onUpload={() => {}} />\n\t)\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useRef, useState} from \"react\";\nimport {View, Text} from \"native-base\";\nimport {FoodFeedbackAPI} from \"../../components/food/foodfeedback/FoodFeedbackAPI\";\nimport {FoodFeedbackRow} from \"../../components/food/foodfeedback/FoodFeedbackRow\";\nimport {NoFeedbackFound} from \"../../components/animations/NoFeedbackFound\";\nimport {FoodImageById} from \"../../components/food/FoodImageById\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {FoodFeedbackList} from \"../../components/food/foodfeedback/FoodFeedbackList\";\n\ninterface AppState {\n\n}\nexport const ProfilesFoodFeedbacks: FunctionComponent<AppState> = (props) => {\n\n    const ownFeedbacks = FoodFeedbackAPI.getOwnFeedbacks();\n    const amountOfOwnFeedbacks = ownFeedbacks?.length || 0;\n\n    function renderFeedback(feedback){\n        const foods_id = feedback?.foods_id;\n        const customLeftContent = (\n            <View style={{width: 100}}>\n                <Rectangle style={{flex: 1}}>\n                    <FoodImageById id={foods_id} hideManipulation={true} />\n                </Rectangle>\n            </View>\n        );\n        return(\n            <View style={{flex: 1, flexDirection: \"row\"}}>\n                <FoodFeedbackRow leftContent={customLeftContent} key={feedback.id} feedback={feedback} navigateToFood={true} />\n            </View>\n        )\n    }\n\n    // corresponding componentDidMount\n    useEffect(() => {\n\n    }, [props?.route?.params])\n\n    if(amountOfOwnFeedbacks===0){\n        return(\n            <View style={{width: \"100%\"}}>\n                <NoFeedbackFound />\n            </View>\n        )\n    }\n\n  return (\n      <View style={{width: \"100%\"}}>\n          <FoodFeedbackList feedbacks={ownFeedbacks} customRender={renderFeedback} />\n      </View>\n  )\n}\n","// @ts-nocheck\nimport React from \"react\";\nimport {useSynchedProfile} from \"../../components/profile/ProfileAPI\";\nimport {useSynchedSettingsAccountBalance} from \"../../helper/synchedJSONState\";\n\nexport function getAccountBalanceVisiblity(): boolean{\n    const [accountBalanceSettings, setAccountBalanceSettings] = useSynchedSettingsAccountBalance()\n    return accountBalanceSettings?.[\"enabled\"];\n}\n\nexport function useAccountBalance(): [number, (newBalance: number) => void]{\n    const [profile, setProfile] = useSynchedProfile();\n    const FIELD_CREDIT_BALANCE = \"credit_balance\";\n    let balance = profile?.[FIELD_CREDIT_BALANCE];\n    const setNewBalance = (accountBalance: number) => {\n        profile[FIELD_CREDIT_BALANCE] = accountBalance;\n        setProfile(profile);\n    }\n    return [balance, setNewBalance];\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\nimport {Ionicons} from \"@expo/vector-icons\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n    color?: string\n    size?: string\n}\nexport const AccountBalanceIcon: FunctionComponent<AppState> = (props) => {\n\n  return (\n      <Icon name={\"card\"} as={Ionicons} color={props.color} />\n  )\n}\n","import React, {useEffect} from \"react\";\nimport {useFocusEffect} from \"@react-navigation/native\";\nimport {PlatformHelper} from \"./PlatformHelper\";\n\n// User has switched away from the tab (AKA tab is hidden)\nconst onBlur = () => {\n\t//console.log(\"Tab is blurred\");\n};\n\nexport function useMyFocusHandler(onFocus, deps) {\n\n\tif(PlatformHelper.isWeb()){\n\t\treturn useEffect(() => {\n\t\t\t\twindow.addEventListener(\"focus\", onFocus);\n\t\t\t\twindow.addEventListener(\"blur\", onBlur);\n\t\t\t\t// Calls onFocus when the window first loads\n\t\t\tonFocus();\n\t\t\t\t// Specify how to clean up after this effect:\n\t\t\t\treturn () => {\n\t\t\t\t\twindow.removeEventListener(\"focus\", onFocus);\n\t\t\t\t\twindow.removeEventListener(\"blur\", onBlur);\n\t\t\t\t};\n\t\t }, deps);\n\t} else {\n\t\treturn useFocusEffect(\n\t\t\tReact.useCallback(() => {\n\t\t\t\treturn () => {\n\t\t\t\t\t\tonFocus()\n\t\t\t\t};\n\t\t\t}, deps)\n\t\t);\n\t}\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {CrossLottie, Layout} from \"../../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport Rectangle from \"../../../helper/Rectangle\";\nimport nfcInstruction from \"../../../assets/accountBalance/nfcInstruction.json\";\n\nexport const NfcInstruction = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"100%\",\n\t\tsm: \"70%\",\n\t\tmd: Layout.WIDTH_MD*0.3,\n\t\tlg: Layout.WIDTH_LG*0.3,\n\t\txl: Layout.WIDTH_XL*0.2\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<CrossLottie source={nfcInstruction} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from \"react\";\nimport {AppTranslation, useAppTranslation} from \"../translations/AppTranslation\";\nimport {useAccountBalance} from \"./AccountBalanceHelper\";\nimport {MyActionsheet} from \"../../../kitcheningredients\";\nimport {ScrollView, useToast, View, Text} from \"native-base\";\nimport {PlatformHelper} from \"../../helper/PlatformHelper\";\nimport NfcManager, {NfcTech} from \"react-native-nfc-manager\";\nimport {Platform, TouchableOpacity} from \"react-native\";\nimport {NfcInstruction} from \"../animations/accountBalance/NfcInstruction\";\nimport {CardReader} from \"react-native-nfc-manager-sw-os\";\nimport {useDebugMode} from \"../../helper/synchedJSONState\";\n\nexport interface AppState{\n    afterPress: () => any\n}\nexport const AccountBalanceReaderTouchable: FunctionComponent<AppState> = (props) => {\n\n    const nfcInstruction = useAppTranslation(\"nfcInstructionRead\");\n    const translationSuccess = useAppTranslation(\"success\");\n    const translationError = useAppTranslation(\"error\");\n\n    let handleCloseModal = () => {}\n\n    const actionsheet = MyActionsheet.useActionsheet();\n    const toast = useToast();\n\n    const [accountBalance, setAccountBalance] = useAccountBalance();\n    const [cardContent, setCardContent] = useState(\"-\");\n    const [debug, setDebug] = useDebugMode()\n\n    function showCardReadInstruction(){\n        handleCloseModal = () => {}; // reset\n        if(PlatformHelper.isAndroid()) {\n            actionsheet.show({\n                renderCustomContent: (onCloseModal) => {\n                    handleCloseModal = onCloseModal;\n                    return (\n                            <View style={{width: \"100%\", justifyContent: \"center\"}}>\n                                <AppTranslation id={\"nfcInstructionRead\"}/>\n                                <NfcInstruction/>\n                            </View>\n                    )\n                }\n            });\n        }\n        if(PlatformHelper.isIOS()) {\n            // iOS does not need an instruction, since it has a native popup\n        }\n    }\n\n    async function startCardReading(){\n        showCardReadInstruction();\n        let reader = new CardReader(NfcManager, NfcTech, Platform);\n        try{\n            console.log(\"DEBUG: start reading card\");\n            let newAnswer = await reader.readCard(nfcInstruction);\n            console.log(\"Answer\");\n            console.log(newAnswer);\n            setCardContent(JSON.stringify(newAnswer, null, 2));\n\n            let newBalance = newAnswer.currentBalance;\n            if(newBalance !== undefined){\n                setAccountBalance(newBalance);\n                toast.show({\n                    description: translationSuccess\n                });\n            } else {\n                toast.show({\n                    description: translationError\n                });\n            }\n        } catch (e) {\n            console.log(e);\n            setCardContent(e.toString());\n            toast.show({\n                description: translationError\n            });\n        }\n        try{\n            //console.log(\"Try to close reader overlay\");\n            if(!!handleCloseModal){\n                handleCloseModal();\n            }\n        } catch (e) {\n            //console.log(e);\n        }\n    }\n\n    function renderDebugContent(){\n        if(debug){\n            return (\n                <View>\n                    <Text>{\"DEBUG CARD CONTENT:\"}</Text>\n                    <Text>{cardContent}</Text>\n                </View>\n            )\n        }\n    }\n\n    return(\n        <TouchableOpacity style={{flex: 1}} onPress={async () => {\n            try{\n                await startCardReading();\n            } catch (e) {\n                //console.log(e);\n            }\n            if(props?.afterPress){\n                await props.afterPress();\n            }\n        }}>\n            {props?.children}\n            {renderDebugContent()}\n        </TouchableOpacity>\n    )\n\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {CrossLottie, Layout} from \"../../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport Rectangle from \"../../../helper/Rectangle\";\nimport moneyConfused from \"../../../assets/accountBalance/moneyConfused.json\";\n\nexport const MoneyConfused = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"40%\",\n\t\tsm: \"30%\",\n\t\tmd: Layout.WIDTH_MD*0.3,\n\t\tlg: Layout.WIDTH_LG*0.3,\n\t\txl: Layout.WIDTH_XL*0.2\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<CrossLottie source={moneyConfused} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {CrossLottie, Layout} from \"../../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport Rectangle from \"../../../helper/Rectangle\";\nimport moneyConfident from \"../../../assets/accountBalance/moneyConfident.json\";\n\nexport const MoneyConfident = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"40%\",\n\t\tsm: \"30%\",\n\t\tmd: Layout.WIDTH_MD*0.3,\n\t\tlg: Layout.WIDTH_LG*0.3,\n\t\txl: Layout.WIDTH_XL*0.2\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<CrossLottie source={moneyConfident} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {CrossLottie, Layout} from \"../../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport Rectangle from \"../../../helper/Rectangle\";\nimport moneyFitness from \"../../../assets/accountBalance/moneyFitness.json\";\n\nexport const MoneyFitness = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"40%\",\n\t\tsm: \"30%\",\n\t\tmd: Layout.WIDTH_MD*0.3,\n\t\tlg: Layout.WIDTH_LG*0.3,\n\t\txl: Layout.WIDTH_XL*0.2\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<CrossLottie source={moneyFitness} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {useEffect, useState} from \"react\";\nimport {CrossLottie, Layout} from \"../../../../kitcheningredients\";\nimport {useBreakpointValue, View, Text} from \"native-base\";\nimport Rectangle from \"../../../helper/Rectangle\";\nimport moneySad from \"../../../assets/accountBalance/moneySad.json\";\n\nexport const MoneySad = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"40%\",\n\t\tsm: \"30%\",\n\t\tmd: Layout.WIDTH_MD*0.3,\n\t\tlg: Layout.WIDTH_LG*0.3,\n\t\txl: Layout.WIDTH_XL*0.2\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<CrossLottie source={moneySad} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {MoneyConfused} from \"../animations/accountBalance/MoneyConfused\";\nimport {MoneyConfident} from \"../animations/accountBalance/MoneyConfident\";\nimport {MoneyFitness} from \"../animations/accountBalance/MoneyFitness\";\nimport {MoneySad} from \"../animations/accountBalance/MoneySad\";\n\nexport interface AppState{\n    balance: number | null | undefined\n}\n\nexport enum BalanceStateLowerBound{\n    CONFIDENT = 10,\n    FITNESS = 3,\n    SAD = 0,\n    CONFUSED = -0.01\n}\n\nexport const AccountBalanceAnimation: FunctionComponent<AppState> = (props) => {\n    const balance = props?.balance;\n\n    if(balance===undefined || balance < 0){\n        return <MoneyConfused />\n    }\n\n    if(balance >= BalanceStateLowerBound.CONFIDENT){\n        return <MoneyConfident />\n    } else if(balance >= BalanceStateLowerBound.FITNESS){\n        return <MoneyFitness />\n    } else if(balance >= BalanceStateLowerBound.SAD){\n        return <MoneySad />\n    }\n\n    return <MoneyConfused />\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\nimport {TouchableOpacity} from \"react-native\";\nimport {ViewPixelRatio} from \"../../helper/ViewPixelRatio\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {Tooltip} from \"native-base\";\nimport {ImageOverlayPaddingStyle} from \"../imageOverlays/ImageOverlay\";\n\nexport interface AppState{\n\tcolor?,\n\taccessibilityLabel?: string // the custom label\n\taccessibilityName?: string // alternative just the thing that next or previous\n}\nexport const SettingsIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"cog\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} accessibilityLabel={props?.accessibilityLabel} />\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Text, useToast, View} from \"native-base\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {useMyContrastColor, useProjectColor, useThemedShade} from \"../../../kitcheningredients\";\nimport {FormatedPriceText} from \"../../components/food/FormatedPriceText\";\nimport NfcManager from 'react-native-nfc-manager';\nimport {TouchableOpacity} from \"react-native\";\nimport {ViewPercentageBorderradius} from \"../../helper/ViewPercentageBorderradius\";\nimport {AccountBalanceIcon} from \"../../components/accountBalance/AccountBalanceIcon\";\nimport {useAccountBalance} from \"../../components/accountBalance/AccountBalanceHelper\";\nimport {SystemActionHelper} from \"../../helper/SystemActionHelper\";\nimport {useMyFocusHandler} from \"../../helper/useMyFocusHandler\";\nimport {PlatformHelper} from \"../../helper/PlatformHelper\";\nimport {useDebugMode, useDemoMode} from \"../../helper/synchedJSONState\";\nimport {AccountBalanceReaderTouchable} from \"../../components/accountBalance/AccountBalanceReaderTouchable\";\nimport {AccountBalanceAnimation, BalanceStateLowerBound} from \"../../components/accountBalance/AccountBalanceAnimation\";\nimport {SettingsIcon} from \"../../components/icons/SettingsIcon\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\nimport {MyButton} from \"../../components/buttons/MyButton\";\nimport {SettingsRowInner} from \"../../components/settings/SettingsRowInner\";\n\ninterface AppState {\n\n}\nexport const AccountBalance: FunctionComponent<AppState> = (props) => {\n\n    const [debug, setDebug] = useDebugMode()\n    const [demo, setDemo] = useDemoMode();\n\n    const projectColor = useProjectColor()\n    const readCardBackgroundColor = projectColor;\n    const textColorButton = useMyContrastColor(readCardBackgroundColor);\n\n    const translationReadNfc = useAppTranslation(\"nfcReadCard\");\n\n    const toast = useToast();\n\n    const [nfcSupported, setNfcSupported] = useState(undefined);\n    const [nfcEnabled, setNfcEnabled] = useState(undefined);\n    let canReadNfc = nfcSupported && nfcEnabled;\n\n    const [cardContent, setCardContent] = useState(undefined)\n\n    const [accountBalance, setAccountBalance] = useAccountBalance();\n    const [displayBalance, setDisplayBalance] = React.useState(accountBalance || 0);\n\n    const [focusCounter, setFocusCounter] = useState(0);\n\n    useEffect(() => {\n        setDisplayBalance(accountBalance)\n    }, [accountBalance])\n\n    const isAndroid = PlatformHelper.isAndroid();\n\n    async function checkNfcSupportAndEnableStatus(){\n        try{\n            if(PlatformHelper.isSmartPhone()){\n                let isSupported = await NfcManager.isSupported();\n                setNfcSupported(isSupported);\n                let isEnabled = await NfcManager.isEnabled();\n                setNfcEnabled(isEnabled);\n            } else {\n                setNfcSupported(false);\n                setNfcEnabled(false);\n            }\n        } catch (e) {\n            //console.log(e);\n        }\n    }\n\n    useMyFocusHandler(() => { // This is called when the tab/app is focused\n        setFocusCounter(focusCounter + 1); // we want to reload the lottie animation\n        checkNfcSupportAndEnableStatus(); // we want to check if the nfc is enabled\n    }, [])\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        checkNfcSupportAndEnableStatus();\n    }, [props?.route?.params])\n\n    function renderNfcStatus(){\n        if(nfcSupported === undefined){\n            return null;\n        }\n        if(nfcSupported === false){\n            return <AppTranslation id={\"nfcNotSupported\"} />\n        }\n        if(nfcEnabled === undefined){\n            return null;\n        }\n        if(nfcEnabled === false){\n            if(isAndroid){\n                return(\n                    <TouchableOpacity style={{flex: 1, width: \"70%\"}} onPress={async () => {\n                        try{\n                            let result = await SystemActionHelper.androidSystemActionHelper.openNFCSettings()\n                            toast.show({\n                                description: JSON.stringify(result)\n                            });\n                            checkNfcSupportAndEnableStatus(); // update status\n                        } catch (e) {\n                            toast.show({\n                                description: JSON.stringify(e)\n                            });\n                        }\n                    }}>\n                        <ViewPercentageBorderradius bg={readCardBackgroundColor} style={{padding: 20 ,flex: 1, width: \"100%\", alignItems: \"center\", justifyContent: \"center\", borderRadius: \"5%\", flexDirection: \"row\"}}>\n                            <SettingsIcon color={textColorButton} /><View style={{margin: 8}} /><AppTranslation color={textColorButton} id={\"nfcNotEnabled\"} />\n                        </ViewPercentageBorderradius>\n                    </TouchableOpacity>\n                )\n            } else {\n                return <AppTranslation id={\"nfcNotEnabled\"} />\n            }\n        }\n        return null;\n    }\n\n    function getNextDemoBalance(displayBalance){\n        //console.log(\"demo mode\");\n        //console.log(BalanceStateLowerBound);\n        // get number keys of BalanceStateLowerBound\n        let keys = Object.keys(BalanceStateLowerBound);\n        // filter keys to only get the numbers\n        let numbers = keys.filter((key) => {\n                return !isNaN(parseFloat(key));\n            }\n        );\n        //console.log(numbers);\n        // get the current index by displayBalance\n        let currentDisplayBalance = displayBalance || 0;\n        let currentIndex = numbers.indexOf(currentDisplayBalance.toString());\n        //console.log(\"currentIndex: \" + currentIndex);\n        if(currentIndex === -1){\n            currentIndex = 0;\n        }\n        // get the next index\n        let nextIndex = currentIndex + 1;\n        if(nextIndex >= numbers.length){\n            nextIndex = 0;\n        }\n        //console.log(\"nextIndex: \" + nextIndex);\n        // get the next balance\n        return numbers[nextIndex];\n    }\n\n    function renderReadCardButton(){\n        let demoText = demo ? <Text color={textColorButton} bold={true}>{\"Demo \"}</Text> : null;\n        let content = (\n            <ViewPercentageBorderradius bg={readCardBackgroundColor} style={{padding: 20, alignItems: \"center\", justifyContent: \"center\", borderRadius: \"5%\", flexDirection: \"row\"}}>\n                <View style={{flexDirection: \"row\"}}>\n                    <View>\n                        <AccountBalanceIcon color={textColorButton} />\n                    </View>\n                    <View style={{margin: 8}} />\n                    <Text><AppTranslation color={textColorButton} id={\"nfcReadCard\"} /></Text>\n                    <Text>{demoText}</Text>\n                </View>\n            </ViewPercentageBorderradius>\n        );\n\n\n        if(demo){\n            return(\n                <TouchableOpacity style={{flex: 1, width: \"70%\"}} onPress={() => {\n                    let nextDemoBalance = getNextDemoBalance(displayBalance);\n                    setDisplayBalance(nextDemoBalance);\n                }}>\n                    {content}\n                </TouchableOpacity>\n            )\n        }\n\n        if(canReadNfc){\n            return (\n                <View style={{flex: 1, width: \"100%\", alignItems: \"center\", justifyContent: \"center\"}}>\n                    <View style={{flex: 1, alignItems: \"center\", justifyContent: \"center\"}}>\n                        <AccountBalanceReaderTouchable>\n                            {content}\n                        </AccountBalanceReaderTouchable>\n                    </View>\n                </View>\n            );\n\n        }\n    }\n\n  return (\n      <View style={{width: \"100%\"}} key={\"\"+focusCounter}>\n          <View style={{width: \"100%\", justifyContent: \"center\", alignItems: \"center\"}}>\n              <AccountBalanceAnimation balance={displayBalance} />\n              <AppTranslation id={\"accountBalance\"} />\n              <Text fontSize={\"4xl\"} ><FormatedPriceText price={displayBalance} /></Text>\n              <SettingsSpacer />\n              {renderNfcStatus()}\n              {renderReadCardButton()}\n          </View>\n      </View>\n  )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {getAccountBalanceVisiblity, useAccountBalance} from \"./AccountBalanceHelper\";\nimport {useFormatedPrice} from \"../food/FormatedPriceText\";\nimport {AccountBalanceIcon} from \"./AccountBalanceIcon\";\nimport {AccountBalance} from \"../../screens/accountBalance/AccountBalance\";\nimport {SettingsRowNavigator} from \"../settings/SettingsRowNavigator\";\n\nexport interface AppState{\n    afterPress: () => any\n}\nexport const SettingsProfileAccountBalanceComponent: FunctionComponent<AppState> = (props) => {\n\n    const accountBalanceVisiblity = getAccountBalanceVisiblity();\n    const [accountBalance, setAccountBalance] = useAccountBalance();\n    const translationAccountBalance = useAppTranslation(\"accountBalance\");\n    const formatedBalance = useFormatedPrice(accountBalance);\n\n    if(!accountBalanceVisiblity){\n        return null;\n    }\n\n    return <SettingsRowNavigator accessibilityLabel={translationAccountBalance} destinationComponent={AccountBalance} leftContent={translationAccountBalance+\": \"+formatedBalance} leftIcon={<AccountBalanceIcon />} />;\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {MyActionsheet} from \"../../../kitcheningredients\";\nimport {ProfileAPI, useSynchedProfile} from \"../../components/profile/ProfileAPI\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {Text} from \"native-base\";\n\ninterface AppState {\n\n}\nexport const ProfileResetRow: FunctionComponent<AppState> = (props) => {\n\n    const [profile, setProfile] = useSynchedProfile();\n    const actionsheet = MyActionsheet.useActionsheet();\n    const translationResetProfile = useAppTranslation(\"resetProfile\");\n\n  return (\n      <SettingsRow accessibilityLabel={translationResetProfile} leftContent={translationResetProfile} leftIcon={\"account-convert\"} rightIcon={null} onPress={() => {\n          actionsheet.show({\n              title: <Text>{translationResetProfile+\"?\"}</Text>,\n              acceptLabel: <AppTranslation id={\"reset\"} />,\n              cancelLabel: <AppTranslation id={\"cancel\"} />,\n              onAccept: async () => {\n                  let newProfile = ProfileAPI.getObjToResetProfile(profile);\n                  setProfile(newProfile);\n              },\n          });\n      }} />\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const DeleteIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"trash-can\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const LoginIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"login\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from \"react\";\nimport {Text, useToast} from \"native-base\";\nimport {ConfigHolder, MyActionsheet, ServerAPI} from \"../../../kitcheningredients\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {DeleteIcon} from \"../../components/icons/DeleteIcon\";\nimport {LoginIcon} from \"../icons/LoginIcon\";\n\ninterface AppState {\n\n}\nexport const ProfileDeleteAccount: FunctionComponent<AppState> = (props) => {\n\n    const actionsheet = MyActionsheet.useActionsheet();\n    const toast = useToast();\n\n    const user_instance = ConfigHolder.instance.getUser()\n    const [displayUser, setDisplayUser] = useState(user_instance);\n\n    const translationDeleteAccount = useAppTranslation(\"deleteAccount\");\n\n    const translationNoAccount = useAppTranslation(\"noAccount\");\n    const translationCreateAnAccount = useAppTranslation(\"createAnAccount\");\n    const loginOrRegister = useAppTranslation(\"loginOrCreate\");\n\n    if(!!displayUser?.id){\n        return(\n            <SettingsRow accessibilityLabel={translationDeleteAccount} leftContent={translationDeleteAccount} leftIcon={<DeleteIcon />} onPress={() => {\n                actionsheet.show({\n                    title: <Text>{translationDeleteAccount+\"?\"}</Text>,\n                    acceptLabel: <AppTranslation id={\"accept\"} />,\n                    cancelLabel: <AppTranslation id={\"cancel\"} />,\n                    onAccept: async () => {\n                        try{\n                            await ServerAPI.getClient().users.deleteOne(displayUser?.id);\n                            ServerAPI.handleLogout();\n                        } catch (err){\n                            toast.show({\n                                description: <AppTranslation id={\"error\"} postfix={\": \"} />\n                            });\n                            toast.show({\n                                description: err.toString()\n                            });\n                        }\n                    }\n                })\n            }} />\n        )\n    } else {\n        return(\n            <SettingsRow accessibilityLabel={translationNoAccount+\": \"+translationCreateAnAccount} leftContent={translationNoAccount+\": \"+translationCreateAnAccount} leftIcon={<LoginIcon />} onPress={() => {\n                actionsheet.show({\n                    title: <Text>{translationCreateAnAccount}</Text>,\n                    acceptLabel: loginOrRegister,\n                    cancelLabel: <AppTranslation id={\"cancel\"} />,\n                    onAccept: async () => {\n                        try{\n                            await ServerAPI.handleLogout();\n                        } catch (err){\n                            toast.show({\n                                description: <AppTranslation id={\"error\"} postfix={\": \"} />\n                            });\n                            toast.show({\n                                description: err.toString()\n                            });\n                        }\n                    }\n                })\n            }} />\n        )\n    }\n    return null;\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {SettingsRowNavigator} from \"./SettingsRowNavigator\";\nimport {ProfileAPI} from \"../profile/ProfileAPI\";\nimport {SettingPriceGroup} from \"../../screens/settings/SettingPriceGroup\";\nimport {PriceGroupIcon} from \"../icons/PriceGroupIcon\";\n\nexport const SettingsRowCanteenPriceGroup: FunctionComponent = (props) => {\n\n    const [priceGroup, setPriceGroup, priceGroups] = ProfileAPI.useSynchedPriceGroup();\n    const title = useAppTranslation(\"price_group\");\n    const translationEdit = useAppTranslation(\"edit\");\n    const priceGroupInformation = priceGroups[priceGroup];\n    const priceGroupTranslation = priceGroupInformation?.label\n\n    return (\n        <SettingsRowNavigator rightContent={priceGroupTranslation} accessibilityLabel={translationEdit+\": \"+title + \" \" + priceGroupTranslation} destinationComponent={SettingPriceGroup} leftContent={title} leftIcon={<PriceGroupIcon />} />\n    )\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useRef, useState} from \"react\";\nimport {View, Text, Input, Button, useToast} from \"native-base\";\nimport {ConfigHolder, Icon, MyThemedBox, ServerAPI} from \"../../../kitcheningredients\";\nimport {ProfileAPI, useSynchedProfile} from \"../../components/profile/ProfileAPI\";\nimport {SettingsRowNavigator} from \"../../components/settings/SettingsRowNavigator\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {SettingsUsersNicknameComponent} from \"../../components/settings/SettingsUsersNicknameComponent\";\nimport {ProfileRawInformation} from \"./ProfileRawInformation\";\nimport {TextWithClipboard} from \"../../helper/TextWithClipboard\";\nimport {MyActionsheet} from \"../../../kitcheningredients\";\nimport {ProfilesFoodFeedbacks} from \"./ProfilesFoodFeedbacks\";\nimport {SettingMarking} from \"../settings/SettingMarking\";\nimport {MarkingIcon} from \"../../components/marking/MarkingIcon\";\nimport {SettingCanteen} from \"../settings/SettingCanteen\";\nimport {CanteenIcon} from \"../../components/canteen/CanteenIcon\";\nimport {SettingsProfileLanguageComponent} from \"../../components/settings/SettingsProfileLanguageComponent\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {SettingsProfileAccountBalanceComponent} from \"../../components/accountBalance/SettingsProfileAccountBalanceComponent\";\nimport {SettingsRowMarking} from \"../../components/settings/SettingsRowMarking\";\nimport {SettingsRowCanteen} from \"../../components/settings/SettingsRowCanteen\";\nimport {DeleteIcon} from \"../../components/icons/DeleteIcon\";\nimport {IdIcon} from \"../../components/icons/IdIcon\";\nimport {ProfileResetRow} from \"../../components/profile/ProfileResetRow\";\nimport {ProfileDeleteAccount} from \"../../components/profile/ProfileDeleteAccount\";\nimport {SettingsRowCanteenPriceGroup} from \"../../components/settings/SettingsRowCanteenPriceGroup\";\nimport {SettingsRowCourseTimetable} from \"../../components/courseTimetable/SettingsRowCourseTimetable\";\n\ninterface AppState {\n\n}\nexport const Profiles: FunctionComponent<AppState> = (props) => {\n\n    const param_profile_id = props?.route?.params?.id;\n    let userInstance = ConfigHolder.instance.getUser();\n    const user_id = userInstance?.id;\n\n    const [profile, setProfile] = useSynchedProfile();\n    const [displayProfile, setDisplayProfile] = useState(profile)\n\n    const translationRole = useAppTranslation(\"role\");\n\n    const user_instance = ConfigHolder.instance.getUser()\n    const [displayUser, setDisplayUser] = useState(user_instance);\n    const [role, setRole] = useState(undefined);\n    const kitchenRole = ConfigHolder.instance.getRole();\n\n    const displayProfileId = displayProfile?.id;\n    const isOwnProfile = displayProfileId === param_profile_id;\n    const profileExistsRemote = !!displayProfileId; //TODO: what if user id exists but not profile id\n\n    async function loadData(){\n        try{\n            let directus = ServerAPI.getClient();\n            let remoteUser = await directus.users.readOne(displayProfileId);\n            setDisplayUser(remoteUser);\n\n            let remoteRole = await ServerAPI.loadRole(remoteUser.role);\n            setRole(remoteRole);\n        } catch (err){\n            //console.log(err);\n        }\n    }\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        loadData();\n    }, [props?.route?.params])\n\n    function renderProfileIdIcon(){\n        return <IdIcon />\n    }\n\n    function renderRoleIcon(){\n        return <Icon name={\"check-decagram\"} />\n    }\n\n    function renderProfileId(){\n        let rightContent = (\n            <TextWithClipboard text={displayProfileId} >\n                <Text>{displayProfileId}</Text>\n            </TextWithClipboard>\n        )\n\n        return (\n            <SettingsRow leftContent={\"ID\"} leftIcon={renderProfileIdIcon()} rightContent={rightContent} />\n        )\n    }\n\n    function renderNickname(){\n        if(profileExistsRemote){\n            return <SettingsUsersNicknameComponent />\n        }\n        return null;\n    }\n\n    function renderProfileSpecific(){\n        if(profileExistsRemote){\n            return(\n                <>\n                    <SettingsRow leftContent={<Text>{\"Avatar\"}</Text>} leftIcon={<Icon name={\"face-outline\"} />} />\n                    {renderProfileId()}\n                    {renderNickname()}\n                </>\n            )\n        } else {\n            return(\n                <>\n                    <SettingsRow leftContent={<AppTranslation id={\"guestAccount\"} />} leftIcon={renderProfileIdIcon()} rightIcon={null} />\n                </>\n            )\n        }\n    }\n\n    function renderResetPassword(){\n        if(!!displayUser?.id){\n            const displayUserProvider = displayUser?.provider;\n            if(displayUserProvider===\"default\"){\n                return(\n                    <SettingsRowNavigator leftContent={\"TODO: Change Password\"} leftIcon={\"key\"} rightIcon={null} />\n                )\n            } else {\n                return(\n                    <SettingsRow leftContent={<><AppTranslation id={\"loggedInWith\"} /><Text>{\": \"+displayUserProvider}</Text></>} leftIcon={\"key\"} rightIcon={null} />\n                )\n            }\n        }\n        return null;\n    }\n\n    function renderRole(){\n        let roleDisplay = displayUser?.role\n        if(!!role){\n            roleDisplay = role?.name;\n        }\n\n        return(\n            <>\n                <SettingsRow leftContent={translationRole} rightContent={roleDisplay} leftIcon={renderRoleIcon()} />\n            </>\n        )\n    }\n\n  return (\n      <View style={{width: \"100%\"}}>\n          {renderProfileSpecific()}\n          <SettingsSpacer />\n          <SettingsProfileLanguageComponent />\n          <SettingsProfileAccountBalanceComponent />\n          <SettingsRowMarking />\n          <SettingsRowCanteen />\n          <SettingsRowCanteenPriceGroup />\n          <SettingsRowNavigator accessibilityLabel={useAppTranslation(\"profilesFoodFeedbacks\")}  destinationComponent={ProfilesFoodFeedbacks} leftContent={<AppTranslation id={\"profilesFoodFeedbacks\"} />} leftIcon={\"star\"} />\n          <SettingsRowCourseTimetable />\n          <SettingsSpacer />\n          {renderResetPassword()}\n          {renderRole()}\n          <SettingsRowNavigator accessibilityLabel={useAppTranslation(\"showAllMyInformations\")} destinationComponent={ProfileRawInformation} leftContent={<AppTranslation id={\"showAllMyInformations\"} />} leftIcon={\"folder-text\"} rightIcon={null} />\n          <SettingsSpacer />\n          <ProfileResetRow />\n          <ProfileDeleteAccount />\n      </View>\n  )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from \"react\";\nimport {ConfigHolder, Icon, MyActionsheet, ServerAPI, TranslationKeys} from \"../../../kitcheningredients\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {AlertDialog, Button, Text} from \"native-base\";\nimport {AppTranslation} from \"../../components/translations/AppTranslation\";\n\ninterface AppState {\n\n}\nexport const SettingsLogoutButton: FunctionComponent<AppState> = (props) => {\n\n    const actionsheet = MyActionsheet.useActionsheet();\n\n    const useTranslation = ConfigHolder.plugin.getUseTranslationFunction();\n    const accessibilityLabel = useTranslation(TranslationKeys.logout);\n    const logout_confirm_message = useTranslation(TranslationKeys.logout_confirm_message);\n\n    return(\n        <>\n            <SettingsRow\n                leftContent={accessibilityLabel}\n                leftIcon={<Icon\n                name={\"logout\"}\n            />} accessibilityRole={\"button\"} accessibilityLabel={accessibilityLabel} {...props} rightIcon={(\n                <Icon name={\"chevron-right\"}  />\n            )} onPress={() => {\n                actionsheet.show({\n                    title: <Text>{logout_confirm_message}</Text>,\n                    acceptIcon: \"home\",\n                    acceptLabel: accessibilityLabel,\n                    cancelLabel: <AppTranslation id={\"cancel\"} />,\n                    onAccept: async () => {\n                        try{\n                            await ServerAPI.handleLogout();\n                        } catch (err){\n                            toast.show({\n                                description: <AppTranslation id={\"error\"} postfix={\": \"} />\n                            });\n                            toast.show({\n                                description: err.toString()\n                            });\n                        }\n                    }\n                })\n            }} />\n        </>\n    )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {Icon, RequiredStorageKeys, useSynchedDrawerConfig} from \"../../../kitcheningredients\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {SettingsRowBooleanSwitch} from \"./SettingsRowBooleanSwitch\";\n\nexport const SettingsRowDrawerPosition: FunctionComponent = (props) => {\n\n    let storageKey = RequiredStorageKeys.CACHED_DRAWER_CONFIG;\n    const [drawerConfig, setDrawerConfig] = useSynchedDrawerConfig(storageKey);\n\n    const isOritentationLeft = drawerConfig?.drawerPosition === \"left\";\n    let nextOrientation = isOritentationLeft ? \"right\" : \"left\";\n\n    const translationOrientation = useAppTranslation(\"handOrientation\");\n    const translationLeft = useAppTranslation(\"left\");\n    const translationRight = useAppTranslation(\"right\");\n    const accessibilityLabel = translationOrientation + \" \" + (isOritentationLeft ? translationLeft : translationRight);\n\n    let icon = isOritentationLeft ? \"arrow-collapse-left\" : \"arrow-collapse-right\";\n\n    let isChecked = !isOritentationLeft\n\n    function handlePress(){\n        drawerConfig.drawerPosition = nextOrientation;\n        setDrawerConfig({...drawerConfig});\n    }\n\n    const leftIcon = <Icon name={icon} />\n\n    return(\n        <SettingsRowBooleanSwitch accessibilityLabel={accessibilityLabel} leftIcon={leftIcon} leftContent={translationOrientation} onPress={handlePress} value={isChecked} />\n    )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const PerformanceIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"speedometer\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect} from \"react\";\nimport {View, Text} from \"native-base\";\nimport {SettingsRowNavigator} from \"../../components/settings/SettingsRowNavigator\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\nimport {SettingsRowThemeSwitch} from \"../../components/settings/SettingsRowThemeSwitch\";\nimport {Users} from \"../user/Users\";\nimport {UsersAvatar} from \"../user/UsersAvatar\";\nimport {BaseNoPaddingTemplate, ConfigHolder, LegalRequiredLinks, Icon} from \"../../../kitcheningredients\";\nimport {SettingsRowSynchedBooleanSwitch} from \"../../components/settings/SettingsRowSynchedBooleanSwitch\";\nimport {SettingsProfileLanguageComponent} from \"../../components/settings/SettingsProfileLanguageComponent\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {StorageKeys} from \"../../helper/synchedVariables/StorageKeys\";\nimport {SettingsRowMarking} from \"../../components/settings/SettingsRowMarking\";\nimport {SettingsRowCanteen} from \"../../components/settings/SettingsRowCanteen\";\nimport {useDebugMode, usePerformanceMode} from \"../../helper/synchedJSONState\";\nimport {DebugIcon} from \"../../components/icons/DebugIcon\";\nimport {DemoIcon} from \"../../components/icons/DemoIcon\";\nimport {SettingsRowCourseTimetable} from \"../../components/courseTimetable/SettingsRowCourseTimetable\";\nimport {Profiles} from \"../user/Profiles\";\nimport {useSynchedProfile} from \"../../components/profile/ProfileAPI\";\nimport {SettingsRowCanteenPriceGroup} from \"../../components/settings/SettingsRowCanteenPriceGroup\";\nimport {SettingsLogoutButton} from \"./SettingsLogoutButton\";\nimport {SettingsRowDrawerPosition} from \"../../components/settings/SettingsRowDrawerPosition\";\nimport {PerformanceIcon} from \"../../components/icons/PerformanceIcon\";\n\ninterface AppState {\n\n}\nexport const Settings: FunctionComponent<AppState> = (props) => {\n\n    let userInstance = ConfigHolder.instance.getUser();\n\n    const [profile, setProfile] = useSynchedProfile();\n    const [debug, setDebug] = useDebugMode();\n\n    const title = useAppTranslation(\"settings\");\n\n    // corresponding componentDidMount\n    useEffect(() => {\n\n    }, [props?.route?.params])\n\n    function renderAccountRow(){\n        if(!!userInstance){\n            return <SettingsRowNavigator accessibilityLabel={useAppTranslation(\"account\")} destinationComponent={Profiles} destinationParams={{id: profile?.id, showbackbutton: true}} leftContent={<AppTranslation id={\"account\"} />} leftIcon={<UsersAvatar />} />\n        }\n        return null;\n    }\n\n    function renderDebugModeSetting(){\n        return(\n            <SettingsRowSynchedBooleanSwitch accessibilityLabel={useAppTranslation(\"debugMode\")} variable={StorageKeys.CACHED_DEBUG_MODE} onPress={(debugMode) => {\n                ConfigHolder.instance.reload()\n            }} leftContent={<AppTranslation id={\"debugMode\"} />} leftIcon={<DebugIcon />} />\n        )\n    }\n\n    function renderDemoModeSetting(){\n        if(debug){\n            return <SettingsRowSynchedBooleanSwitch accessibilityLabel={useAppTranslation(\"demoMode\")} variable={StorageKeys.CACHED_DEMO_MODE} leftContent={<AppTranslation id={\"demoMode\"} />} leftIcon={<DemoIcon />} />\n        }\n    }\n\n    function renderPerformanceSettings(){\n        if(debug) {\n            return <SettingsRowSynchedBooleanSwitch accessibilityLabel={\"Performance Mode\"}\n                                                    variable={StorageKeys.CACHED_LOCAL_PERFORMANCE_MODE}\n                                                    leftContent={\"Performance Mode\"}\n                                                    leftIcon={<PerformanceIcon/>}/>\n        }\n    }\n\n    function renderDebugSettings(){\n        return(\n            <>\n                {renderDebugModeSetting()}\n                {renderDemoModeSetting()}\n                {renderPerformanceSettings()}\n            </>\n        )\n    }\n\n  return (\n      <BaseNoPaddingTemplate title={title}>\n          <View style={{width: \"100%\"}}>\n              {renderAccountRow()}\n              <SettingsSpacer />\n              <SettingsProfileLanguageComponent />\n              <SettingsRowMarking />\n              <SettingsRowCanteen />\n              <SettingsRowCanteenPriceGroup />\n              <SettingsRowCourseTimetable />\n              <SettingsSpacer />\n              <SettingsRowThemeSwitch />\n              <SettingsRowDrawerPosition />\n              <SettingsSpacer />\n              <SettingsLogoutButton />\n              <SettingsSpacer />\n              <SettingsSpacer />\n              {renderDebugSettings()}\n              <SettingsSpacer />\n              <View style={{width: \"100%\", flexDirection: \"row\", flexWrap: \"wrap\", flex: 1, justifyContent: \"center\", alignItems: \"center\"}}>\n                  <LegalRequiredLinks />\n              </View>\n          </View>\n      </BaseNoPaddingTemplate>\n  )\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Navigation, NavigatorHelper, useSynchedState} from \"../../../kitcheningredients\";\nimport {View, Text} from \"native-base\";\nimport {FoodOfferList} from \"../food/FoodOfferList\";\nimport {SynchedStateKeys} from \"../../helper/synchedVariables/SynchedStateKeys\";\nimport {useSynchedProfile} from \"../../components/profile/ProfileAPI\";\nimport {ActivityIndicator} from \"react-native\";\n\nexport const MyHome: FunctionComponent = (props) => {\n\n\tsetTimeout(() => {\n//\t\tNavigation.navigateTo(FoodOfferList, {key: Math.random()});\n\t},1);\n\n\t//NavigatorHelper.navigateWithoutParams(FoodOfferList, true, {});\n\n\treturn(\n\t\t<View style={{width: \"100%\", height: \"100%\", justifyContent: \"center\", alignItems: \"center\"}}>\n\t\t\t<ActivityIndicator size={\"large\"} />\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Wikis} from \"../../directusTypes/types\";\nimport {Text, View} from \"native-base\";\nimport {useDirectusTranslation} from \"../../components/translations/DirectusTranslationUseFunction\";\n\ninterface AppState {\n\twiki?: Wikis,\n}\nexport const WikiMenuContent: FunctionComponent<AppState> = (props) => {\n\t\tconst wiki = props?.wiki;\n\t\tconst translations = wiki?.translations;\n\t\tconst title = useDirectusTranslation(translations, \"title\") || \"Loading\";\n\n\t\treturn (\n\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t<Text fontSize={\"md\"}>{title}</Text>\n\t\t\t</View>\n\t\t);\n}","import {CustomDirectusTypes} from \"../../directusTypes/types\";\nimport {PartialItem, TypeOf} from \"@directus/sdk\";\n\nexport class WikiLoader {\n\n\tstatic getWikisMenuItems(wikiDict): PartialItem<TypeOf<CustomDirectusTypes, any>>[]{\n\t\tlet parents = WikiLoader.getParents(wikiDict);\n\t\tlet wikiMenus = [];\n\t\tfor(let parent of parents){\n\t\t\twikiMenus.push(WikiLoader.replaceChildIdsWithChildren(parent, wikiDict, undefined))\n\t\t}\n\t\treturn wikiMenus;\n\t}\n\n\tstatic replaceChildIdsWithChildren(wiki, wikiDict, loopTracker?){\n\t\tlet childrenIds = wiki?.children || [];\n\t\tif(!loopTracker){\n\t\t\tloopTracker = {};\n\t\t}\n\t\tlet children = [];\n\t\tfor(let child of childrenIds){\n\t\t\t let typeOfChild = typeof child;\n\t\t\t let childId = typeOfChild === \"number\" ? child : child?.id;\n\n\t\t\tif(!loopTracker[childId]){\n\t\t\t\tloopTracker[childId] = true;\n\t\t\t\tlet childWiki = wikiDict[childId];\n\t\t\t\tchildWiki = WikiLoader.replaceChildIdsWithChildren(childWiki, wikiDict, loopTracker);\n\t\t\t\tchildren.push(childWiki);\n\t\t\t}\n\t\t}\n\t\twiki.children = children;\n\t\treturn wiki;\n\t}\n\n\tstatic getParents(wikiDict){\n\t\tlet parents = [];\n\t\tlet wikiIds = Object.keys(wikiDict);\n\t\tfor(let wikiId of wikiIds){\n\t\t\tlet wiki = wikiDict[wikiId];\n\t\t\tif(wiki?.parent === null && !wiki?.hideAsNormalWiki){\n\t\t\t\tparents.push(wiki);\n\t\t\t}\n\t\t}\n\t\treturn parents;\n\t}\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {News} from \"../../directusTypes/types\";\nimport {CollectionImage} from \"../../components/images/CollectionImage\";\nimport {Image} from \"react-native\";\nimport {useDirectusTranslation} from \"../../components/translations/DirectusTranslationUseFunction\";\n\ninterface AppState {\n\tresource: News\n}\nexport const NewsImage: FunctionComponent<AppState> = (props) => {\n\n\tconst resource = props?.resource;\n\n\tconst translations = resource?.translations;\n\tconst title = useDirectusTranslation(translations, \"title\");\n\n\tlet customFallbackComponent = undefined\n\tif(resource?.image_remote_url){\n\t\tlet source={\n\t\t\turi: resource?.image_remote_url,\n\t\t}\n\t\tcustomFallbackComponent = <Image source={source} alt={\"Image: \"+title} style={{width: \"100%\", height: \"100%\"}}/>\n\t}\n\n\n\treturn(\n\t\t<CollectionImage\n\t\t\tcollection={\"news\"}\n\t\t\titem={props?.resource}\n\t\t\titemImageField={\"image\"}\n\t\t\tplacerholder_image_id={undefined}\n\t\t\tplaceholder={undefined}\n\t\t\tonUpload={undefined}\n\t\t\thideManipulation={undefined}\n\t\t\talt={\"Image: \"+title}\n\t\t\tcustomFallbackComponent={customFallbackComponent}\n\t\t>\n\t\t\t{props?.children}\n\t\t</CollectionImage>\n\t)\n\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {BaseNoPaddingTemplate, BasePadding, Layout, Navigation, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {Button, Text, View} from \"native-base\";\nimport {useSynchedNews} from \"../../helper/synchedJSONState\";\nimport {DirectusTranslatedMarkdown} from \"../../components/translations/DirectusTranslatedMarkdown\";\nimport {useDirectusTranslation} from \"../../components/translations/DirectusTranslationUseFunction\";\nimport {ImageFullscreen} from \"../other/ImageFullscreen\";\nimport {NewsImage} from \"./NewsImage\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {DefaultComponentCard} from \"../../components/detailsComponent/DefaultComponentCard\";\nimport {MyButton} from \"../../components/buttons/MyButton\";\nimport {CommonSystemActionHelper} from \"../../helper/SystemActionHelper\";\nimport {ExternalLinksIcon} from \"../../components/icons/ExternalLinkIcon\";\n\nexport const NewsContent: FunctionComponent = (props) => {\n\n\tconst amountOfLines = 3;\n\tconst [news, setNews] = useSynchedNews();\n\n\tlet resource = undefined;\n\tconst news_id = props?.route?.params?.id;\n\tif(!!news_id){\n\t\tresource = news[news_id];\n\t}\n\n\tconst translations = resource?.translations;\n\tconst title = useAppTranslation(\"news\");\n\tconst news_title = useDirectusTranslation(translations, \"title\");\n\n\tconst openURL = useAppTranslation(\"openURL\");\n\tconst noURLFound = useAppTranslation(\"noURLFound\");\n\tconst moreInformations = useAppTranslation(\"moreInformations\");\n\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t}, [props]);\n\n\tfunction renderUrl(){\n\t\tlet url = resource?.url;\n\t\tlet text = !!url ? openURL : noURLFound;\n\n\t\treturn(\n\t\t\t<View>\n\t\t\t\t<Text>{moreInformations+\":\"}</Text>\n\t\t\t\t<MyButton renderIcon={(backgroundColor, textColor) => {\n\t\t\t\t\treturn <ExternalLinksIcon color={textColor} />\n\t\t\t\t}} label={text} accessibilityLabel={text} key={\"url\"} disabled={!url} onPress={() => {\n\t\t\t\t\tCommonSystemActionHelper.openExternalURL(url)\n\t\t\t\t}} >\n\t\t\t\t</MyButton>\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction renderTopPart(){\n\t\treturn(\n\t\t\t<NewsImage resource={resource} />\n\t\t)\n\t}\n\n\tfunction onPress(){\n\t\tlet id = resource?.id;\n\t\tlet assetId = resource?.image;\n\t\tif(!!id && !!assetId){\n\t\t\t//TODO Refactor FoodImageFullscreen into FullscreenImage and pass only the assetId\n\t\t\tNavigation.navigateTo(ImageFullscreen, {id: assetId, showbackbutton: true})\n//\t\t\tNavigatorHelper.navigateWithoutParams(ImageFullscreen, false, {id: assetId, showbackbutton: true});\n\t\t}\n\t}\n\n\tfunction renderName(backgroundColor, textColor){\n\t\treturn <Text color={textColor} selectable={true}>{news_title}</Text>\n\t}\n\n\treturn(\n\t\t<BaseNoPaddingTemplate title={title} route={{params: {showbackbutton: true}}} >\n\t\t\t<View style={{width: \"100%\", paddingTop: Layout.padding}}>\n\t\t\t\t<DefaultComponentCard accessibilityLabel={news_title} small={false} onPressTop={onPress} renderTop={renderTopPart} renderTopForeground={null} renderBottom={renderName} liked={false} disliked={false} />\n\t\t\t\t<BasePadding>\n\t\t\t\t\t<DirectusTranslatedMarkdown item={resource} field={\"content\"} />\n\t\t\t\t\t{renderUrl()}\n\t\t\t\t</BasePadding>\n\t\t\t</View>\n\t\t</BaseNoPaddingTemplate>\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {\n\tKitchenSkeleton,\n\tMyThemedBox,\n} from \"../../../kitcheningredients\";\nimport {View, Text} from \"native-base\";\nimport {TouchableOpacity} from \"react-native\";\nimport {StringHelper} from \"../../helper/StringHelper\";\nimport {ParentDimension} from \"../../helper/ParentDimension\";\nimport {ViewPercentageBorderradius} from \"../../helper/ViewPercentageBorderradius\";\nimport {MyTouchableOpacityForNavigation} from \"../buttons/MyTouchableOpacityForNavigation\";\n\ninterface AppState {\n\ttitle: string,\n\tteaser: string,\n\tbottomText: string,\n\timage: any,\n\tignoreImage?: boolean,\n\tonPress: any,\n\tamountOfLinesTitle: number,\n\tloading: boolean,\n}\nexport const DetailsCardHorizontal: FunctionComponent<AppState> = (props) => {\n\n\tconst [dimension, setDimension] = useState({width: undefined, height: undefined})\n\tlet borderRadius = dimension.width ? Math.round(dimension.width*0.02) : 0;\n\tconst imageHeight = dimension.height ? dimension.height : 0;\n\tconst imageWidth = imageHeight;\n\n\tconst title = props?.title;\n\n\tconst dimensionSet = !!dimension?.height && !!dimension.width\n\n\tconst amountOfLinesTitle = props?.amountOfLinesTitle || 3;\n\n\t/**\n\t <View style={{width: \"100%\", flex: 1}}>\n\t <MyThemedBox key={\"foodcard_bottom\"} _shadeLevel={3}  style={{width: \"100%\", flex: 1, padding: 10}}>\n\t <Text>{\"News ID: \"+resource.id}</Text>\n\t </MyThemedBox>\n\t </View>\n\t */\n\n\tfunction renderImage(){\n\t\tif(props?.ignoreImage){\n\t\t\treturn null;\n\t\t}\n\n\t\treturn(\n\t\t\t<View style={{width: imageWidth, height: imageHeight}}>\n\t\t\t\t{props?.image}\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction renderTitle(){\n\t\tlet amountLinesForTitle = amountOfLinesTitle;\n\n\t\tlet teaserText = props?.teaser;\n\n\t\treturn (\n\t\t\t<View style={{flexDirection: \"row\"}}>\n\t\t\t\t{StringHelper.renderZeroSpaceHeight(amountOfLinesTitle)}\n\t\t\t\t<Text numberOfLines={amountLinesForTitle} selectable={true}><Text bold={true} selectable={true}>{title+\"\\n\"}</Text><Text fontSize={\"sm\"} bold={false} selectable={true}>{teaserText}</Text></Text>\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction renderDate(){\n\t\treturn(\n\t\t\t<View style={{flexDirection: \"row\"}}>\n\t\t\t\t<Text fontSize={\"sm\"} italic={true} selectable={true}>{props?.bottomText}</Text>\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction renderSkeleton(){\n\t\tif(!dimensionSet || props?.loading){\n\t\t\treturn (\n\t\t\t\t<View style={{width: \"100%\", height: \"100%\", position: \"absolute\"}}>\n\t\t\t\t\t<KitchenSkeleton flex={1} />\n\t\t\t\t</View>\n\t\t\t)\n\t\t}\n\t}\n\n\tfunction renderCard(){\n\t\tlet paddingRight = 10;\n\t\tif(!!borderRadius){\n\t\t\tpaddingRight+=borderRadius;\n\t\t}\n\t\treturn(\n\t\t\t<MyThemedBox _shadeLevel={3} style={{width: \"100%\"}}>\n\t\t\t\t<MyTouchableOpacityForNavigation accessibilityLabel={title} style={{flexGrow: 1, flex: 1}} onPress={() => {\n\t\t\t\t\tif(props?.onPress){\n\t\t\t\t\t\tprops?.onPress();\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t\t<View style={{flexDirection: \"row\", width: \"100%\", flex: 1, paddingRight: paddingRight}}>\n\t\t\t\t\t\t{renderImage()}\n\t\t\t\t\t\t<View style={{paddingLeft: 10, flexDirection: \"column\", flexGrow: 1, flex: 1}}>\n\t\t\t\t\t\t\t<View style={{width: \"100%\", flexDirection: \"row\"}}>\n\t\t\t\t\t\t\t\t<View style={{flexGrow: 1, flex: 1}}>\n\t\t\t\t\t\t\t\t\t{renderTitle()}\n\t\t\t\t\t\t\t\t\t{props?.children}\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t<View style={{paddingLeft: 10}}>\n\t\t\t\t\t\t\t\t\t{props?.topRight}\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t<View style={{width: \"100%\", alignItems: \"flex-end\", flex: 1, justifyContent: \"flex-end\"}}>\n\t\t\t\t\t\t\t\t{renderDate()}\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t</MyTouchableOpacityForNavigation>\n\t\t\t\t{renderSkeleton()}\n\t\t\t</MyThemedBox>\n\t\t)\n\t}\n\n\treturn(\n\t\t<View style={{width: \"100%\"}}>\n\t\t\t<ParentDimension setDimension={async (x, y, width, height) => {\n\t\t\t\tsetDimension({\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height\n\t\t\t\t})\n\t\t\t}} >\n\t\t\t\t<ViewPercentageBorderradius style={{borderRadius: \"2%\", width: \"100%\", flex: 1, overflow: \"hidden\"}}>\n\t\t\t\t\t{renderCard()}\n\t\t\t\t</ViewPercentageBorderradius>\n\t\t\t</ParentDimension>\n\t\t</View>\n\t)\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Navigation, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {Text} from \"native-base\";\nimport {useDirectusTranslation} from \"../../components/translations/DirectusTranslationUseFunction\";\nimport {NewsContent} from \"./NewsContent\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {NewsImage} from \"./NewsImage\";\nimport {DetailsCardHorizontal} from \"../../components/detailsComponent/DetailsCardHorizontal\";\nimport {useSynchedNews} from \"../../helper/synchedJSONState\";\n\ninterface AppState {\n\tresource_id: any\n}\nexport const NewsCard: FunctionComponent<AppState> = (props) => {\n\n\tconst [news, setNews] = useSynchedNews();\n\tlet resource = news[props?.resource_id];\n\tconst date_created = resource?.date_created;\n\n\tconst translations = resource?.translations;\n\tconst title = useDirectusTranslation(translations, \"title\");\n\tconst content = useDirectusTranslation(translations, \"content\");\n\n\n\tfunction renderDate(){\n\t\tlet renderedText = DateHelper.formatOfferDateToReadable(date_created, true);\n\t\tif(!renderedText){\n\t\t\trenderedText = \"??.??.????\"\n\t\t}\n\n\t\treturn(\n\t\t\trenderedText\n\t\t)\n\t}\n\n\tconst onPress = () => {\n\t\tNavigation.navigateTo(NewsContent, {id: resource?.id, showbackbutton: true})\n//\t\tNavigatorHelper.navigateWithoutParams(NewsContent, false, {id: resource?.id, showbackbutton: true})\n\t};\n\n\treturn(\n\t\t<DetailsCardHorizontal teaser={content} onPress={onPress} title={title} image={<NewsImage resource={resource} />} bottomText={renderDate()} >\n\n\t\t</DetailsCardHorizontal>\n\t)\n\n}\n","// @ts-nocheck\nimport React from \"react\";\nimport {View} from \"native-base\";\nimport {AppTranslation} from \"../translations/AppTranslation\";\nimport {AnimationEmptyNotingFound} from \"./AnimationEmptyNotingFound\";\n\nexport const AnimationSeemsEmpty = ({children,...props}: any) => {\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{height: 30}}></View>\n\t\t\t<AppTranslation id={\"seemsEmpty\"} />\n\t\t\t<AnimationEmptyNotingFound />\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {View, Text} from \"native-base\";\nimport {useSynchedNews, useSynchedSettingsNews} from \"../../helper/synchedJSONState\";\nimport {NewsCard} from \"./NewsCard\";\nimport {GridList} from \"../../components/GridList\";\nimport {AnimationSeemsEmpty} from \"../../components/animations/AnimationSeemsEmpty\";\nimport {DirectusTranslatedMarkdown} from \"../../components/translations/DirectusTranslatedMarkdown\";\nimport {DefaultComponentCard} from \"../../components/detailsComponent/DefaultComponentCard\";\nimport {useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {MyButton} from \"../../components/buttons/MyButton\";\nimport {ExternalLinksIcon} from \"../../components/icons/ExternalLinkIcon\";\nimport {CommonSystemActionHelper} from \"../../helper/SystemActionHelper\";\n\nconst readMoreUrl = \"http://www.studentenwerk-hannover.de/unternehmen/news\"\n\nexport const NewsList: FunctionComponent = (props) => {\n\n\tconst translationMoreInformation = useAppTranslation(\"moreInformations\");\n\n\tconst [newsSettings, setNewsSettings] = useSynchedSettingsNews();\n\tconst url_show_more = newsSettings?.url_show_more;\n\n\tconst [news, setNews] = useSynchedNews();\n\t//console.log(\"NewsList\", news);\n\tlet resources = news;\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t}, [props?.route?.params]);\n\n\tfunction renderNews(){\n\t\tlet output = [];\n\n\t\tlet resourceIds = Object.keys(resources || {});\n\n\t\tif(resourceIds.length===0){\n\t\t\treturn <AnimationSeemsEmpty />\n\t\t}\n\n\t\tlet amountItemsTotal = resourceIds.length;\n\t\tlet amountItemsToShow = amountItemsTotal;\n\t\tamountItemsToShow = 10;\n\t\tfor(let index = 0; index<amountItemsToShow; index++){\n\t\t\tlet resourceId = resourceIds[amountItemsTotal-index-1];\n\t\t\toutput.push(<NewsCard key={resourceId} resource_id={resourceId} />)\n\t\t}\n\n\t\treturn (\n\t\t\t<GridList\n\t\t\t\t//useFlatList={true}\n\t\t\t\tpaddingHorizontal={\"2%\"}\n\t\t\t\tpaddingVertical={\"2%\"}\n\t\t\t\tbeakpointsColumns={{\n\t\t\t\t\tbase: 1\n\t\t\t\t}}\n\t\t\t\tstyle={{flex: 1}} >\n\t\t\t\t{output}\n\t\t\t</GridList>\n\t\t);\n\t}\n\n\tfunction renderBottom(backgroundColor, textColor){\n\t\tif(!!url_show_more){\n\t\t\treturn <View>\n\t\t\t\t<MyButton\n\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\tCommonSystemActionHelper.openExternalURL(url_show_more)\n\t\t\t\t\t}}\n\t\t\t\t\taccessibilityLabel={translationMoreInformation} label={translationMoreInformation}\n\t\t\t\t\trenderIcon={(backgroundColor, textColor) => {\n\t\t\t\t\t\treturn <ExternalLinksIcon color={textColor} />\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</View>\n\t\t}\n\t\treturn null;\n\t}\n\n\treturn(\n\t\t<View style={{width: \"100%\", height: \"100%\"}}>\n\t\t\t{renderNews()}\n\t\t\t<DefaultComponentCard variableHeight={true} positionBottom={true} small={true} renderTop={() => <View></View>} renderTopForeground={null} renderBottom={renderBottom} />\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\nimport {Ionicons} from \"@expo/vector-icons\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n    color?: string\n    size?: string\n}\nexport const NewsIcon: FunctionComponent<AppState> = (props) => {\n\n  return (\n      <Icon name={\"newspaper\"} as={Ionicons} color={props.color} />\n  )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {View, Text} from \"native-base\";\nimport {BaseTemplate, DirectusMarkdown, ServerAPI} from \"../../../kitcheningredients\";\nimport {WikiLoader} from \"../../components/wiki/WikiLoader\";\nimport {DirectusTranslatedMarkdown} from \"../../components/translations/DirectusTranslatedMarkdown\";\nimport {useDirectusTranslation} from \"../../components/translations/DirectusTranslationUseFunction\";\nimport {useSynchedWikis} from \"../../helper/synchedJSONState\";\n\ninterface AppState {\n\n}\nexport const Wikis: FunctionComponent<AppState> = (props) => {\n\n    const wiki_id = props?.route?.params?.id;\n    let custom_id = props?.custom_id;\n    const hideHeader = props?.hideHeader;\n\n    const [wikis, setWikis] = useSynchedWikis();\n\n    const data = getWiki(wikis, wiki_id, custom_id);\n\n    function getWiki(wikis, wiki_id, custom_id){\n        if(!!wiki_id){\n            return wikis?.[wiki_id];\n        } else {\n            if(!!custom_id){\n                let wikiIds = Object.keys(wikis);\n                for(let wikiId of wikiIds){\n                    let wiki = wikis[wikiId];\n                    if(wiki?.custom_id === props?.custom_id){\n                        return wiki;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    let translations = data?.translations;\n    const title = useDirectusTranslation(translations, \"title\") || \"Loading\";\n\n    // corresponding componentDidMount\n    useEffect(() => {\n\n    }, [props?.route?.params]);\n\n    let content = <DirectusTranslatedMarkdown item={data} field={\"content\"} />\n\n    if(hideHeader){\n        return content\n    } else {\n        return (\n            <BaseTemplate title={title}>\n                {content}\n            </BaseTemplate>\n        )\n    }\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const SortIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"sort\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {HeaderWithActions, Icon, MyActionsheet} from \"../../../kitcheningredients\";\nimport {Button} from \"native-base\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {SortIcon} from \"../icons/SortIcon\";\nimport {MyTouchableOpacity} from \"../buttons/MyTouchableOpacity\";\n\nexport enum BuildingsSortType{\n\tintelligent = \"intelligent\",\n\tdistance = \"distance\",\n\talphabetical = \"alphabetical\",\n\tfavorites = \"favorites\",\n\tlast_visited = \"last_visited\"\n}\nexport const sortTypeTranslations = {\n\t[BuildingsSortType.intelligent]: \"intelligent\",\n\t[BuildingsSortType.distance]: \"distance\",\n\t[BuildingsSortType.alphabetical]: \"alphabetical\",\n\t[BuildingsSortType.favorites]: \"favorites\",\n\t[BuildingsSortType.last_visited]: \"last_visited\",\n}\nexport const initialSortType = Object.keys(sortTypeTranslations)[0];\n\nexport interface AppState{\n\tsortBy: any,\n\tsetSortBy: any,\n}\nexport const BuildingsListHeader: FunctionComponent<AppState> = (props) => {\n\n\n\tconst actionsheet = MyActionsheet.useActionsheet();\n\n\tconst title = useAppTranslation(\"buildings\");\n\n\tconst translationSortBy = useAppTranslation(\"sortBy\");\n\n\tconst translation = {}\n\tlet sortTypeTranslationKeys = Object.keys(sortTypeTranslations);\n\tfor(let index = 0; index<sortTypeTranslationKeys.length; index++){\n\t\tlet sortTypeTranslationKey = sortTypeTranslationKeys[index];\n\t\ttranslation[sortTypeTranslationKey] = useAppTranslation(sortTypeTranslationKey);\n\t}\n\n\tconst setSortBy = props?.setSortBy;\n\n\tfunction onPressSort(){\n\t\t//console.log(\"onPressSort\");\n\t\tactionsheet.show({\n\t\t\ttitle: translationSortBy,\n\t\t\tonOptionSelect: (key) => {\n\t\t\t\t//console.log(key);\n\t\t\t\tsetSortBy(key);\n\t\t\t}\n\t\t}, translation);\n\t}\n\n\tfunction renderActions(){\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button style={{backgroundColor: \"transparent\"}} onPress={() => {\n\t\t//\t\t\t\t\t\t\tNavigatorHelper.navigateWithoutParams(FoodList, false, {showbackbutton: true});\n\t\t\t\t}}>\n\t\t\t\t\t<Icon name={\"magnify\"} />\n\t\t\t\t</Button>\n\t\t\t\t<MyTouchableOpacity accessibilityLabel={translationSortBy} onPress={() => {\n\t\t\t\t\tonPressSort()\n\t\t\t\t}}>\n\t\t\t\t\t<SortIcon />\n\t\t\t\t</MyTouchableOpacity>\n\t\t\t</>\n\t\t)\n\t}\n\n\tfunction renderHeader(){\n\t\treturn <HeaderWithActions title={title} route={props?.route} renderActions={renderActions} renderCustomBottom={null} />\n\n\t}\n\n\treturn(\n\t\trenderHeader()\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {View} from \"native-base\";\nimport {useSynchedBuildingsDict} from \"../../helper/synchedJSONState\";\nimport {BaseNoPaddingTemplate} from \"../../../kitcheningredients\";\nimport {BuildingsListHeader, BuildingsSortType, initialSortType} from \"../../components/buildings/BuildingsListHeader\";\nimport {useNearestLocation} from \"../../helper/synchedHelper/useNearestLocation\";\nimport {BuildingHelper} from \"../../components/buildings/BuildingHelper\";\nimport {useSynchedProfileFavoriteBuildingsDict} from \"../../components/profile/FavoriteBuildingsAPI\";\nimport {BuildingsList} from \"../../components/buildings/BuildingsList\";\nimport {useSynchedProfileBuildingsLastVisitedDict} from \"../../components/profile/ProfilesBuildingsLastVisitedAPI\";\nimport {AnimationSeemsEmpty} from \"../../components/animations/AnimationSeemsEmpty\";\n\nexport const BuildingsScreen: FunctionComponent = (props) => {\n\n\tconst nearestLocation = useNearestLocation();\n\n\tconst [profilesBuildingsFavoritesDict, addProfileFavoriteBuilding, removeProfileFavoriteBuilding] = useSynchedProfileFavoriteBuildingsDict();\n\tconst [profilesBuildingsLastVisitedDict, updateProfileLastVisitedBuilding, removeProfileLastVisitedBuilding, getProfileBuildingsLastVisitedDateFromBuildingId] = useSynchedProfileBuildingsLastVisitedDict();\n\n\tconst [sortBy, setSortBy] = useState(initialSortType);\n\n\tconst [buildings, setBuildings] = useSynchedBuildingsDict();\n\tconst resources = buildings;\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t}, [props?.route?.params]);\n\n\tfunction sortBuildings(buildings){\n\t\treturn sortBuildingsWithSortBy(buildings, sortBy);\n\t}\n\n\tfunction isFavorite(resource_id){\n\t\treturn !!profilesBuildingsFavoritesDict[resource_id];\n\t}\n\n\tfunction compareByDistance(a, b){\n\t\tlet distanceA = BuildingHelper.getBuildingDistance(a, nearestLocation);\n\t\tlet distanceB = BuildingHelper.getBuildingDistance(b, nearestLocation);\n\t\treturn distanceA - distanceB;\n\t}\n\n\tfunction compareByFavorite(a, b){\n\t\tlet favoriteA = isFavorite(a?.id) ? 1 : 0;\n\t\tlet favoriteB = isFavorite(b?.id) ? 1 : 0;\n\t\treturn favoriteB - favoriteA;\n\t}\n\n\tfunction compareByLastVisited(a, b){\n\t\tlet lastVisitedA = getProfileBuildingsLastVisitedDateFromBuildingId(a?.id) || -1;\n\t\tlet lastVisitedB = getProfileBuildingsLastVisitedDateFromBuildingId(b?.id) || -1;\n\t\treturn lastVisitedB - lastVisitedA;\n\t}\n\n\tfunction compareByAlphabetical(a, b){\n\t\tlet nameA = BuildingHelper.getName(a);\n\t\tlet nameB = BuildingHelper.getName(b);\n\t\treturn nameA.localeCompare(nameB);\n\t}\n\n\tfunction compareByMultipleComparators(a, b, comparators){\n\t\tfor(let index = 0; index<comparators.length; index++){\n\t\t\tlet comparator = comparators[index];\n\t\t\tlet result = comparator(a, b);\n\t\t\tif(result !== 0){\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\n\tfunction sortBuildingsWithSortBy(buildings, sortBy){\n\t\tif(!!buildings && buildings.length > 0){\n\t\t\tif (sortBy === BuildingsSortType.favorites) {\n\t\t\t\treturn buildings.sort((a, b) => {\n\t\t\t\t\treturn compareByFavorite(a, b);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (sortBy === BuildingsSortType.last_visited) {\n\t\t\t\treturn buildings.sort((a, b) => {\n\t\t\t\t\treturn compareByLastVisited(a, b);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (sortBy === BuildingsSortType.alphabetical) {\n\t\t\t\treturn buildings.sort((a, b) => {\n\t\t\t\t\treturn compareByAlphabetical(a, b);\n\t\t\t\t});\n\t\t\t} else if (sortBy === BuildingsSortType.distance) {\n\t\t\t\treturn buildings.sort((a, b) => {\n\t\t\t\t\treturn compareByDistance(a, b);\n\t\t\t\t});\n\t\t\t}  else if (sortBy === BuildingsSortType.intelligent) {\n\t\t\t\treturn buildings.sort((a, b) => {\n\t\t\t\t\treturn compareByMultipleComparators(a, b, [compareByFavorite, compareByLastVisited, compareByDistance, compareByAlphabetical]);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn buildings;\n\t}\n\n\tfunction renderBuildings(){\n\t\tlet resourceIds = Object.keys(resources || {});\n\n\t\tif(resourceIds.length===0){\n\t\t\treturn <AnimationSeemsEmpty />\n\t\t}\n\n\t\tlet resourcesArray = resourceIds.map((resource_id) => resources[resource_id]);\n\n\t\tlet sortedBuildings = sortBuildings(resourcesArray);\n\t\tlet sortedResourceIds = sortedBuildings.map((building) => building?.id);\n\n\t\treturn (\n\t\t\t<BuildingsList resource_ids={sortedResourceIds} />\n\t\t);\n\t}\n\n\treturn(\n\t\t<View style={{width: \"100%\", height: \"100%\"}}>\n\t\t\t<BaseNoPaddingTemplate header={<BuildingsListHeader sortBy={sortBy} setSortBy={setSortBy} route={props?.route} />} route={props?.route} >\n\t\t\t\t{renderBuildings()}\n\t\t\t</BaseNoPaddingTemplate>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useState} from \"react\";\n\nimport {Ionicons} from \"@expo/vector-icons\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n    color?: string\n    size?: string\n}\nexport const BuildingsIcon: FunctionComponent<AppState> = (props) => {\n\n  return (\n      <Icon name={\"map-search\"} color={props.color} />\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {useSynchedSettingsHousing} from \"../../helper/synchedJSONState\";\nimport {View, Text} from \"native-base\";\nimport {DirectusTranslatedMarkdown} from \"../translations/DirectusTranslatedMarkdown\";\nimport {DefaultComponentCard} from \"../detailsComponent/DefaultComponentCard\";\n\n\ninterface AppState {\n\n}\nexport const HousingGeneralDescription: FunctionComponent<AppState> = (props) => {\n\n\tconst [settingsHousing, setSettingsHousing] = useSynchedSettingsHousing();\n\n\treturn <View style={{width: \"100%\"}}>\n\t\t<DefaultComponentCard variableHeight={true} small={true} renderTop={() => <View></View>} renderTopForeground={null} renderBottom={(backgroundColor, textColor) => {\n\t\t\treturn <View>\n\t\t\t\t<DirectusTranslatedMarkdown color={textColor} key={\"housing_general_description\"} field={\"description\"} item={settingsHousing} />\n\t\t\t</View>\n\t\t}} />\n\t</View>;\n\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {View} from \"native-base\";\nimport {useSynchedApartmentsDict, useSynchedBuildingsDict} from \"../../helper/synchedJSONState\";\nimport {BaseNoPaddingTemplate} from \"../../../kitcheningredients\";\nimport {BuildingsListHeader, BuildingsSortType, initialSortType} from \"../../components/buildings/BuildingsListHeader\";\nimport {useNearestLocation} from \"../../helper/synchedHelper/useNearestLocation\";\nimport {BuildingHelper} from \"../../components/buildings/BuildingHelper\";\nimport {useSynchedProfileFavoriteBuildingsDict} from \"../../components/profile/FavoriteBuildingsAPI\";\nimport {ApartmentList} from \"../../components/housing/ApartmentList\";\nimport {HousingGeneralDescription} from \"../../components/housing/HousingGeneralDescription\";\nimport {useSynchedProfileBuildingsLastVisitedDict} from \"../../components/profile/ProfilesBuildingsLastVisitedAPI\";\nimport {AnimationSeemsEmpty} from \"../../components/animations/AnimationSeemsEmpty\";\nimport {useAppTranslation} from \"../../components/translations/AppTranslation\";\n\nexport const HousingScreen: FunctionComponent = (props) => {\n\n\tconst nearestLocation = useNearestLocation();\n\tconst [profilesBuildingsFavoritesDict, addProfileFavoriteBuilding, removeProfileFavoriteBuilding] = useSynchedProfileFavoriteBuildingsDict();\n\tconst [profilesBuildingsLastVisitedDict, updateProfileLastVisitedBuilding, removeProfileLastVisitedBuilding, getProfileBuildingsLastVisitedDateFromBuildingId] = useSynchedProfileBuildingsLastVisitedDict();\n\n\tconst title = useAppTranslation(\"housing\");\n\n\tconst [sortBy, setSortBy] = useState(initialSortType);\n\n\tconst [buildings, setBuildings] = useSynchedBuildingsDict();\n\tconst [resources, setResources] = useSynchedApartmentsDict();\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\t}, [props?.route?.params]);\n\n\tfunction sortResources(resources){\n\t\treturn sortResourcesWithSortBy(resources, sortBy);\n\t}\n\n\tfunction isFavorite(resource_id){\n\t\tconst buildingResource = getBuildingFromResourceId(resource_id);\n\t\tconst buildingResourceId = buildingResource?.id;\n\t\treturn !!profilesBuildingsFavoritesDict[buildingResourceId];\n\t}\n\n\tfunction getBuildingFromResourceId(resource_id){\n\t\tconst resource = resources[resource_id];\n\t\tconst buildingResourceId = resource?.building;\n\t\treturn buildings[buildingResourceId];\n\t}\n\n\tfunction compareByDistance(a, b){\n\t\tconst buildingA = getBuildingFromResourceId(a?.id);\n\t\tconst buildingB = getBuildingFromResourceId(b?.id);\n\n\t\tlet distanceA = BuildingHelper.getBuildingDistance(buildingA, nearestLocation);\n\t\tlet distanceB = BuildingHelper.getBuildingDistance(buildingB, nearestLocation);\n\t\treturn distanceA - distanceB;\n\t}\n\n\tfunction compareByFavorite(a, b){\n\t\tlet favoriteA = isFavorite(a?.id) ? 1 : 0;\n\t\tlet favoriteB = isFavorite(b?.id) ? 1 : 0;\n\t\treturn favoriteB - favoriteA;\n\t}\n\n\tfunction compareByAlphabetical(a, b){\n\t\tconst buildingA = getBuildingFromResourceId(a?.id);\n\t\tconst buildingB = getBuildingFromResourceId(b?.id);\n\n\t\tlet nameA = BuildingHelper.getName(buildingA);\n\t\tlet nameB = BuildingHelper.getName(buildingB);\n\t\treturn nameA.localeCompare(nameB);\n\t}\n\n\tfunction compareByMultipleComparators(a, b, comparators){\n\t\tfor(let index = 0; index<comparators.length; index++){\n\t\t\tlet comparator = comparators[index];\n\t\t\tlet result = comparator(a, b);\n\t\t\tif(result !== 0){\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\n\tfunction compareByLastVisited(a, b){\n\t\tconst buildingResourceA = getBuildingFromResourceId(a?.id);\n\t\tconst buildingResourceAId = buildingResourceA?.id;\n\n\t\tconst buildingResourceB = getBuildingFromResourceId(b?.id);\n\t\tconst buildingResourceBId = buildingResourceB?.id;\n\n\t\tlet lastVisitedA = getProfileBuildingsLastVisitedDateFromBuildingId(buildingResourceAId) || -1;\n\t\tlet lastVisitedB = getProfileBuildingsLastVisitedDateFromBuildingId(buildingResourceBId) || -1;\n\t\treturn lastVisitedB - lastVisitedA;\n\t}\n\n\tfunction sortResourcesWithSortBy(resources, sortBy){\n\t\tif(!!resources && resources.length > 0){\n\t\t\tif (sortBy === BuildingsSortType.favorites) {\n\t\t\t\treturn resources.sort((a, b) => {\n\t\t\t\t\treturn compareByFavorite(a, b);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (sortBy === BuildingsSortType.last_visited) {\n\t\t\t\treturn resources.sort((a, b) => {\n\t\t\t\t\treturn compareByLastVisited(a, b);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (sortBy === BuildingsSortType.alphabetical) {\n\t\t\t\treturn resources.sort((a, b) => {\n\t\t\t\t\treturn compareByAlphabetical(a, b);\n\t\t\t\t});\n\t\t\t} else if (sortBy === BuildingsSortType.distance) {\n\t\t\t\treturn resources.sort((a, b) => {\n\t\t\t\t\treturn compareByDistance(a, b);\n\t\t\t\t});\n\t\t\t}  else if (sortBy === BuildingsSortType.intelligent) {\n\t\t\t\treturn resources.sort((a, b) => {\n\t\t\t\t\treturn compareByMultipleComparators(a, b, [compareByFavorite, compareByLastVisited, compareByDistance, compareByAlphabetical]);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn resources;\n\t}\n\n\tfunction renderResources(){\n\t\tlet resourceIds = Object.keys(resources || {});\n\n\t\tif(resourceIds.length===0){\n\t\t\treturn <AnimationSeemsEmpty />\n\t\t}\n\n\t\tlet resourcesArray = resourceIds.map((resource_id) => resources[resource_id]);\n\n\t\tlet sortedResources = sortResources(resourcesArray);\n\t\tlet sortedResourceIds = sortedResources.map((resource) => resource?.id);\n\n\t\treturn (\n\t\t\t<ApartmentList resource_ids={sortedResourceIds} />\n\t\t);\n\t}\n\n\treturn(\n\t\t<View style={{width: \"100%\", height: \"100%\"}}>\n\t\t\t<BaseNoPaddingTemplate header={<BuildingsListHeader title={title} sortBy={sortBy} setSortBy={setSortBy} route={props?.route} />} route={props?.route} >\n\t\t\t\t<HousingGeneralDescription />\n\t\t\t\t{renderResources()}\n\t\t\t</BaseNoPaddingTemplate>\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React from \"react\";\nimport {Layout} from \"../../../kitcheningredients\";\nimport {useBreakpointValue, View} from \"native-base\";\nimport timetable from \"../../assets/timetable.json\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {ProjectColoredCrossLottie} from \"./ProjectColoredCrossLottie\";\n\nexport const CourseTimetableAnimation = ({children,...props}: any) => {\n\n\tconst noFoundWidths = {\n\t\tbase: \"70%\",\n\t\tsm: \"30%\",\n\t\tmd: Layout.WIDTH_MD*0.3,\n\t\tlg: Layout.WIDTH_LG*0.3,\n\t\txl: Layout.WIDTH_XL*0.3\n\t}\n\tconst noFoundWidth = useBreakpointValue(noFoundWidths);\n\n\treturn (\n\t\t<View style={{width: \"100%\", alignItems: \"center\"}}>\n\t\t\t<View style={{width: noFoundWidth}}>\n\t\t\t\t<Rectangle aspectRatio={1}>\n\t\t\t\t\t<ProjectColoredCrossLottie source={timetable} flex={1} />\n\t\t\t\t</Rectangle>\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n}\nexport const ColorIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"brush\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} />\n\t)\n}\n","import React from 'react';\nimport tinycolor from 'tinycolor2';\n\nexport class ColorHelper{\n\n\tstatic getHueColors(gradientSteps?, maximumValue?){\n\t\tif(!gradientSteps){\n\t\t\tgradientSteps = 20;\n\t\t}\n\t\tif(!maximumValue){\n\t\t\tmaximumValue = 359;\n\t\t}\n\t\treturn ColorHelper.getColors(ColorHelper.getHueStepColor, gradientSteps, maximumValue);\n\t}\n\n\tstatic getHueStepColor(i: number){\n\t\treturn tinycolor({ s: 1, l: 0.5, h: i }).toHexString();\n\t}\n\n\tstatic getColors(getStepColor, gradientSteps, maximumValue){\n\t\tconst colors = [];\n\t\tconst values = ColorHelper.getStepValues(gradientSteps, maximumValue);\n\t\tfor (let value of values) {\n\t\t\tcolors.push(\n\t\t\t\tgetStepColor(value)\n\t\t\t);\n\t\t}\n\t\treturn colors;\n\t}\n\n\tstatic getStepValues(gradientSteps, maximumValue){\n\t\tconst values = [];\n\t\tfor (let i = 0; i <= gradientSteps; i++) {\n\t\t\tvalues.push(\n\t\t\t\ti * maximumValue / gradientSteps\n\t\t\t);\n\t\t}\n\t\treturn values;\n\t}\n}\n","import React, {FunctionComponent} from 'react';\nimport {TouchableOpacity, View} from 'react-native';\nimport PropTypes from 'prop-types';\nimport {GridLayout} from \"../../layouts/GridLayout\";\nimport {useBreakpointValue} from \"native-base\";\nimport {GridList, Layout} from \"../../../kitcheningredients\";\nimport {ColorHelper} from \"./ColorHelper\";\n\ninterface SimpleColorPickerProps {\n\tonColorChange: (color: string) => Promise<boolean>;\n}\nexport const SimpleColorPicker: FunctionComponent<SimpleColorPickerProps> = (props) => {\n\n\tconst colorWidth = 40;\n\n\tconst noFoundWidths = {\n\t\tbase: 4,\n\t\tsm: 5,\n\t\tmd: 6,\n\t\tlg: 7,\n\t\txl: 8\n\t}\n\n\tasync function onPress(color){\n\t\tif(props?.onColorChange){\n\t\t\tawait props.onColorChange(color);\n\t\t}\n\t}\n\n\tfunction renderColor(color){\n\t\treturn <TouchableOpacity style={{width: \"100%\", alignItems: \"center\", justifyContent: \"center\"}} onPress={() => {\n\t\t\tonPress(color);\n\t\t}}>\n\t\t\t<View style={{backgroundColor: color, borderColor: \"black\", borderWidth: 1, borderRadius: colorWidth, width: colorWidth, height: colorWidth}} />\n\t\t</TouchableOpacity>\n\t}\n\n\tfunction renderColors(){\n\t\tlet output = []\n\t\tconst steps = 20;\n\t\tlet colors = ColorHelper.getHueColors(steps)\n\t\tfor(let color of colors){\n\t\t\toutput.push(renderColor(color));\n\t\t}\n\t\treturn output;\n\t}\n\n\treturn <GridList beakpointsColumns={noFoundWidths}>\n\t\t{renderColors()}\n\t</GridList>\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {Icon, MyActionsheet} from \"../../../kitcheningredients\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {ColorIcon} from \"../icons/ColorIcon\";\nimport {Text, View} from \"native-base\";\nimport {SimpleColorPicker} from \"../colorPicker/SimpleColorPicker\";\nimport {AccessibilityRoles} from \"../../../kitcheningredients/helper/AccessibilityRoles\";\n\ninterface AppState {\n    icon?: any;\n    description?: any;\n    initialColor?: any;\n    onChange?: (newColor: string) => void;\n}\nexport const SettingsRowColorEditComponent: FunctionComponent<AppState> = (props) => {\n\n    const [color, setColor] = React.useState(props?.initialColor || \"red\");\n\n    const width = 20;\n\n    const actionsheet = MyActionsheet.useActionsheet();\n\n    const icon = props?.icon || <ColorIcon/>;\n    const description = props?.description || \"Color\";\n\n    let handleCloseModal = () => {};\n\n    async function onChange(newColor){\n        if(props?.onChange){\n            let success = await props.onChange(newColor);\n            if(success){\n                setColor(newColor);\n                if(handleCloseModal){\n                    handleCloseModal();\n                }\n            }\n            return success;\n        }\n        return true;\n    }\n\n    function onPress(){\n        actionsheet.show({\n            title: description,\n            renderCustomContent: (onCloseModal) => {\n                handleCloseModal = onCloseModal;\n                return (\n                    <View style={{width: \"100%\", justifyContent: \"center\"}}>\n                        <SimpleColorPicker onColorChange={onChange} />\n                    </View>\n                )\n            }\n        });\n    }\n\n    function renderColor(){\n        return (\n            <View style={{width: \"100%\", alignItems: \"flex-end\"}}>\n                <View style={{backgroundColor: color, borderColor: \"black\", borderWidth: 1, borderRadius: width, width: width, height: width}} />\n            </View>\n        )\n    }\n\n    function renderContent(){\n        return <View style={{flexDirection: \"row\", alignItems: \"center\"}}>\n            <Text>{description}</Text>\n        </View>\n    }\n\n  return (\n          <SettingsRow accessibilityRole={AccessibilityRoles.adjustable} onPress={onPress} accessibilityLabel={description} leftContent={renderContent()} rightContent={renderColor()} leftIcon={icon} />\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {ProfileAPI, useSynchedProfile} from \"../../components/profile/ProfileAPI\";\nimport {Navigation} from \"../../../kitcheningredients\";\nimport {useCourseTimetableEvents} from \"../../components/courseTimetable/CourseTimetableHelper\";\nimport {SettingsRowTextEditComponent} from \"../../components/settings/SettingsRowTextEditComponent\";\nimport {SettingsRowWeekday} from \"../../components/settings/SettingsRowWeekday\";\nimport {SettingsRowTimeEditComponent} from \"../../components/settings/SettingsRowTimeEditComponent\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\nimport {IdIcon} from \"../../components/icons/IdIcon\";\nimport {NameIcon} from \"../../components/icons/NameIcon\";\nimport {ColorIcon} from \"../../components/icons/ColorIcon\";\nimport {TimeStartIcon} from \"../../components/icons/TimeStartIcon\";\nimport {TimeEndIcon} from \"../../components/icons/TimeEndIcon\";\nimport {SettingsSpacer} from \"../../components/settings/SettingsSpacer\";\nimport {DeleteIcon} from \"../../components/icons/DeleteIcon\";\nimport {AppTranslation, useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {SaveIcon} from \"../../components/icons/SaveIcon\";\nimport {TouchableOpacityIgnoreChildEvents} from \"../../helper/overlay/TouchableOpacityIgnoreChildEvents\";\nimport {CourseTimetable} from \"./CourseTimetable\";\nimport {SettingsRowColorEditComponent} from \"../../components/settings/SettingsRowColorEditComponent\";\n\ninterface AppState {\n\n}\n\nexport const CourseTimetableEvent: FunctionComponent<AppState> = (props) => {\n\n    const params = props?.route?.params || {};\n\n    const newEvent = params?.newEvent || false;\n\n    const id = params?.id;\n    const [timetableEvents, setTimetableEvents, addNewCourseTimetableEvent] = useCourseTimetableEvents();\n    const [event, setEvent] = React.useState(timetableEvents?.[id] || {});\n\n    const requiredFields = [\"start\", \"end\"];\n\n    const requiredFieldsFilled = areRequiredFieldsSet(event, requiredFields);\n\n    const color = event?.color || \"red\";\n\n    const translationEvent = useAppTranslation(\"event\");\n    const translationDelete = useAppTranslation(\"delete\");\n    const translationLocation = useAppTranslation(\"location\");\n    const translationTitle = useAppTranslation(\"title\");\n    const translationWeekday = useAppTranslation(\"weekday\");\n    const translationStart = useAppTranslation(\"start\");\n    const translationEnd = useAppTranslation(\"end\");\n    const translationColor = useAppTranslation(\"color\");\n\n    const translationSave = useAppTranslation(\"save\");\n    const translationCancel = useAppTranslation(\"cancel\");\n\n    function areRequiredFieldsSet(event, requiredFields){\n        let result = true;\n        requiredFields.forEach((field) => {\n            if(!event?.[field]){\n                result = false;\n            }\n        });\n        return result;\n    }\n\n    async function handleDelete(){\n        // delete the event from the timetableEvents with the id\n        delete timetableEvents[id];\n        // update the timetableEvents\n        let success = await setTimetableEvents(timetableEvents);\n        if(success){\n            Navigation.navigateTo(CourseTimetable);\n        }\n    }\n\n    async function changeFieldValue(field, value){\n        // update the event with the new value\n        let eventCopy = {...event};\n        eventCopy[field] = value;\n        if(!newEvent){\n            // update the timetableEvents\n            timetableEvents[id] = eventCopy;\n            let success = await setTimetableEvents(timetableEvents);\n            return success;\n        } else {\n            setEvent(JSON.parse(JSON.stringify(eventCopy)));\n        }\n        return true;\n    }\n\n    function renderTextEditRow(field, description, icon){\n        let initialValue = event?.[field];\n\n        return <SettingsRowTextEditComponent\n            icon={icon}\n            description={description}\n            onChange={changeFieldValue.bind(null, field)}\n            initialValue={initialValue}\n            placeholder={initialValue}\n            saveText={translationSave}\n            cancelText={translationCancel}  />\n    }\n\n    function renderWeekdayEditRow(field, description){\n        const [profile, setProfile] = useSynchedProfile();\n        const locale = ProfileAPI.getLocaleForJSDates(profile);\n\n        const value = event?.[field];\n\n        return(\n            <SettingsRowWeekday weekday={value} onChange={(value) => {\n                changeFieldValue(field, value);\n            }} description={description} locale={locale} />\n        )\n    }\n\n    function renderTimeEditRow(field, description, icon){\n        let initialValue = event?.[field];\n\n        return <SettingsRowTimeEditComponent\n            icon={icon}\n            description={description}\n            onChange={changeFieldValue.bind(null, field)}\n            initialValue={initialValue}\n            placeholder={\"HH:MM\"}\n            saveText={translationSave}\n            cancelText={translationCancel}  />\n    }\n\n    function renderColorEditRow(field, description, icon){\n        let initialColor = event?.[field];\n\n        return <SettingsRowColorEditComponent\n            icon={icon}\n            description={description}\n            onChange={async (newColor) => {\n                //console.log(\"newColor\", newColor);\n                return await changeFieldValue(field, newColor);\n            }}\n            initialColor={initialColor}\n        />\n    }\n\n    async function saveNewEvent(){\n        let success = await addNewCourseTimetableEvent(event);\n        if(success){\n            Navigation.navigateTo(CourseTimetable);\n        }\n    }\n\n    let content = [];\n    if(!newEvent){\n        content.push(<SettingsRow leftContent={\"ID\"} leftIcon={<IdIcon />} rightContent={id+\"\"} />)\n    }\n\n\n    content.push(renderTextEditRow(\"title\", translationTitle, <NameIcon />));\n    content.push(renderTextEditRow(\"location\", translationLocation, <NameIcon />));\n    content.push(renderColorEditRow(\"color\", translationColor, <ColorIcon />));\n    content.push(renderTimeEditRow(\"start\", translationStart, <TimeStartIcon />));\n    content.push(renderTimeEditRow(\"end\", translationEnd, <TimeEndIcon />));\n    content.push(renderWeekdayEditRow(\"weekday\", translationWeekday));\n    content.push(<SettingsSpacer/>)\n\n\n    if(!newEvent){\n        content.push(<SettingsRow leftContent={translationDelete} leftIcon={<DeleteIcon />} onPress={handleDelete} />)\n    } else {\n        const createRow = <SettingsRow leftContent={translationEvent+\": \"+translationSave} leftIcon={<SaveIcon />} onPress={saveNewEvent} />\n        if(requiredFieldsFilled){\n            content.push(createRow);\n        } else {\n            content.push(<TouchableOpacityIgnoreChildEvents style={{cursor: \"not-allowed\"}} useDefaultOpacity={true}>{createRow}</TouchableOpacityIgnoreChildEvents>)\n        }\n    }\n\n    return (\n        <View style={{width: \"100%\", alignItems: \"center\"}}>\n            <View style={{width: \"100%\"}}>\n                {content}\n            </View>\n        </View>\n    )\n\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {TimetableEvent} from \"./CourseTimetableSchedule\";\nimport {TouchableOpacity} from \"react-native\";\nimport {Navigation} from \"../../../kitcheningredients\";\nimport {useCourseTimetableEvents, usePersonalCourseTimetableTitleIntelligent} from \"./CourseTimetableHelper\";\nimport {CourseTimetableEvent} from \"../../screens/courseTimetable/CourseTimetableEvent\";\nimport {MyTouchableOpacity} from \"../buttons/MyTouchableOpacity\";\nimport {MyTouchableOpacityForNavigation} from \"../buttons/MyTouchableOpacityForNavigation\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\n\ninterface AppState {\n    style: any,\n    item: any,\n    dayIndex: any,\n    daysTotal: any\n}\nexport const CourseTimetableItemCard: FunctionComponent<AppState> = (props) => {\n\n    let item: TimetableEvent = props?.item;\n    const id = item?.id || \"\";\n\n    const [timetableEvents, setTimetableEvents] = useCourseTimetableEvents();\n    const event = timetableEvents[id];\n\n    const [titleIntelligent, setTitleIntelligent] = usePersonalCourseTimetableTitleIntelligent();\n\n    const style = props?.style || {};\n\n    const location = event?.location || \"\";\n    const color = event?.color || \"red\";\n\n    const start = event?.start || \"\";\n    const end = event?.end || \"\";\n\n    const colorContrast = ColorHelper.useContrastColor(color);\n\n    const headerText = start + \" - \" + end + \", \" + location;\n\n    function getTitle(event, titleIntelligent){\n        const title = event?.title || \"\";\n        if(titleIntelligent){\n            // split the title by the first opening bracket\n            const split = title.split(\"(\");\n            return split[0];\n        }\n        return title;\n    }\n\n    const title = getTitle(event, titleIntelligent) || location;\n\n\n    return (\n        <View style={{\n            ...style, // apply calculated styles, be careful not to override these accidentally (unless you know what you are doing)\n        }}>\n            <MyTouchableOpacityForNavigation accessibilityLabel={title} style={{height: \"100%\", width: \"100%\"}} onPress={() => {\n                Navigation.navigateTo(CourseTimetableEvent, {id: id, showbackbutton: true});\n            }}>\n                <View style={{\n                    height: \"100%\",\n                    width: \"100%\",\n                    //...style, // apply calculated styles, be careful not to override these accidentally (unless you know what you are doing)\n                    backgroundColor: color, // apply custom background color\n                    borderRadius: 10,\n                    elevation: 5,\n                    overflow: \"hidden\"\n                }}>\n                    <View><Text color={colorContrast} numberOfLines={2} italic={true}>{headerText}</Text></View>\n                    <View style={{width: \"100%\", height: 1, backgroundColor: colorContrast}}/>\n                    <View><Text color={colorContrast} numberOfLines={6} bold={true}>{title}</Text></View>\n                </View>\n            </MyTouchableOpacityForNavigation>\n        </View>\n    );\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useRef, useState} from \"react\";\nimport {ScrollView, Text, View} from \"native-base\";\nimport Timetable from \"react-native-calendar-timetable\";\nimport {DateHelper, Weekday} from \"../../helper/DateHelper\";\nimport {CourseTimetableItemCard} from \"./CourseTimetableItemCard\";\nimport {DirectusTranslationHelper} from \"../translations/DirectusTranslationHelper\";\n\ntype MarkerTime =`${number| ''}${number}:${number}${number}`\nexport interface TimetableEvent {\n    id?: string,\n    title: string,\n    location: string,\n    color: string,\n    start: MarkerTime,\n    end: MarkerTime,\n    weekday: Weekday\n}\n\ninterface AppState {\n    renderHeader?: (date: Date, start: Date, end: Date) => any;\n    locale?: string;\n    backgroundColor?: string;\n    amountOfDays?: number;\n    amountOfDaysToShowOnScreen?: number;\n    weekStartsOn?: Weekday;\n    currentWeekday?: Weekday;\n    events?: TimetableEvent[];\n    fromHour?: number;\n    toHour?: number;\n    renderTime?: (fromHour, toHour) => any;\n    renderEvent?: (event, start, end, isSelected) => any;\n}\nexport const CourseTimetableSchedule: FunctionComponent<AppState> = (props) => {\n\n    const scrollViewRef = useRef(null);\n\n    const [dimension, setDimension] = useState({width: undefined, height: undefined});\n    const width = dimension?.width;\n\n    const backgroundColor = props?.backgroundColor || \"transparent\"\n\n    const locale = props?.locale || DirectusTranslationHelper.DEFAULT_LANGUAGE_CODE;\n\n    const fromWeekday = props?.weekStartsOn || Weekday.MONDAY;\n\n    let indexToStart = 0;\n    if (props?.currentWeekday) {\n        const currentWeekday = props?.currentWeekday;\n        let indexDifference = DateHelper.getWeekdayDifference(fromWeekday, currentWeekday);\n        if(indexDifference < 0){ // if the current weekday is before the first weekday of the week\n            indexDifference += 7; // add 7 to get the correct index\n        }\n        indexToStart = indexDifference;\n    }\n\n    const [from] = React.useState(DateHelper.getDefaultWeekdayDate(fromWeekday));\n    let amountOfDays = props?.amountOfDays || 7;\n\n    const defaultAmountOfDaysToShowOnScreen = 7;\n    let amountOfDaysToShowOnScreen = props?.amountOfDaysToShowOnScreen || defaultAmountOfDaysToShowOnScreen;\n\n    const [till] = React.useState(DateHelper.addDays(new Date(from), amountOfDays-1).toISOString());\n    const fromHour = props?.fromHour || 0;\n    const toHour = props?.toHour || 24;\n    const range = {from: from, till: till};\n\n    const hourHeight = 60;\n    const columnHeaderHeight = hourHeight / 2;\n    let timeWidth = 60;\n    const linesTopOffset = 18;\n\n    const columnWidth = (width / amountOfDaysToShowOnScreen)-(timeWidth/amountOfDaysToShowOnScreen)-10/amountOfDaysToShowOnScreen;\n\n    const items = props?.events || [];\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        //\n    }, [props?.route?.params])\n\n    function renderHeader({date, start, end}){\n        let startDate = new Date(start);\n        let endDate = new Date(end);\n\n        let renderHeader = props?.renderHeader;\n        if(renderHeader){\n            return renderHeader(date, startDate, endDate);\n        }\n\n        let weekday = DateHelper.getWeekdayNameByDate(startDate, locale);\n        return (\n            <View>\n                <Text>{weekday}</Text>\n            </View>\n        )\n    }\n\n    function renderTime(fromHour, toHour){\n        let hour = fromHour < 10 ? \"0\"+fromHour : fromHour;\n        return(\n            <View style={{height: hourHeight, width: \"100%\", justifyContent: \"flex-start\", alignItems: \"flex-end\", backgroundColor: backgroundColor}}>\n                <View style={{backgroundColor: \"transparent\"}}>\n                    <Text>{(hour)+\":00\"}</Text>\n                </View>\n            </View>\n        )\n    }\n\n    function renderTimes(fromHour, toHour){\n        let output = [];\n        for(let i = fromHour; i < toHour; i++){\n            output.push(\n                renderTime(i, i+1)\n            )\n        }\n        return output;\n    }\n\n    function renderTimeColumns(){\n        //return null;\n\n        return(\n            <View style={{position: \"absolute\", top: columnHeaderHeight+18, left: 0, height: \"100%\", width: timeWidth}}>\n                {renderTimes(fromHour, toHour)}\n            </View>\n        )\n    }\n\n    function renderTimetable(){\n        if(!width){\n            return null;\n        } else {\n            // to fix inside view columnWidth = (width / amountOfDays)-(timeWidth/amountOfDays)-10/amountOfDays\n            return (\n                <>\n                <ScrollView>\n                    <Timetable\n                        scrollViewProps={{\n                            ref: scrollViewRef,\n                        }}\n                        style={{\n                            timeContainer: {\n                                backgroundColor: \"transparent\",\n                                display: \"none\"\n                            },\n                            nowLine: {\n                                dot: {\n                                    backgroundColor: \"red\",\n                                },\n                                line: {\n                                    backgroundColor: \"red\",\n                                }\n                            },\n                        }}\n                        width={width}\n                        // these two are required\n                        items={items}\n                        cardComponent={CourseTimetableItemCard}\n                        renderHeader={renderHeader}\n                        enableSnapping={true}\n                        fromHour={fromHour}\n                        toHour={toHour}\n\n                        linesLeftInset={0}\n                        linesTopOffset={18}\n                        columnHorizontalPadding={5}\n\n                        // provide only one of these if you need to\n                        range={range} // optional\n                        columnWidth={columnWidth}\n                        timeWidth={timeWidth}\n                    />\n                    {renderTimeColumns()}\n                </ScrollView>\n                </>\n            )\n        }\n    }\n\n    //console.log(\"rendering timetable\")\n\n    useEffect(() => {\n        if (scrollViewRef?.current) {\n            //console.log(\"scroll to start\");\n            const x = indexToStart * columnWidth;\n            const y = 0;\n            scrollViewRef.current.scrollTo({x, y, animated: true});\n        } else {\n            //console.log(\"scroll to start failed\");\n        }\n    }, [dimension]);\n\n  return (\n       <View style={{width: \"100%\", height: \"100%\", flex: 1}}>\n           <View style={{width: \"100%\", height: \"100%\"}} onLayout={(event) => {\n               const {x, y, width, height} = event.nativeEvent.layout;\n               setDimension({width: width, height: height})\n           }}>\n               {renderTimetable()}\n           </View>\n       </View>\n  )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useState} from \"react\";\nimport {Button, FormControl, Input, ScrollView, Text, View} from \"native-base\";\nimport {Icon} from \"../../../kitcheningredients\";\nimport {MyButton} from \"../buttons/MyButton\";\n\ninterface AppState {\n    onCloseModal: () => void;\n    onLogin: (username: string, password: string) => Promise<any>;\n    initialPassword: string;\n    initialEmail: string;\n}\n\nexport const CourseTimetableImportDefaultComponent: FunctionComponent<AppState> = (props) => {\n\n    const [password, setPassword] = useState(props?.initialPassword || \"\");\n    const [showPassword, setShowPassword] = useState(false);\n    const [loginInitiated, setLoginInitiated] = useState(false);\n    const [loginIncorrect, setLoginIncorrect] = useState(false);\n    const [email, setEmail] = useState(props?.initialEmail || \"\");\n\n    const loginDisabled = loginInitiated || email.length === 0 || password.length === 0;\n\n    let handleCloseModal = props?.onCloseModal;\n\n    const toggleShowPasswordIcon = showPassword ? \"eye\" : \"eye-off\";\n    let rightElement = (\n        <Button roundedLeft=\"0\" onPress={() => {setShowPassword(!showPassword)}}>\n            <Icon name={toggleShowPasswordIcon} size=\"sm\" />\n        </Button>\n    )\n\n    return (\n        <ScrollView style={{width: \"100%\"}}>\n            <View style={{width: \"100%\", justifyContent: \"center\"}}>\n                <Text>{\"Your credentials wont be saved and send directly to Stud.IP.\"}</Text>\n                <FormControl isRequired>\n                    <View style={{marginVertical: 10}}>\n                        <Input\n                            isDisabled={loginInitiated}\n                            value={email}\n                            nativeID={\"username\"}\n                            type={\"email\"}\n                            //TODO extract the on change method to an extra class to call the callback\n                            onChange={async (event) => { // @ts-ignore\n                                setEmail(event.nativeEvent.text)\n                                setLoginIncorrect(false)\n                            }}\n                            placeholder=\"Email\" size=\"lg\" />\n                    </View>\n                </FormControl>\n                <FormControl isInvalid={loginIncorrect} isRequired>\n                    <View style={{marginVertical: 10}} >\n                        <Input\n                            isDisabled={loginInitiated}\n                            value={password}\n                            nativeID={\"password\"}\n                            type={showPassword ? \"text\" : \"password\"}\n                            InputRightElement={rightElement}\n                            onChange={(event) => { // @ts-ignore\n                                setPassword(event.nativeEvent.text)\n                                setLoginIncorrect(false)\n                            }} placeholder=\"Password\" size=\"lg\" />\n                        <FormControl.ErrorMessage>\n                            Incorrect email or password\n                        </FormControl.ErrorMessage>\n                    </View>\n                </FormControl>\n                <MyButton disabled={loginDisabled}\n                          label={\"Login\"+\" & \"+\" \"+\"Import\"}\n                          accessibilityLabel={\"Login\"+\" & \"+\" \"+\"Import\"}\n                          onPress={async () => {\n                    setLoginInitiated(true);\n                    let onLogin = props?.onLogin;\n                    if (onLogin) {\n                        let success = await onLogin(email, password);\n                        if (success) {\n                            handleCloseModal();\n                            return true;\n                        } else {\n                            setLoginIncorrect(true);\n                        }\n                    }\n                    setLoginInitiated(false);\n                }}>\n                </MyButton>\n            </View>\n        </ScrollView>\n    );\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {CourseTimetableImportDefaultComponent} from \"../CourseTimetableImportDefaultComponent\";\nimport {Connector, ScheduleEvent, UrlHelper} from \"studip-api\";\nimport {useDemoMode} from \"../../../helper/synchedJSONState\";\nimport {TimetableEvent} from \"../CourseTimetableSchedule\";\nimport {DateHelper} from \"../../../helper/DateHelper\";\n\ninterface AppState {\n    onCloseModal: () => void;\n    onImport: (events: TimetableEvent[]) => void;\n}\n\nexport const TimetableImportStudIP: FunctionComponent<AppState> = (props) => {\n\n    const [demo, setDemo] = useDemoMode()\n\n    const onCloseModal = props?.onCloseModal;\n\n    async function loadStudIPEvents(studIpDomain, username, password){\n        //console.log(\"studIpDomain\", studIpDomain)\n        try{\n            let client = new Connector(studIpDomain, username, password);\n            await client.loadUser();\n            let user = client.getUser();\n            //console.log(\"user\", user);\n            let schedule = await client.loadSchedule();\n            //console.log(\"schedule\");\n            //console.log(schedule);\n            return schedule;\n        } catch (e) {\n            //console.log(\"error\");\n            //console.log(e);\n        }\n        return null;\n    }\n\n    async function onLogin(username, password){\n        //console.log(\"username\", username);\n        //console.log(\"password\", password)\n\n        let events = null;\n        let rawSchedule = null;\n        if(demo){\n            rawSchedule = getDemoRawScheduleData();\n        } else {\n            rawSchedule = await loadStudIPEvents(UrlHelper.STUDIP_DOMAIN_UNI_OSNABRUECK, username, password)\n        }\n        if(rawSchedule){\n            events = parseStudIPDataToEvents(rawSchedule);\n        }\n        if(events){\n            if(props?.onImport){\n                props.onImport(events);\n                return true;\n            }\n        }\n\n        return !!events;\n    }\n\n    function parseStudIPDataToEvent(rawEvent: any): TimetableEvent{\n        let rawWeekdayNumber = rawEvent?.weekday;\n        let weekday = DateHelper.getWeekdayByDayNumber(rawWeekdayNumber);\n\n        let event: TimetableEvent = {\n            id: undefined,\n            title: rawEvent.name,\n            location: rawEvent.location,\n            color: rawEvent.color,\n            start: rawEvent.start,\n            end: rawEvent.end,\n            weekday: weekday\n        }\n        return event;\n    }\n\n    function parseStudIPDataToEvents(scheduleEvents: [any]): [TimetableEvent]{\n        //console.log(\"parseStudIPDataToEvents\");\n        //console.log(\"scheduleEvents\");\n        //console.log(scheduleEvents);\n        let parsedEvents: [TimetableEvent] = [];\n        for(let scheduleEvent of scheduleEvents){\n            let event = parseStudIPDataToEvent(scheduleEvent);\n            parsedEvents.push(event);\n        }\n        //console.log(\"parsedEvents\")\n        console.log(parsedEvents)\n        return parsedEvents;\n    }\n\n    function getDemoRawScheduleData(){\n        return [\n            {\n                \"name\": \"Einführung in Algorithmen und Datenstrukturen (Brinkmeier, Hüwel, Ossovski)\",\n                \"weekday\": 0,\n                \"color\": \"#ffbd33\",\n                \"building\": \"93\",\n                \"room\": \"E10\",\n                \"location\": \"Coding Class 1(93/E10), (Online-Meetingraum \\\"Coding Class\\\")\",\n                \"start\": \"12:00\",\n                \"end\": \"14:00\"\n            },\n            {\n                \"name\": \"Einführung in Algorithmen und Datenstrukturen (Brinkmeier, Hüwel, Ossovski)\",\n                \"weekday\": 0,\n                \"color\": \"#ffbd33\",\n                \"building\": \"01\",\n                \"room\": \"E01\",\n                \"location\": \"Vorlesung01/E01\",\n                \"start\": \"14:00\",\n                \"end\": \"16:00\"\n            },\n            {\n                \"name\": \"Seminar Software Engineering (Pulvermüller, Huning, Ziegenhagen et al.)\",\n                \"weekday\": 1,\n                \"color\": \"#ffbd33\",\n                \"building\": \"50\",\n                \"room\": \"E09\",\n                \"location\": \"50/E09\",\n                \"start\": \"14:00\",\n                \"end\": \"16:00\"\n            },\n            {\n                \"name\": \"Einführung in Algorithmen und Datenstrukturen (Brinkmeier, Hüwel, Ossovski)\",\n                \"weekday\": 1,\n                \"color\": \"#ffbd33\",\n                \"building\": \"93\",\n                \"room\": \"E10\",\n                \"location\": \"Coding Class 2(93/E10), (Online-Meetingraum \\\"Coding Class\\\")\",\n                \"start\": \"12:00\",\n                \"end\": \"14:00\"\n            },\n            {\n                \"name\": \"Einführung in Algorithmen und Datenstrukturen (Brinkmeier, Hüwel, Ossovski)\",\n                \"weekday\": 1,\n                \"color\": \"#ffbd33\",\n                \"building\": \"01\",\n                \"room\": \"E01\",\n                \"location\": \"Vorlesung01/E01\",\n                \"start\": \"14:00\",\n                \"end\": \"16:00\"\n            },\n            {\n                \"name\": \"Software Engineering (Pulvermüller, Ziegenhagen, Huning et al.)\",\n                \"weekday\": 1,\n                \"color\": \"#ffbd33\",\n                \"building\": \"66\",\n                \"room\": \"E33\",\n                \"location\": \"Vorlesung66/E33\",\n                \"start\": \"16:00\",\n                \"end\": \"18:00\"\n            },\n            {\n                \"name\": \"\",\n                \"weekday\": 2,\n                \"color\": \"#682c8b\",\n                \"building\": \"\",\n                \"room\": \"\",\n                \"location\": \"AG SE Meeting\",\n                \"start\": \"12:00\",\n                \"end\": \"14:00\"\n            },\n            {\n                \"name\": \"Einführung in Algorithmen und Datenstrukturen (Brinkmeier, Hüwel, Ossovski)\",\n                \"weekday\": 2,\n                \"color\": \"#ffbd33\",\n                \"building\": \"93\",\n                \"room\": \"E10\",\n                \"location\": \"Coding Class 3(93/E10), (Online-Meetingraum \\\"Coding Class\\\")\",\n                \"start\": \"08:00\",\n                \"end\": \"10:00\"\n            },\n            {\n                \"name\": \"Einführung in Algorithmen und Datenstrukturen (Brinkmeier, Hüwel, Ossovski)\",\n                \"weekday\": 2,\n                \"color\": \"#ffbd33\",\n                \"building\": \"93\",\n                \"room\": \"E10\",\n                \"location\": \"Coding Class 4(93/E10), (Online-Meetingraum \\\"Coding Class\\\")\",\n                \"start\": \"10:00\",\n                \"end\": \"12:00\"\n            },\n            {\n                \"name\": \"Einführung in Algorithmen und Datenstrukturen (Brinkmeier, Hüwel, Ossovski)\",\n                \"weekday\": 2,\n                \"color\": \"#ffbd33\",\n                \"building\": \"\",\n                \"room\": \"\",\n                \"location\": \"Coding Class 5(Online-Meetingraum \\\"Coding Class\\\")\",\n                \"start\": \"16:00\",\n                \"end\": \"18:00\"\n            },\n            {\n                \"name\": \"Software Engineering (Pulvermüller, Ziegenhagen, Huning et al.)\",\n                \"weekday\": 2,\n                \"color\": \"#ffbd33\",\n                \"building\": \"93\",\n                \"room\": \"E31\",\n                \"location\": \"Vorlesung93/E31\",\n                \"start\": \"12:00\",\n                \"end\": \"14:00\"\n            },\n            {\n                \"name\": \"Einführung in Algorithmen und Datenstrukturen (Brinkmeier, Hüwel, Ossovski)\",\n                \"weekday\": 3,\n                \"color\": \"#ffbd33\",\n                \"building\": \"93\",\n                \"room\": \"E10\",\n                \"location\": \"Coding Class 6(93/E10), (Online-Meetingraum \\\"Coding Class\\\")\",\n                \"start\": \"12:00\",\n                \"end\": \"14:00\"\n            },\n            {\n                \"name\": \"Einführung in Algorithmen und Datenstrukturen (Brinkmeier, Hüwel, Ossovski)\",\n                \"weekday\": 3,\n                \"color\": \"#ffbd33\",\n                \"building\": \"93\",\n                \"room\": \"E10\",\n                \"location\": \"Coding Class 7(93/E10), (Online-Meetingraum \\\"Coding Class\\\")\",\n                \"start\": \"14:00\",\n                \"end\": \"16:00\"\n            },\n            {\n                \"name\": \"Einführung in Algorithmen und Datenstrukturen (Brinkmeier, Hüwel, Ossovski)\",\n                \"weekday\": 3,\n                \"color\": \"#ffbd33\",\n                \"building\": \"\",\n                \"room\": \"\",\n                \"location\": \"Coding Class 8(Online-Meetingraum \\\"Coding Class\\\")\",\n                \"start\": \"16:00\",\n                \"end\": \"18:00\"\n            },\n            {\n                \"name\": \"Software Engineering (Pulvermüller, Ziegenhagen, Huning et al.)\",\n                \"weekday\": 4,\n                \"color\": \"#ffbd33\",\n                \"building\": \"93\",\n                \"room\": \"E33\",\n                \"location\": \"Übung93/E33\",\n                \"start\": \"10:00\",\n                \"end\": \"12:00\"\n            },\n            {\n                \"name\": \"Software Engineering (Pulvermüller, Ziegenhagen, Huning et al.)\",\n                \"weekday\": 4,\n                \"color\": \"#ffbd33\",\n                \"building\": \"93\",\n                \"room\": \"E06\",\n                \"location\": \"Übung93/E06\",\n                \"start\": \"12:00\",\n                \"end\": \"14:00\"\n            },\n            {\n                \"name\": \"\",\n                \"weekday\": 5,\n                \"color\": \"#682c8b\",\n                \"building\": \"\",\n                \"room\": \"\",\n                \"location\": \"0\",\n                \"start\": \"08:00\",\n                \"end\": \"08:59\"\n            },\n            {\n                \"name\": \"\",\n                \"weekday\": 5,\n                \"color\": \"#b02e7c\",\n                \"building\": \"\",\n                \"room\": \"\",\n                \"location\": \"1\",\n                \"start\": \"09:00\",\n                \"end\": \"10:00\"\n            },\n            {\n                \"name\": \"\",\n                \"weekday\": 5,\n                \"color\": \"#d60000\",\n                \"building\": \"\",\n                \"room\": \"\",\n                \"location\": \"2\",\n                \"start\": \"10:00\",\n                \"end\": \"11:00\"\n            },\n            {\n                \"name\": \"\",\n                \"weekday\": 5,\n                \"color\": \"#f26e00\",\n                \"building\": \"\",\n                \"room\": \"\",\n                \"location\": \"3\",\n                \"start\": \"11:00\",\n                \"end\": \"12:00\"\n            },\n            {\n                \"name\": \"\",\n                \"weekday\": 5,\n                \"color\": \"#d60000\",\n                \"building\": \"\",\n                \"room\": \"\",\n                \"location\": \"\",\n                \"start\": \"13:00\",\n                \"end\": \"14:00\"\n            }\n        ]\n    }\n\n    const initialPassword = demo ? \"1234\" : undefined;\n    const initialEmail = demo ? \"demoUser\" : undefined;\n\n    return <CourseTimetableImportDefaultComponent onCloseModal={onCloseModal} onLogin={onLogin} initialEmail={initialEmail} initialPassword={initialPassword}  />\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {HeaderWithActions, Navigation} from \"../../../kitcheningredients\";\nimport {Button, Tooltip, View} from \"native-base\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {SettingsIcon} from \"../icons/SettingsIcon\";\nimport {SettingCourseTimetable} from \"../../screens/settings/SettingCourseTimetable\";\nimport {useSettingTranslationCourseTimetable} from \"./SettingTranslationCourseTimetable\";\n\nexport interface AppState{\n\n}\nexport const CourseTimetableHeader: FunctionComponent<AppState> = (props) => {\n\n\tconst translationSettings = useSettingTranslationCourseTimetable();\n\tconst translationScreenNameCourseTimetable = useAppTranslation(\"screenNameCourseTimetable\")\n\n\t// view-day vs view-week\n\n\tfunction renderActions(){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<Tooltip label={translationSettings}>\n\t\t\t\t\t<Button style={{backgroundColor: \"transparent\"}}\n\t\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\t\tNavigation.navigateTo(SettingCourseTimetable, {showbackbutton: true})\n//\t\t\t\t\t\t\t\tNavigatorHelper.navigateWithoutParams(SettingCourseTimetable, false, {showbackbutton: true});\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<SettingsIcon accessibilityLabel={translationSettings} />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t</>\n\t\t)\n\t}\n\n\tfunction renderCustomBottom(){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<View style={{flex: 1}}>\n\n\t\t\t\t</View>\n\t\t\t\t<View style={{justifyContent: \"center\", alignItems: \"center\", flexDirection: \"row\"}}>\n\n\t\t\t\t</View>\n\t\t\t\t<View style={{flex: 1}}>\n\n\t\t\t\t</View>\n\t\t\t</>\n\t\t)\n\t}\n\n\treturn(\n\t\t<HeaderWithActions route={props?.route} title={translationScreenNameCourseTimetable} renderActions={renderActions} renderCustomBottom={renderCustomBottom} />\n\t)\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {ScrollView, Text, useBreakpointValue, View} from \"native-base\";\nimport {ProfileAPI, useSynchedProfile} from \"../../components/profile/ProfileAPI\";\nimport {CourseTimetableAnimation} from \"../../components/animations/CourseTimetableAnimation\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {MyButton} from \"../../components/buttons/MyButton\";\nimport {CourseTimetableSchedule, TimetableEvent} from \"../../components/courseTimetable/CourseTimetableSchedule\";\nimport {\n    BaseNoScrollTemplate,\n    BasePadding,\n    MyActionsheet,\n    Navigation,\n    ThemedMarkdown,\n    useBackgroundColor\n} from \"../../../kitcheningredients\";\nimport {TimetableImportStudIP} from \"../../components/courseTimetable/timetableProviders/TimetableImportStudIP\";\nimport {CourseTimetableHeader} from \"../../components/courseTimetable/CourseTimetableHeader\";\nimport {\n    useCourseTimetableEvents, usePersonalCourseTimetableAmountDaysOnScreen,\n    usePersonalCourseTimetableFirstDayOfWeek, usePersonalCourseTimetableTime\n} from \"../../components/courseTimetable/CourseTimetableHelper\";\nimport {CourseTimetableEvent} from \"./CourseTimetableEvent\";\nimport {\n    AppTranslation,\n    useAppTranslation,\n    useAppTranslationMarkdown\n} from \"../../components/translations/AppTranslation\";\nimport {useDemoMode} from \"../../helper/synchedJSONState\";\n\ninterface AppState {\n\n}\n\nexport const CourseTimetable: FunctionComponent<AppState> = (props) => {\n\n    const actionsheet = MyActionsheet.useActionsheet();\n\n    const [demo, setDemo] = useDemoMode();\n\n    const [profile, setProfile] = useSynchedProfile();\n    const locale = ProfileAPI.getLocaleForJSDates(profile);\n    const backgroundColor = useBackgroundColor()\n\n    const [firstDayOfWeek, setFirstDayOfWeek] = usePersonalCourseTimetableFirstDayOfWeek();\n    const [timetableEvents, setTimetableEvents] = useCourseTimetableEvents();\n\n    const [startTime, setStartTime] = usePersonalCourseTimetableTime(true);\n    const [endTime, setEndTime] = usePersonalCourseTimetableTime(false);\n    const [amountDaysOnScreen, setAmountDaysOnScreen] = usePersonalCourseTimetableAmountDaysOnScreen();\n\n    const translationMarkdownEmptyDescription = useAppTranslationMarkdown(\"courseTimetableDescriptionEmpty\");\n\n    const translationCreateEvent = useAppTranslation(\"event\")+\" \"+useAppTranslation(\"create\")\n\n    const breakPointsAmountOfDaysToShowOnScreen = {\n        base: 1.1,\n        sm: 2.1,\n        md: 5.1,\n        lg: 7,\n        xl: 7\n    }\n    const amountOfDaysToShowOnScreen = amountDaysOnScreen || useBreakpointValue(breakPointsAmountOfDaysToShowOnScreen)\n\n\n    function getEvent(id, start, end, weekday){\n        let useDate = DateHelper.getDefaultWeekdayDate(weekday)\n        let startDate = new Date(useDate);\n        startDate.setHours(start.split(\":\")[0], start.split(\":\")[1]);\n        startDate.setMinutes(startDate.getMinutes()+1)\n\n        let endDate = new Date(useDate);\n        endDate.setHours(end.split(\":\")[0], end.split(\":\")[1]);\n\n        /** Fix timeline display. Since events which start and end at the same time they will share space */\n        /** For example 08:00-09:00 and 09:00-10:00 arent overlapping technicly */\n        /** But we have to reduce the end by 1 minute */\n        endDate.setMinutes(endDate.getMinutes()-1); // reduce end by 1 minute\n\n        return{\n            id: id,\n            startDate: startDate,\n            endDate: endDate,\n        }\n    }\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        //\n    }, [props?.route?.params])\n\n    function renderAnimation(){\n        return (\n            <View style={{width: \"100%\", flex: 1}}>\n               <ScrollView>\n                   <BasePadding>\n                       <ThemedMarkdown>\n                           {translationMarkdownEmptyDescription}\n                       </ThemedMarkdown>\n                       <CourseTimetableAnimation />\n                   </BasePadding>\n               </ScrollView>\n            </View>\n        )\n    }\n\n    const actionsheetOptionImportFromStudIP = \"importFromStudIP\"\n\n    function onImport(events: TimetableEvent[]){\n        let newEvents = {};\n        let currentEventId = 1;\n        for(let event of events){\n            let id = event?.id || currentEventId;\n            event.id = id+\"\";\n            newEvents[id] = event;\n            currentEventId++;\n        }\n        setTimetableEvents(newEvents)\n    }\n\n    function showStudIPImportOverlay(){\n        let title = \"Import from Stud.IP\";\n        if(demo){\n            title = \"Demo Import from Stud.IP\";\n        }\n\n        actionsheet.show({\n            title: title,\n            renderCustomContent: (onCloseModal) => {\n                return (\n                    <>\n                        <TimetableImportStudIP onCloseModal={onCloseModal} onImport={onImport} />\n                    </>\n                )\n            }\n        });\n    }\n\n    function parseTimetableEventsToList(timetableEvents){\n        let events = [];\n        for(let key in timetableEvents){\n            let event = timetableEvents[key];\n            let parsedEvent = getEvent(event.id, event.start, event.end, event.weekday);\n            events.push(parsedEvent)\n        }\n        return events;\n    }\n\n    function renderActions(){\n        let translationImport = useAppTranslation(\"import\");\n        let demoPreText = \"\";\n        if(demo){\n            translationImport = \"Demo \"+translationImport;\n            demoPreText = \"Demo \";\n        }\n\n        return(\n            <View style={{width: \"100%\", flexDirection: \"row\"}}>\n                <View style={{flex: 1}}>\n                    <MyButton iconName={\"calendar-import\"}\n                              accessibilityLabel={translationImport}\n                              onPressShowActionsheet={[\n                        {\n                            title: translationImport,\n                            onOptionSelect: (key) => {\n                                if(key === actionsheetOptionImportFromStudIP){\n                                    showStudIPImportOverlay();\n                                }\n                            }\n                        },\n                        {\n                            [actionsheetOptionImportFromStudIP] : {\n                                icon: \"school\",\n                                label: demoPreText+\"Import from Stud.IP\",\n                            },\n                        }\n                    ]}\n                        label={translationImport}\n                    >\n                    </MyButton>\n                </View>\n                <View style={{flex: 1}}>\n                    <MyButton iconName={\"calendar-plus\"} accessibilityLabel={translationCreateEvent} onPress={() => {\n                        Navigation.navigateTo(CourseTimetableEvent, {showbackbutton: true, newEvent: true})\n                    }}\n                        label={translationCreateEvent}\n                    >\n                    </MyButton>\n                </View>\n            </View>\n        )\n    }\n\n    let events = parseTimetableEventsToList(timetableEvents);\n\n    function renderContent(){\n        let coursesFound = Object.keys(timetableEvents).length > 0;\n        if(!coursesFound){\n            return renderAnimation()\n        } else {\n            return (\n                <View style={{width: \"100%\", height: \"100%\", flex: 1}}>\n                    <CourseTimetableSchedule\n                        weekStartsOn={firstDayOfWeek}\n                        currentWeekday={DateHelper.getWeekdayToday()}\n                        amountOfDaysToShowOnScreen={amountOfDaysToShowOnScreen}\n                        backgroundColor={backgroundColor}\n                        locale={locale}\n                        events={events}\n                        fromHour={parseInt(startTime)}\n                        toHour={parseInt(endTime)}\n                    />\n                </View>\n            )\n        }\n    }\n\n  return (\n      <BaseNoScrollTemplate route={props?.route} header={<CourseTimetableHeader />} >\n          <View style={{width: \"100%\", height: \"100%\"}}>\n              {renderActions()}\n              {renderContent()}\n          </View>\n      </BaseNoScrollTemplate>\n  )\n}\n","import React, {FunctionComponent, useCallback, useState} from \"react\";\nimport {Input, useTheme, View, Text} from \"native-base\";\nimport {PlatformHelper, useThemeTextColor} from \"../../../kitcheningredients\";\nimport {StringHelper} from \"../../helper/StringHelper\";\n\nexport interface AppState {\n    disabled?: boolean,\n    initialValue?: string,\n    numberOfLinesWeb?: number,\n    numberOfLinesNative?: number,\n    placeholder?: string,\n    leftContent?: any,\n    rightContent?: any\n    inputRef?: any\n    onChangeText?: (string) => Promise<boolean>\n    InputLeftElement?: any\n    InputRightElement?: any\n    onFocus?: any\n    onBlur?: any\n}\n\nexport const TextInputGrowing: FunctionComponent<AppState> = (props) => {\n\n    const [lineHeight, setLineHeight] = useState(0);\n\n    const theme = useTheme();\n    let fontSize = theme[\"fontSizes\"][\"lg\"]\n\n    const textColor = useThemeTextColor();\n\n\n    let defaultInitialValue = \"\";\n    const [textValue, setTextValue] = useState(props?.initialValue || defaultInitialValue);\n\n    const [numberOfLines, setNumberOfLines] = useState(1);\n\n    const numberOfLinesWeb = props?.numberOfLinesWeb;\n    const numberOfLinesNative = props?.numberOfLinesNative;\n    const passedNumberOfLines = PlatformHelper.isWeb() ? numberOfLinesWeb : numberOfLinesNative\n\n    const useNumberOfLines = passedNumberOfLines || numberOfLines\n\n    const handleFocus = useCallback(() => {\n        setNumberOfLines(5);\n    }, [])\n\n    const handleBlur = useCallback(() => {\n        setNumberOfLines(1);\n    }, [])\n\n    const getLineHeight = useCallback((event) => {\n        setLineHeight(event.nativeEvent.layout.height);\n    });\n\n    const maxHeight = Math.round(useNumberOfLines * lineHeight + 0.5*lineHeight);\n\n    if(!lineHeight){\n        return(\n            <View style={{backgroundColor: \"orange\", width: \"100%\"}}>\n                <Text onLayout={getLineHeight}>{\"HI: \"+lineHeight}</Text>\n            </View>\n        )\n    }\n\n    return (\n        <View style={{width: \"100%\"}}>\n            <View style={{width: \"100%\", flexDirection: \"row\"}}>\n                <View style={{flex: 1, maxHeight: maxHeight}}>\n                    <Input\n                        isDisabled={props?.disabled}\n                        style={{\n                            fontSize: fontSize,\n                            color: textColor,\n                            borderWidth: 0,\n                            maxHeight: maxHeight\n                        }}\n\n                        _input={{ // https://github.com/GeekyAnts/NativeBase/issues/5420\n                            selectionColor: textColor,\n                            // @ts-ignore\n                            cursorColor: textColor,\n                            borderWidth: 0,\n                            maxHeight: maxHeight\n                        }}\n\n                        borderWidth={0}\n\n                        value={textValue}\n                        placeholder={props?.placeholder || \"Message...\"}\n                        placeholderTextColor={textColor}\n                        numberOfLines={useNumberOfLines}\n                        onFocus={props?.onFocus || handleFocus}\n                        InputRightElement={props?.InputRightElement}\n                        InputLeftElement={props?.InputLeftElement}\n                        onBlur={props?.onBlur || handleBlur}\n                        multiline={true}\n                        onChangeText={async (text) => {\n                            let success = true;\n                            if(props?.onChangeText){\n                                success = await props?.onChangeText(text);\n                            }\n                            if(success){\n                                setTextValue(text || \"\")\n                            }\n                        }}\n                    />\n                </View>\n            </View>\n        </View>\n\n    )\n}\n","import React, {FunctionComponent, useCallback, useEffect, useState} from \"react\";\nimport {Divider, ScrollView, Spinner, Text, View} from \"native-base\";\nimport {BaseNoScrollTemplate, BasePadding, Icon, ServerAPI, useThemeTextColor} from \"../../../kitcheningredients\";\nimport {useSynchedChatroomsDict} from \"../../helper/synchedJSONState\";\nimport {ConversationHelper} from \"../../components/conversations/ConversationHelper\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {MyTouchableOpacity} from \"../../components/buttons/MyTouchableOpacity\";\nimport {TextInputGrowing} from \"../../components/inputs/TextInputGrowing\";\nimport {useAppTranslation} from \"../../components/translations/AppTranslation\";\n\nexport interface ConversationMessageProps {\n    message: any,\n}\nexport const ConversationMessage: FunctionComponent<ConversationMessageProps> = (props) => {\n\n    const textColor = useThemeTextColor();\n\n    const message = props?.message;\n    let textarea = message?.textarea;\n    let message_date_created = message?.date_created;\n    let renderedDate = DateHelper.formatOfferDateToReadable(message_date_created, true, true);\n\n    let icon = null;\n    if(message?.pending){\n        icon = <Spinner accessibilityLabel=\"Loading posts\" color={textColor} />\n    } else {\n        icon = <Icon name={\"check\"} />;\n    }\n    if(message?.failed){\n        //icon = <Icon name={\"replay\"} /> //TODO implement a retry button?\n        icon = <Icon name={\"replay\"} />\n    }\n    //TODO implement seen by\n    // then use this icon <Icon name={\"check-all\"} />\n\n    let sizeAvatar = 40;\n\n    let itemAvatar = (\n        <View style={{width: sizeAvatar, height: sizeAvatar, backgroundColor: \"orange\", borderRadius: sizeAvatar, overflow: \"hidden\"}}>\n            <Rectangle>\n\n            </Rectangle>\n        </View>\n    )\n    let itemSpacer = (\n        <View style={{width: sizeAvatar/2, height: sizeAvatar/2, backgroundColor: \"transparent\", borderRadius: sizeAvatar/2, overflow: \"hidden\"}}>\n            <Rectangle>\n\n            </Rectangle>\n        </View>\n    )\n\n    let itemLeft = null;\n    let itemRight = null;\n\n    let isOther = true;\n    if(isOther){\n        itemLeft = itemAvatar;\n        itemRight = itemSpacer;\n    } else {\n        itemLeft = itemSpacer;\n        itemRight = itemAvatar;\n    }\n\n    return (\n        <View style={{flexDirection: \"row\", paddingBottom: 10}}>\n            {itemLeft}\n            <View style={{marginHorizontal: 10, flex: 1, backgroundColor: \"gray\", borderRadius: 10, paddingHorizontal: 10}}>\n                <View style={{width: \"100%\"}}>\n                    <Text>{textarea}</Text>\n                </View>\n                <View style={{width: \"100%\", alignItems: \"flex-end\", flex: 1, justifyContent: \"flex-end\"}}>\n                    <View style={{flexDirection: \"row\"}}>\n                        {icon}\n                        <Text fontSize={\"sm\"} italic={true}>{renderedDate}</Text>\n                    </View>\n                </View>\n            </View>\n            {itemRight}\n        </View>\n    )\n\n}\n","import React, {FunctionComponent, useCallback, useEffect, useRef, useState} from \"react\";\nimport {Divider, ScrollView, Spinner, Text, View} from \"native-base\";\nimport {BaseNoScrollTemplate, BasePadding, BaseTemplate, Icon, ServerAPI, useThemeTextColor} from \"../../../kitcheningredients\";\nimport {useDemoMode, useSynchedChatroomsDict} from \"../../helper/synchedJSONState\";\nimport {ConversationHelper} from \"../../components/conversations/ConversationHelper\";\nimport Rectangle from \"../../helper/Rectangle\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {MyTouchableOpacity} from \"../../components/buttons/MyTouchableOpacity\";\nimport {TextInputGrowing} from \"../../components/inputs/TextInputGrowing\";\nimport {useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {ConversationMessage} from \"./ConversationMessage\";\nimport {FoodListHeader} from \"../../components/food/FoodListHeader\";\nimport {FoodCardListComponent} from \"../../components/food/FoodCardListComponent\";\nimport {NotFound} from \"../animations/NotFound\";\nimport {NoFoodOffersFound} from \"../../components/food/NoFoodOffersFound\";\n\nexport const ConversationComponent: FunctionComponent = (props) => {\n\n    const [demo, setDemo] = useDemoMode();\n\n    // Gifted-Chat is not working: https://www.npmjs.com/package/react-native-gifted-chat\n\n    const id = props?.route?.params?.id;\n\n    const scrollViewRef = useRef();\n\n    const reloadAllChatrooms = ConversationHelper.useReloadAllChatrooms()\n    const chatroom = ConversationHelper.useChatroom(id);\n    const chatroomID = chatroom?.id;\n    const chatroom_messages = chatroom?.messages || []\n\n    const directus = ServerAPI.getClient();\n\n    const textColor = useThemeTextColor();\n\n    const placeholder = useAppTranslation(\"conversationWriteAMessage\");\n\n    const [startedAtBottom, setStartedAtBottom] = useState(false);\n    const [textValue, setTextValue] = useState(\"\");\n    const [reloadNumber, setReloadNumber] = useState(0);\n\n    let [pending_chatroom_messages_dict, set_pending_chatroom_messages_dict] = useState({});\n    let [currently_sending_message_key, setCurrentlySendingMessage_key] = useState(undefined);\n\n    const sleep = ms => new Promise(resolve => setTimeout(resolve, ms))\n\n    useEffect(() => {\n        const sendMessages = async () => {\n            if(!currently_sending_message_key){ // we lock our action, so writing two messages fast wont clash\n                let pendingKeys = Object.keys(pending_chatroom_messages_dict || {});\n                try {\n                    let firstPendingMessageKeyWhichIsUnfailed = null;\n                    for(let i=0; i<pendingKeys.length && !firstPendingMessageKeyWhichIsUnfailed; i++){\n                        let pendingKey = pendingKeys[0];\n                        let pendingMessage = pending_chatroom_messages_dict[pendingKey];\n                        if(isPendingMessageNotFailed(pendingMessage)){\n                            firstPendingMessageKeyWhichIsUnfailed = pendingKey;\n                            break;\n                        }\n                    }\n                    setCurrentlySendingMessage_key(firstPendingMessageKeyWhichIsUnfailed);\n                    if(firstPendingMessageKeyWhichIsUnfailed){\n                        let firstPendingMessageWhichIsUnfailed = JSON.parse(JSON.stringify(pending_chatroom_messages_dict[firstPendingMessageKeyWhichIsUnfailed]));\n\n                        let result = await directus.items(ConversationHelper.getChatroomMessagesTablename()).createOne({\n                            textarea: firstPendingMessageWhichIsUnfailed.textarea,\n                            chatroom: chatroomID\n                        })\n\n                        let copy_pending_chatroom_messages_dict = JSON.parse(JSON.stringify(pending_chatroom_messages_dict))\n                        if(!!result){ //on success creation\n                            // we dont add the newCreated message directly, since maybe someone else create a message to. Instead we will reload all chatmessages\n                            delete copy_pending_chatroom_messages_dict[firstPendingMessageKeyWhichIsUnfailed];\n                        } else { // on failed creation\n                            firstPendingMessageWhichIsUnfailed.failed = true;\n                            copy_pending_chatroom_messages_dict[firstPendingMessageKeyWhichIsUnfailed] = firstPendingMessageWhichIsUnfailed;\n                        }\n\n                        set_pending_chatroom_messages_dict(copy_pending_chatroom_messages_dict) // we want to trigger a reload of the useEffect function. Maybe the user wrote already another message we need to send\n\n                        await reloadAllChatrooms(); // we will reload the chat, since maybe someone else postet it\n                    }\n                    setCurrentlySendingMessage_key(undefined);\n                } catch (error) {\n                    console.error('Failed to send messages', error);\n                }\n            }\n        };\n\n        sendMessages();\n    }, [JSON.stringify(pending_chatroom_messages_dict), currently_sending_message_key]);\n\n\n    function isPendingMessageNotFailed(message){\n        return !message?.failed;\n    }\n\n    function renderMessages(){\n        let output = [];\n        for(let i=0; i<chatroom_messages.length; i++){\n            const message = chatroom_messages[i];\n            output.push(<ConversationMessage message={message} />)\n        }\n        let pendingKeys = Object.keys(pending_chatroom_messages_dict);\n        for(let i=0; i<pendingKeys.length; i++){\n            let pendingKey = pendingKeys[i];\n            let message = pending_chatroom_messages_dict[pendingKey];\n            output.push(<ConversationMessage message={message} />);\n        }\n        return output;\n    }\n\n    const submitMessage = useCallback(() => {\n        let currentMessage = \"\"+textValue; // make a message copy\n        resetTextInput();\n        addMessageAsPending(currentMessage);\n    }, [textValue])\n\n    function addMessageAsPending(currentMessage){\n        let date = new Date();\n        let newMessage = {\n            textarea: currentMessage,\n            pending: true,\n            date_created: date\n        }\n        let copy_pending_chatroom_messages_dict = JSON.parse(JSON.stringify(pending_chatroom_messages_dict))\n        copy_pending_chatroom_messages_dict[date.toISOString()] = newMessage\n        set_pending_chatroom_messages_dict(copy_pending_chatroom_messages_dict);\n    }\n\n    function resetTextInput(){\n        setReloadNumber(reloadNumber+1);\n    }\n\n    function renderTextInput(){\n        return(\n            <View style={{width: \"100%\", flexDirection: \"row\", borderRadius: 20, borderWidth: 1, borderColor: textColor}}>\n                <View style={{flex: 1, padding: 8, overflow: \"hidden\"}}>\n                    <TextInputGrowing disabled={demo} placeholder={placeholder} key={reloadNumber} onChangeText={(text) => {\n                        setTextValue(text)\n                        return true;\n                    }} />\n                </View>\n                <View style={{justifyContent: \"center\", alignItems: \"flex-start\", paddingLeft: 8, paddingRight: 8}}>\n                    <MyTouchableOpacity disabled={demo} onPress={submitMessage} accessibilityLabel={\"send\"} >\n                        <View><Icon name={\"send\"} /></View>\n                    </MyTouchableOpacity>\n                </View>\n            </View>\n        )\n    }\n\n  return (\n      <BasePadding>\n          <ScrollView style={{width: \"100%\"}}\n                      ref={scrollViewRef}\n                      onContentSizeChange={() => {\n                          if(!startedAtBottom){\n                              scrollViewRef?.current?.scrollToEnd({ animated: false })\n                              setStartedAtBottom(true);\n                          }\n                      }}\n          >\n              {renderMessages()}\n          </ScrollView>\n          {renderTextInput()}\n      </BasePadding>\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {ConversationHelper} from \"./ConversationHelper\";\nimport {HeaderWithActions} from \"../../../kitcheningredients\";\n\nexport const ConversationHeader: FunctionComponent = (props) => {\n\n\tconst id = props?.route?.params?.id;\n\n\tconst reloadAllChatrooms = ConversationHelper.useReloadAllChatrooms()\n\tconst chatroom = ConversationHelper.useChatroom(id);\n\tconst topicTitle = ConversationHelper.useChatroomTopicTitleByChatroomId(id)\n\n\n\treturn(\n\t\t<HeaderWithActions route={props?.route} title={topicTitle} renderActions={null} renderCustomBottom={null} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {View} from \"native-base\";\nimport {BaseNoScrollTemplate} from \"../../../kitcheningredients\";\nimport {ConversationComponent} from \"../../components/conversations/ConversationComponent\";\nimport {ConversationHeader} from \"../../components/conversations/ConversationHeader\";\n\nexport const Conversation: FunctionComponent = (props) => {\n\n\n  return (\n      <View style={{width: \"100%\", height: \"100%\"}}>\n          <BaseNoScrollTemplate header={<ConversationHeader route={props.route} />} route={props.route} >\n              <ConversationComponent route={props.route} />\n          </BaseNoScrollTemplate>\n      </View>\n  )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n\tcolor?,\n\taccessibilityLabel?: string,\n}\nexport const ReloadIcon: FunctionComponent<AppState> = (props) => {\n\n\tlet iconName = \"reload\"\n\n\treturn(\n\t\t<Icon name={iconName} color={props.color} accessibilityLabel={props?.accessibilityLabel} />\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {HeaderWithActions} from \"../../../kitcheningredients\";\nimport {useAppTranslation} from \"../translations/AppTranslation\";\nimport {ReloadIcon} from \"../icons/ReloadIcon\";\nimport {MyTouchableOpacity} from \"../buttons/MyTouchableOpacity\";\n\nexport interface AppState{\n\troute: any\n\tonRefresh: () => void,\n\trefreshing: boolean,\n}\nexport const ConversationsHeader: FunctionComponent<AppState> = (props) => {\n\n\tconst translationReload = useAppTranslation(\"reload\");\n\tconst onRefresh = props?.onRefresh;\n\n\tfunction renderActions(){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<MyTouchableOpacity\n\t\t\t\t\tdisabled={props?.refreshing}\n\t\t\t\t\taccessibilityLabel={translationReload}\n\t\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\t\tif(onRefresh){\n\t\t\t\t\t\t\t\t\tonRefresh();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<ReloadIcon accessibilityLabel={translationReload} />\n\t\t\t\t</MyTouchableOpacity>\n\t\t\t</>\n\t\t)\n\t}\n\n\treturn(\n\t\t<HeaderWithActions route={props?.route} title={null} renderActions={renderActions} renderCustomBottom={null} />\n\t)\n}\n","import React, {FunctionComponent, useState} from \"react\";\nimport {Divider, ScrollView, Text, useToast, View} from \"native-base\";\nimport {BaseNoScrollTemplate} from \"../../../kitcheningredients\";\nimport {useSynchedChatroomsDict} from \"../../helper/synchedJSONState\";\nimport {useMyFocusHandler} from \"../../helper/useMyFocusHandler\";\nimport {RefreshControl} from \"react-native\";\nimport {MyReloadButton} from \"../../components/buttons/MyReloadButton\";\nimport {Conversation} from \"./Conversation\";\nimport {DateHelper} from \"../../helper/DateHelper\";\nimport {StringHelper} from \"../../helper/StringHelper\";\nimport {ConversationHelper} from \"../../components/conversations/ConversationHelper\";\nimport {useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {SettingsRowNavigator} from \"../../components/settings/SettingsRowNavigator\";\nimport {ConversationsHeader} from \"../../components/conversations/ConversationsHeader\";\n\nexport const Conversations: FunctionComponent = (props) => {\n\n    const [chatroomsDict, setChatroomsDict] = useSynchedChatroomsDict();\n    const reloadAllChatrooms = ConversationHelper.useReloadAllChatrooms()\n    const toast = useToast();\n\n    const translationReload = useAppTranslation(\"reload\");\n    const translationSuccess = useAppTranslation(\"success\");\n    const translationError = useAppTranslation(\"error\");\n\n    const translationConversation = useAppTranslation(\"conversation\")\n\n    const [refreshing, setRefreshing] = React.useState(false);\n\n    const [counter, setCounter] = useState(0)\n\n    const amountOfLines = 2;\n\n    useMyFocusHandler(() => { // This is called when the tab/app is focused\n        setCounter(counter+1);\n        //TODO:\n        // reload Chatrooms?\n    }, [])\n\n    const onRefresh = React.useCallback(async () => {\n        setRefreshing(true);\n        try{\n            await reloadAllChatrooms();\n            toast.show({\n                description: translationReload+\": \"+translationSuccess\n            });\n        } catch (err){\n            toast.show({\n                description: translationError\n            });\n        }\n        setRefreshing(false);\n    }, []);\n\n    function renderSpacer(){\n        let spacer = [];\n        for(let i=0; i<amountOfLines; i++){\n            spacer.push(<Text>{StringHelper.EMPTY_SPACE}</Text>)\n        }\n        return \t<View style={{opacity: 0}}>\n            {spacer}\n        </View>;\n    }\n\n    function renderConversationPreview(id){\n        let chatroom = ConversationHelper.useChatroom(id);\n        let chatroom_messages = chatroom?.messages;\n        let topicTitle = ConversationHelper.useChatroomTopicTitleByChatroomId(id)\n\n        let chatroom_messages_last = chatroom_messages?.[chatroom_messages?.length-1];\n        let chatroom_messages_last_text = chatroom_messages_last?.textarea || \"\";\n        let last_text_without_line_break = StringHelper.replaceAllLineBreaks(chatroom_messages_last_text, \" \");\n        let chatroom_messages_last_text_date_created = chatroom_messages_last?.date_created;\n\n        let renderedDate = DateHelper.formatOfferDateToReadable(chatroom_messages_last_text_date_created, true);\n\n        let content = (\n            <View style={{width: \"100%\", flexDirection: \"row\"}}>\n                <View style={{flex: 1}}>\n                    <View style={{width: \"100%\"}}>\n                        <Text bold={true} numberOfLines={1}>{topicTitle}</Text>\n                    </View>\n                    <View style={{width: \"100%\", flexDirection: \"row\"}}>\n                        {renderSpacer()}\n                        <Text numberOfLines={amountOfLines}>{last_text_without_line_break}</Text>\n                    </View>\n                </View>\n                <View style={{justifyContent: \"flex-start\"}}>\n                    <View>\n                        <Text fontSize={\"sm\"} italic={true} numberOfLines={1}>\n                            {renderedDate}\n                        </Text>\n                    </View>\n                </View>\n            </View>\n        )\n\n        return (\n            <SettingsRowNavigator destinationComponent={Conversation} accessibilityLabel={translationConversation} destinationParams={{id: id}} leftContent={content} />\n        )\n    }\n\n    function renderConversations(){\n        let ids = Object.keys(chatroomsDict);\n        let output = [];\n        for(let i=ids.length-1; i>=0; i--){\n            let id = ids[i];\n            output.push(renderConversationPreview(id));\n            output.push(<Divider/>)\n        }\n        return(\n            output\n        )\n    }\n\n    return (\n      <BaseNoScrollTemplate route={props?.route} header={<ConversationsHeader route={props.route} refreshing={refreshing} onRefresh={onRefresh} />} >\n          <View style={{width: \"100%\", height: \"100%\"}}>\n              <ScrollView refreshControl={<RefreshControl refreshing={refreshing} onRefresh={onRefresh} />} >\n                  {renderConversations()}\n              </ScrollView>\n          </View>\n      </BaseNoScrollTemplate>\n  )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {Icon} from \"../../../kitcheningredients\";\n\nexport interface AppState{\n    color?: string\n    size?: string\n}\nexport const ConversationIcon: FunctionComponent<AppState> = (props) => {\n\n  return (\n      <Icon name={\"chat\"} color={props.color} />\n  )\n}\n","import React, {useEffect} from \"react\";\nimport {ConfigHolder, Icon, MenuItem, Navigation} from \"../../../kitcheningredients\";\n\nimport {MaterialIcons} from \"@expo/vector-icons\";\nimport {getAccountBalanceVisiblity} from \"../../components/accountBalance/AccountBalanceHelper\";\nimport {WikiMenuContent} from \"../../screens/wiki/WikiMenuContent\";\nimport {WikiLoader} from \"../../components/wiki/WikiLoader\";\nimport {useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {NewsList} from \"../../screens/news/NewsList\";\nimport {AccountBalance} from \"../../screens/accountBalance/AccountBalance\";\nimport {NewsIcon} from \"../../components/news/NewsIcon\";\nimport {AccountBalanceIcon} from \"../../components/accountBalance/AccountBalanceIcon\";\nimport Project from \"../../Project\";\nimport {Wikis} from \"../../screens/wiki/Wikis\";\nimport {\n\tuseDebugMode, useSynchedChatroomsSettings,\n\tuseSynchedSettingsBuildings,\n\tuseSynchedSettingsFoods,\n\tuseSynchedSettingsNews,\n\tuseSynchedWikis\n} from \"../synchedJSONState\";\nimport {BuildingsScreen} from \"../../screens/buildings/BuildingsScreen\";\nimport {BuildingsIcon} from \"../../components/buildings/BuildingsIcon\";\nimport {StringHelper} from \"../StringHelper\";\nimport {HousingHelper} from \"../../components/housing/HousingHelper\";\nimport {HousingScreen} from \"../../screens/housing/HousingScreen\";\nimport {HousingIcon} from \"../../components/housing/HousingIcon\";\nimport {getCourseTimetableVisiblity} from \"../../components/courseTimetable/CourseTimetableHelper\";\nimport {CourseTimetable} from \"../../screens/courseTimetable/CourseTimetable\";\nimport {CourseTimetableIcon} from \"../../components/courseTimetable/CourseTimetableIcon\";\nimport {Conversations} from \"../../screens/conversations/Conversations\";\nimport {ConversationIcon} from \"../../components/conversations/ConversationIcon\";\nimport {FoodOfferList} from \"../../screens/food/FoodOfferList\";\nimport {CanteenIcon} from \"../../components/canteen/CanteenIcon\";\nimport {CommonSystemActionHelper} from \"../SystemActionHelper\";\nimport {RoleHelper} from \"../RoleHelper\";\nimport {DirectusRoles} from \"../../directusTypes/types\";\n\nexport const SyncMenuLoader = (props) => {\n\tconst setSyncedMenu = props?.setSyncedMenu || (() => {});\n\n\tconst accountBalanceVisiblity = getAccountBalanceVisiblity();\n\tconst courseTimetableVisiblity = getCourseTimetableVisiblity();\n\n\tconst [settingsChatrooms, setSettingsChatrooms] = useSynchedChatroomsSettings();\n\tconst chatroomsVisibility = settingsChatrooms?.[\"enabled\"]\n\tconst [foodSettings, setFoodSettings] = useSynchedSettingsFoods();\n\tconst foodVisibility = foodSettings?.[\"enabled\"]\n\tconst [newsSettings, setNewsSettings] = useSynchedSettingsNews();\n\tconst newsVisibility = newsSettings?.[\"enabled\"];\n\n\tconst [buildingsSettings, setBuildingsSettings] = useSynchedSettingsBuildings();\n\tconst buildingsVisibility = buildingsSettings?.[\"enabled\"]\n\n\tconst translationScreenNameAccountBalance = useAppTranslation(\"screenNameAccountBalance\")\n\tconst translationScreenNameCourseTimetable = useAppTranslation(\"screenNameCourseTimetable\")\n\tconst translationScreenNameFoods = useAppTranslation(\"screenNameFoods\")\n\tconst translationScreenNameNews = useAppTranslation(\"news\")\n\tconst translationScreenNameHousing = useAppTranslation(\"housing\")\n\tconst translationScreenNameBuildings = useAppTranslation(\"buildings\")\n\tconst translationScreenNameConversations = useAppTranslation(\"conversations\")\n\n\tconst translationScreenNameLegalRequirements = useAppTranslation(\"legalRequirements\")\n\n\tconst housingVisibility = HousingHelper.useHousingVisiblity();\n\tconst [debug, setDebug] = useDebugMode()\n\tconst [wikis, setWikis, useWikiByIdOrCustomId, useWikiTitle] = useSynchedWikis();\n\n\tconst wiki_title_about_us = useWikiTitle(null, \"about_us\")\n\tconst wiki_title_license = useWikiTitle(null, \"license\")\n\tconst wiki_title_privacy_policy = useWikiTitle(null, \"privacy_policy\");\n\tconst wiki_title_accessibility = useWikiTitle(null, \"accessibility\");\n\n\n\tfunction getMenuItemFromWiki(wiki){\n\t\tlet items = [];\n\t\tlet children = wiki?.children || [];\n\t\tfor(let child of children){\n\t\t\titems.push(getMenuItemFromWiki(child));\n\t\t}\n\n\t\tlet content = <WikiMenuContent wiki={wiki} />;\n\n\t\tlet icon = wiki?.icon;\n\t\tlet renderIcon = undefined;\n\t\tif(icon){\n\t\t\tlet transformedIcon = StringHelper.replaceAll(icon, \"_\", \"-\") // Directus gives us underscores, but we need dashes\n\t\t\trenderIcon = () => <Icon as={MaterialIcons} name={transformedIcon} />\n\t\t}\n\n\t\tlet command = () => {Navigation.navigateTo(Wikis, {id: wiki?.id})}\n\t\tif(wiki?.url){\n\t\t\tcommand = () => {\n\t\t\t\tCommonSystemActionHelper.openExternalURL(wiki?.url)\n\t\t\t}\n\t\t}\n\n\t\tlet menu = new MenuItem({\n\t\t\tkey: \"wiki\"+wiki?.id,\n\t\t\tcontent: content,\n\t\t\tcommand: command,\n\t\t\ticon: renderIcon,\n\t\t})\n\t\tmenu.addChildMenuItems(items);\n\t\treturn menu;\n\t}\n\n\tfunction loadLegalRequirementMenus(){\n\t\tlet legalMenuItems = Navigation.menuGetRequiredMenuDict();\n\n\t\tlet legalMenuItemChildTitleMapping = {\n\t\t\t[Navigation.DEFAULT_MENU_KEY_ABOUT_US]: wiki_title_about_us,\n\t\t\t[Navigation.DEFAULT_MENU_KEY_LICENSE]: wiki_title_license,\n\t\t\t[Navigation.DEFAULT_MENU_KEY_PRIVACY_POLICY]: wiki_title_privacy_policy,\n\t\t\t[Navigation.DEFAULT_MENU_KEY_ACCESSIBILITY]: wiki_title_accessibility,\n\t\t}\n\n\t\tlet legalMenuItemsKeys = Object.keys(legalMenuItems)\n\t\tfor(let legalMenuItemKey of legalMenuItemsKeys){\n\t\t\tlet legalMenuItem = legalMenuItems[legalMenuItemKey]\n\t\t\tlet title_translation = legalMenuItemChildTitleMapping[legalMenuItemKey];\n\t\t\tif(!!title_translation && !!legalMenuItem){\n\t\t\t\tlegalMenuItem.label = title_translation;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction canSeeEmployeeMenu(role: DirectusRoles){\n\t\treturn RoleHelper.isAdmin(role) || RoleHelper.isEmployee(role)\n\t}\n\n\tfunction loadMenus(){\n\n\t\tloadLegalRequirementMenus();\n\n\n/**\n\t\tlet registeredMenuKeys = Object.keys(registeredMenus);\n\t\tfor (let menuKey of registeredMenuKeys) {\n\t\t\tMenu.unregisterMenuForRoleId(Menu.ROLE_PUBLIC, registeredMenus[menuKey]);\n\t\t\tdelete registeredMenus[menuKey];\n\t\t}\n*/\n\n\t\tlet user = ConfigHolder.instance.getUser();\n\t\tlet role = ConfigHolder.instance.getRole();\n\n\t\tif(!!user){ // user needs atleast to be anonymous, guest or logged in, to see the wiki items\n\t\t\tlet wikisMenuItems = WikiLoader.getWikisMenuItems(wikis);\n\t\t\tif (!!wikisMenuItems) {\n\t\t\t\tfor (let wiki of wikisMenuItems) {\n\t\t\t\t\tlet menu = getMenuItemFromWiki(wiki);\n\t\t\t\t\tNavigation.menuRegister(menu);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(foodVisibility){\n\t\t\t\tlet menuItem = new MenuItem({\n\t\t\t\t\tkey: \"foods\",\n\t\t\t\t\tlabel: translationScreenNameFoods,\n\t\t\t\t\tcommand: () => {Navigation.navigateTo(FoodOfferList)},\n\t\t\t\t\ticon: () => <CanteenIcon />,\n\t\t\t\t\tposition: 6,\n\t\t\t\t})\n\t\t\t\tNavigation.menuRegister(menuItem);\n\t\t\t}\n\n\t\t\tif(accountBalanceVisiblity){\n\t\t\t\tlet menuItem = new MenuItem({\n\t\t\t\t\tkey: \"accountBalance\",\n\t\t\t\t\tlabel: translationScreenNameAccountBalance,\n\t\t\t\t\tcommand: () => {Navigation.navigateTo(AccountBalance)},\n\t\t\t\t\ticon: () => <AccountBalanceIcon />,\n\t\t\t\t\tposition: 5,\n\t\t\t\t})\n\t\t\t\tNavigation.menuRegister(menuItem);\n\t\t\t}\n\n\t\t\tif(courseTimetableVisiblity){\n\t\t\t\tlet menuItem = new MenuItem({\n\t\t\t\t\tkey: \"courseTimetable\",\n\t\t\t\t\tlabel: translationScreenNameCourseTimetable,\n\t\t\t\t\tcommand: () => {Navigation.navigateTo(CourseTimetable)},\n\t\t\t\t\ticon: () => <CourseTimetableIcon />,\n\t\t\t\t\tposition: 4,\n\t\t\t\t})\n\t\t\t\tNavigation.menuRegister(menuItem);\n\t\t\t}\n\n\t\t\tif(newsVisibility){\n\t\t\t\tlet menuItem = new MenuItem({\n\t\t\t\t\tkey: \"news\",\n\t\t\t\t\tlabel: translationScreenNameNews,\n\t\t\t\t\tcommand: () => {Navigation.navigateTo(NewsList)},\n\t\t\t\t\ticon: () => <NewsIcon />,\n\t\t\t\t\tposition: 3,\n\t\t\t\t})\n\t\t\t\tNavigation.menuRegister(menuItem);\n\t\t\t}\n\n\t\t\tif(housingVisibility){\n\t\t\t\tlet menuItem = new MenuItem({\n\t\t\t\t\tkey: \"housing\",\n\t\t\t\t\tlabel: translationScreenNameHousing,\n\t\t\t\t\tcommand: () => {Navigation.navigateTo(HousingScreen)},\n\t\t\t\t\ticon: () => <HousingIcon />,\n\t\t\t\t\tposition: 2,\n\t\t\t\t})\n\t\t\t\tNavigation.menuRegister(menuItem);\n\t\t\t}\n\n\t\t\tif(buildingsVisibility){\n\t\t\t\tlet menuItem = new MenuItem({\n\t\t\t\t\tkey: \"buildings\",\n\t\t\t\t\tlabel: translationScreenNameBuildings,\n\t\t\t\t\tcommand: () => {Navigation.navigateTo(BuildingsScreen)},\n\t\t\t\t\ticon: () => <BuildingsIcon />,\n\t\t\t\t\tposition: 1,\n\t\t\t\t})\n\t\t\t\tNavigation.menuRegister(menuItem);\n\t\t\t}\n\n\t\t\tlet conversationsVisibility = chatroomsVisibility;\n\t\t\tif(conversationsVisibility){\n\t\t\t\tlet menuItem = new MenuItem({\n\t\t\t\t\tkey: \"conversations\",\n\t\t\t\t\tlabel: translationScreenNameConversations,\n\t\t\t\t\tcommand: () => {Navigation.navigateTo(Conversations)},\n\t\t\t\t\ticon: () => <ConversationIcon />,\n\t\t\t\t\tposition: 1,\n\t\t\t\t})\n\t\t\t\tNavigation.menuRegister(menuItem);\n\t\t\t}\n\n\t\t\tif(canSeeEmployeeMenu(role)){\n\t\t\t\tNavigation.menuRegister(Project.getEmployeeMenu());\n\t\t\t}\n\n\t\t\tif(debug){\n\t\t\t\tlet menuItem = Project.getDebugMenu()\n\t\t\t\tNavigation.menuRegister(menuItem);\n\t\t\t}\n\t\t}\n\n\t\tsetSyncedMenu(true);\n\t}\n\n\tuseEffect(() => {\n\t\tloadMenus();\n\t}, [props, debug, wikis]);\n\n\treturn null;\n\n}\n","import {ServerAPI} from \"../../../kitcheningredients\";\n\nexport class RemoteDirectusSettingsLoader{\n\n\tstatic async getRemoteDirectusSettings(): Promise<any>{\n\t\tconst directus = ServerAPI.getClient();\n\t\ttry{\n\t\t\tlet answer = await directus.settings.read()\n\t\t\treturn answer;\n\t\t} catch (err){\n\t\t\t//console.log(err);\n\t\t}\n\t\treturn null;\n\t}\n\n}\n","/**\n * Copied values from Code-Push-Package\n */\nenum InstallMode {\n    /**\n     * Indicates that you want to install the update and restart the app immediately.\n     */\n    IMMEDIATE,\n\n    /**\n     * Indicates that you want to install the update, but not forcibly restart the app.\n     */\n    ON_NEXT_RESTART,\n\n    /**\n     * Indicates that you want to install the update, but don't want to restart the app until the next time\n     * the end user resumes it from the background. This way, you don't disrupt their current session,\n     * but you can get the update in front of them sooner then having to wait for the next natural restart.\n     * This value is appropriate for silent installs that can be applied on resume in a non-invasive way.\n     */\n    ON_NEXT_RESUME,\n\n    /**\n     * Indicates that you want to install the update when the app is in the background,\n     * but only after it has been in the background for \"minimumBackgroundDuration\" seconds (0 by default),\n     * so that user context isn't lost unless the app suspension is long enough to not matter.\n     */\n    ON_NEXT_SUSPEND\n}\n\n/**\n * Indicates the current status of a sync operation.\n */\nenum SyncStatus {\n    /**\n     * The app is up-to-date with the CodePush server.\n     */\n    UP_TO_DATE,\n\n    /**\n     * An available update has been installed and will be run either immediately after the\n     * syncStatusChangedCallback function returns or the next time the app resumes/restarts,\n     * depending on the InstallMode specified in SyncOptions\n     */\n    UPDATE_INSTALLED,\n\n    /**\n     * The app had an optional update which the end user chose to ignore.\n     * (This is only applicable when the updateDialog is used)\n     */\n    UPDATE_IGNORED,\n\n    /**\n     * The sync operation encountered an unknown error.\n     */\n    UNKNOWN_ERROR,\n\n    /**\n     * There is an ongoing sync operation running which prevents the current call from being executed.\n     */\n    SYNC_IN_PROGRESS,\n\n    /**\n     * The CodePush server is being queried for an update.\n     */\n    CHECKING_FOR_UPDATE,\n\n    /**\n     * An update is available, and a confirmation dialog was shown\n     * to the end user. (This is only applicable when the updateDialog is used)\n     */\n    AWAITING_USER_ACTION,\n\n    /**\n     * An available update is being downloaded from the CodePush server.\n     */\n    DOWNLOADING_PACKAGE,\n\n    /**\n     * An available update was downloaded and is about to be installed.\n     */\n    INSTALLING_UPDATE\n}\n\n/**\n * Indicates the state that an update is currently in.\n */\nenum UpdateState {\n    /**\n     * Indicates that an update represents the\n     * version of the app that is currently running.\n     */\n    RUNNING,\n\n    /**\n     * Indicates than an update has been installed, but the\n     * app hasn't been restarted yet in order to apply it.\n     */\n    PENDING,\n\n    /**\n     * Indicates than an update represents the latest available\n     * release, and can be either currently running or pending.\n     */\n    LATEST\n}\n\n/**\n * Indicates the status of a deployment (after installing and restarting).\n */\nenum DeploymentStatus {\n    /**\n     * The deployment failed (and was rolled back).\n     */\n    FAILED,\n\n    /**\n     * The deployment succeeded.\n     */\n    SUCCEEDED\n}\n\n/**\n * Indicates when you would like to check for (and install) updates from the CodePush server.\n */\nenum CheckFrequency {\n    /**\n     * When the app is fully initialized (or more specifically, when the root component is mounted).\n     */\n    ON_APP_START,\n\n    /**\n     * When the app re-enters the foreground.\n     */\n    ON_APP_RESUME,\n\n    /**\n     * Don't automatically check for updates, but only do it when codePush.sync() is manully called inside app code.\n     */\n    MANUAL\n}\n\nexport class CodePushValues{\n    static readonly InstallMode = InstallMode;\n    static readonly SyncStatus = SyncStatus;\n    static readonly UpdateState = UpdateState;\n    static readonly DeploymentStatus = DeploymentStatus;\n    static readonly CheckFrequency = CheckFrequency;\n\n    static getStatusMessage(status) {\n        switch (status) {\n            case CodePushValues.SyncStatus.CHECKING_FOR_UPDATE:\n                return 'Checking for updates.'\n            case CodePushValues.SyncStatus.DOWNLOADING_PACKAGE:\n                return 'Downloading package.'\n            case CodePushValues.SyncStatus.INSTALLING_UPDATE:\n                return 'Installing update.'\n            case CodePushValues.SyncStatus.UP_TO_DATE:\n                return 'Up-to-date.'\n            case CodePushValues.SyncStatus.UPDATE_INSTALLED:\n                return 'Update installed.'\n            default:\n                return null;\n        }\n    }\n\n    static isNetworkError(status){\n        return status === CodePushValues.SyncStatus.UNKNOWN_ERROR\n    }\n\n    static isSyncingFinished(status) {\n        return (\n            status === CodePushValues.SyncStatus.CHECKING_FOR_UPDATE ||  //while checking for an update keep going\n            status === CodePushValues.SyncStatus.UP_TO_DATE || //while obviously we are up to date\n            status === CodePushValues.SyncStatus.UPDATE_INSTALLED || // or an update was installed\n            CodePushValues.isNetworkError(status) // or a network error occurred\n        )\n    }\n}\n","import {useColorMode, View} from \"native-base\";\nimport {CrossLottie, ServerAPI} from \"../../kitcheningredients\";\nimport rocketWhite from \"../assets/rocket-white.json\"\nimport Rectangle from \"../helper/Rectangle\";\nimport {ServerInfoHelper} from \"../../kitcheningredients/helper/ServerInfoHelper\";\nimport {ViewPercentageBorderradius} from \"../helper/ViewPercentageBorderradius\";\nimport React from \"react\";\nimport {ProjectColoredCrossLottie} from \"./animations/ProjectColoredCrossLottie\";\n\nexport const AnimatedLogo = (props) => {\n\n\tlet serverInfo = ServerAPI.tempStore.serverInfo\n\tlet color = ServerInfoHelper.getProjectColor(serverInfo);\n\n\tconst { colorMode, toggleColorMode } = useColorMode();\n\tlet source=rocketWhite\n\n\treturn(\n\t\t\t<ViewPercentageBorderradius style={{width: \"100%\", borderRadius: \"5%\", backgroundColor: color, padding: \"10%\", marginBottom: \"10%\"}}>\n\t\t\t\t<Rectangle>\n\t\t\t\t\t<View style={{width: \"100%\", height: \"100%\", justifyContent: \"center\", alignItems: \"center\"}}>\n\t\t\t\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t\t\t\t<View style={{marginBottom: \"10%\"}}>\n\t\t\t\t\t\t\t\t<Rectangle>\n\t\t\t\t\t\t\t\t\t<ProjectColoredCrossLottie key={colorMode} source={source} flex={1} />\n\t\t\t\t\t\t\t\t</Rectangle>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t</Rectangle>\n\t\t\t</ViewPercentageBorderradius>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {View} from \"react-native\";\nimport {CodePushValues} from \"./CodePushValues\";\nimport {Progress, Text} from \"native-base\";\nimport {AnimatedLogo} from \"../components/AnimatedLogo\";\nimport {ColorHelper} from \"../helper/ColorHelper\";\n\ninterface AppState {\n    downloadAnimation?: FunctionComponent;\n  receivedBytes?: any;\n  totalBytes?: any;\n  ignoreBytes?: boolean\n  status?: any;\n  message?: string;\n  initialColorMode?: any;\n}\nexport const UpdateScreen: FunctionComponent<AppState> = (props) => {\n\n    const bgColor = ColorHelper.useBackgroundColor()\n\n    function hasDownloadInformations(){\n        if(!!props?.ignoreBytes){\n            return true;\n        }\n\n        return !!props.receivedBytes && !isNaN(props.receivedBytes) && !!props.totalBytes && !isNaN(props.totalBytes);\n    }\n\n    function formatBytes(bytes, decimals = 0) {\n        if (bytes === 0) return '0 Bytes';\n\n        const k = 1024;\n        const dm = decimals < 0 ? 0 : decimals;\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    }\n\n    let message = CodePushValues.getStatusMessage(props.status);\n\n    function renderProgressBar(percentage){\n        return(\n            <Progress width={\"100%\"} shadow={2} value={percentage} />\n        )\n    }\n\n    function getDownloadPercentage(receivedBytes, totalBytes){\n        let value = 0;\n        if(!receivedBytes && !totalBytes){\n            return 0;\n        }\n\n        value = Math.round(100 * receivedBytes / totalBytes);\n        value = Math.max(value, 0)\n        value = Math.min(value, 100)\n        return value;\n    }\n\n    function renderByteProgress(receivedBytes, totalBytes){\n        if(!!props?.ignoreBytes){\n            return null;\n        }\n\n        let formatedReceived = formatBytes(receivedBytes)\n        let formatedTotal = formatBytes(totalBytes)\n\n        return(\n            <Text>{formatedReceived+\"/\"+formatedTotal}</Text>\n        )\n    }\n\n\n    function renderPercentage(percentage){\n        return(\n            <Text>{percentage+\"%\"}</Text>\n        )\n    }\n\n    function renderDownloadAnimation(){\n        return (\n            <View style={{width: \"40%\"}}>\n                <AnimatedLogo />\n            </View>\n        )\n        //return props.downloadAnimation;\n    }\n\n    function renderDownloadProgress(){\n        if(hasDownloadInformations()){\n            let receivedBytes = props.receivedBytes;\n            let totalBytes = props.totalBytes;\n            let percentage = getDownloadPercentage(receivedBytes, totalBytes);\n\n            return(\n                <>\n                    {renderDownloadAnimation()}\n                    <View style={{flexDirection: \"row\", width: \"100%\"}}>\n                        <View style={{flex: 1}}>\n                            {renderByteProgress(receivedBytes, totalBytes)}\n                        </View>\n                        <View style={{flex: 1, alignItems: \"flex-end\"}}>\n                            {renderPercentage(percentage)}\n                        </View>\n                    </View>\n                    {renderProgressBar(percentage)}\n                    <Text>{message}</Text>\n                    <Text>{props?.message}</Text>\n                    {props?.children}\n                </>\n            )\n        }\n        return null;\n    }\n\n  return (\n      <View style={{backgroundColor: bgColor ,height: \"100%\", width: \"100%\", alignItems: \"center\", justifyContent: \"center\", padding: \"10%\"}}>\n          {renderDownloadProgress()}\n      </View>\n  )\n}\n","// @ts-nocheck\nimport React, {FunctionComponent} from \"react\";\nimport {Icon, KitchenSafeAreaView, useSynchedState} from \"../../../kitcheningredients\";\nimport {SynchedStateKeys} from \"../../helper/synchedVariables/SynchedStateKeys\";\nimport {ScrollView, Text, useClipboard, useToast, View} from \"native-base\";\nimport {TouchableOpacity} from \"react-native\";\nimport {ColorHelper} from \"../../helper/ColorHelper\";\nimport {StorageKeys} from \"../../helper/synchedVariables/StorageKeys\";\nimport {AppTranslation} from \"../translations/AppTranslation\";\nimport {useDebugMode} from \"../../helper/synchedJSONState\";\nimport {CopyIcon} from \"../icons/CopyIcon\";\n\nexport interface AppState{\n\n}\nexport const DebugConsole: FunctionComponent<AppState> = (props) => {\n\n    const bgColor = ColorHelper.useBackgroundColor()\n\n    const [debugInformations, setDebugInformations] = useSynchedState(StorageKeys.CACHED_DEBUG_INFORMATIONS);\n    const [debugVisible, setDebugVisible] = useSynchedState(SynchedStateKeys.synchedDebugVisible);\n    const [debugMode, setDebugMode] = useDebugMode()\n\n    const clipboard = useClipboard();\n    const toast = useToast();\n\n    if(!debugMode){\n        return null;\n    }\n\n    function renderVisibilityButton(){\n        return(\n            <TouchableOpacity onPress={() => {setDebugVisible(!debugVisible)}}>\n                <View style={{padding: 10, borderColor: \"black\", backgroundColor: \"orange\", borderWidth: 1}}>\n                    <Icon name={debugVisible ? \"chevron-down\" : \"chevron-up\"}  />\n                </View>\n            </TouchableOpacity>\n        )\n    }\n\n    function renderOutput(){\n        if(!debugVisible){\n            return null;\n        }\n        return(\n            <ScrollView>\n                <TouchableOpacity style={{flex: 1}} onPress={async () => {\n                    try{\n                        await clipboard.onCopy(JSON.stringify(debugInformations, null, 2));\n                        toast.show({\n                            description: \"Copied\"\n                        });\n                    } catch (e){\n                        setDebugInformations(e.toString());\n                    }\n                }} >\n                    <View style={{padding: 10, backgroundColor: \"orange\", flexDirection: \"row\"}}>\n                        <CopyIcon />\n                        <View style={{width: 18}}></View>\n                        <View><AppTranslation id={\"copy\"} /></View>\n                    </View>\n                </TouchableOpacity>\n                <Text selectable={true}>{JSON.stringify(debugInformations, null, 2)}</Text>\n            </ScrollView>\n        )\n    }\n\n    if(!debugVisible){\n        return (\n            <View style={{\n                position: \"absolute\",\n                bottom: 0,\n                right: 0,\n                backgroundColor: \"orange\"\n            }}>\n                <KitchenSafeAreaView>\n                    {renderVisibilityButton()}\n                </KitchenSafeAreaView>\n            </View>\n        )\n    } else {\n        return (\n            <View style={{\n                position: \"absolute\",\n                width: \"100%\",\n                height: \"100%\",\n                backgroundColor: bgColor\n            }}>\n                <KitchenSafeAreaView>\n                    <View style={{\n                        justifyContent: \"flex-end\",\n                        flexDirection: \"row\"\n                    }}>\n                        {renderVisibilityButton()}\n                    </View>\n                    <View style={{flex: 1}}>\n                        {renderOutput()}\n                    </View>\n                </KitchenSafeAreaView>\n            </View>\n        )\n    }\n}\n","import React, {useEffect, useState} from \"react\";\nimport {SyncCollectionLoader} from \"./SyncCollectionLoader\";\nimport {ConfigHolder, ServerAPI} from \"../../../kitcheningredients\";\n\nimport {SyncMenuLoader} from \"./SyncMenuLoader\";\nimport {Text, View} from \"native-base\";\nimport {loadProfileRemote, useSynchedProfile} from \"../../components/profile/ProfileAPI\";\nimport {DeviceInformationHelper} from \"../DeviceInformationHelper\";\nimport {RemoteDirectusSettingsLoader} from \"../../components/settings/RemoteDirectusSettingsLoader\";\nimport {NotificationHelper} from \"../notification/NotificationHelper\";\nimport {ViewPercentageBorderradius} from \"../ViewPercentageBorderradius\";\nimport {AppTranslation} from \"../../components/translations/AppTranslation\";\nimport {UpdateScreen} from \"../../codepush/UpdateScreen\";\nimport {DebugConsole} from \"../../components/console/DebugConsole\";\nimport {\n\tuseSynchedApartmentsDict,\n\tuseSynchedAppTranslations,\n\tuseSynchedBuildingsDict,\n\tuseSynchedBusinesshoursDict,\n\tuseSynchedCanteensDict,\n\tuseSynchedChatroomsDict, useSynchedChatroomsSettings,\n\tuseSynchedChatroomTopicsDict,\n\tuseSynchedDirectusLanguage,\n\tuseSynchedDirectusSettings,\n\tuseSynchedImageOverlaysDict,\n\tuseSynchedMarkingsDict,\n\tuseSynchedNews,\n\tuseSynchedRemoteFields,\n\tuseSynchedRemoteSettings,\n\tuseSynchedSettingsAccountBalance,\n\tuseSynchedSettingsBuildings,\n\tuseSynchedSettingsCourseTimetable,\n\tuseSynchedSettingsFoods,\n\tuseSynchedSettingsHousing,\n\tuseSynchedSettingsNews,\n\tuseSynchedSettingsNotifications, useSynchedSettingsUtilizations,\n\tuseSynchedWashingmachinesDict,\n\tuseSynchedWikis\n} from \"../synchedJSONState\";\nimport {CollectionHelper} from \"../CollectionHelper\";\nimport {ConversationHelper} from \"../../components/conversations/ConversationHelper\";\nimport {MyTouchableOpacity} from \"../../components/buttons/MyTouchableOpacity\";\n\nlet rendering = 1;\n\nexport const SyncComponent = (props) => {\n\n\tlet userInstance = ConfigHolder.instance.getUser();\n\tlet isOffline = ConfigHolder.instance.isOffline();\n\n\trendering++;\n\n\tconst [cancelVisible, setCancelVisible] = useState(false);\n\tconst cancelVisibleTime = 10; // 10 seconds response time after Robert B. Miller https://dl.acm.org/doi/10.1145/1476589.1476628\n\n\tconst [directusSettings, setDirectusSettings] = useSynchedDirectusSettings();\n\tconst [directusLanguages, setDirectusLanguages] = useSynchedDirectusLanguage();\n\tconst [remoteAppTranslations, setRemoteAppTranslations, rawAppTranslations] = useSynchedAppTranslations();\n\tconst [news, setNews] = useSynchedNews();\n\tconst [allMarkingsDict, setAllMarkingsDict] = useSynchedMarkingsDict();\n\tconst [settingsChatrooms, setSettingsChatrooms] = useSynchedChatroomsSettings();\n\tconst [remoteAppSettings, setRemoteAppSettings] = useSynchedRemoteSettings();\n\tconst [remoteAppFields, setRemoteAppFields] = useSynchedRemoteFields();\n\tconst [settingsFoods, setSettingsFoods] = useSynchedSettingsFoods();\n\tconst [utilizationSettings, setUtilizationSettings] = useSynchedSettingsUtilizations();\n\tconst [settingsAccountBalance, setSettingsAccountBalance] = useSynchedSettingsAccountBalance();\n\tconst [settingsCourseTimetable, setSettingsCourseTimetable] = useSynchedSettingsCourseTimetable()\n\tconst [settingsNotifications, setSettingsNotifications] = useSynchedSettingsNotifications();\n\tconst [settingsHousing, setSettingsHousing] = useSynchedSettingsHousing();\n\tconst [settingsNews, setSettingsNews] = useSynchedSettingsNews();\n\tconst [settingsBuildings, setSettingsBuildings] = useSynchedSettingsBuildings();\n\tconst [wikis, setWikis] = useSynchedWikis();\n\tconst [buildings, setBuildings] = useSynchedBuildingsDict();\n\tconst [apartments, setApartments] = useSynchedApartmentsDict();\n\tconst [washingmachines, setWashingmachines] = useSynchedWashingmachinesDict();\n\tconst [imageOverlays, setImageOverlays] = useSynchedImageOverlaysDict();\n\tconst [businesshoursDict, setBusinesshours] = useSynchedBusinesshoursDict();\n\tconst [canteens, setCanteens] = useSynchedCanteensDict();\n\tconst [profile, setProfile] = useSynchedProfile();\n\tconst [chatroomsDict, setChatroomsDict] = useSynchedChatroomsDict();\n\tconst [chatroomTopicsDict, setChatroomTopicsDict] = useSynchedChatroomTopicsDict();\n\n\tconst [deviceInformation, setDeviceInformation] = DeviceInformationHelper.useLocalDeviceInformation();\n\t// @ts-ignore\n\tconst [notificationObj, setNotificationObj] = NotificationHelper.useNotificationPermission();\n\n\tconst [profileNotFound, setProfileNotFound] = useState(false);\n\tconst [remoteProfileLoaded, setRemoteProfileLoaded] = useState(undefined);\n\n\tconst remoteLoadedProfileSameAsLocal = JSON.stringify(remoteProfileLoaded)===JSON.stringify(profile)\n\tconst profileLoadingFinished = (isOffline || profileNotFound || remoteLoadedProfileSameAsLocal);\n\n\tconst [syncedMenu, setSyncedMenu] = useState(false)\n\tconst syncedMenuStatus = syncedMenu;\n\n\tconst [status, setStatus] = useState(\"Starting\")\n\n\tif(!!props?.getSetProfileFunction){\n\t\tprops.getSetProfileFunction((newProfile, offline) => {\n\t\t\tsetProfile(newProfile, offline);\n\t\t\t//setSyncingFinished(false);\n\t\t});\n\t}\n\n\tconst variablesToBeLoadedDict = {\n\t\tsyncedMenuStatus: syncedMenuStatus,\n\t\tdeviceInformation: deviceInformation,\n\t\tremoteAppTranslations: rawAppTranslations,\n\t\tdirectusLanguages: directusLanguages,\n\t\tdirectusSettings: directusSettings,\n\t\tremoteAppSettings: remoteAppSettings,\n\t\tremoteAppFields: remoteAppFields,\n\t\tsettingsFoods: settingsFoods,\n\t\tutilizationSettings: utilizationSettings,\n\t\tsettingsAccountBalance: settingsAccountBalance,\n\t\tsettingsCourseTimetable: settingsCourseTimetable,\n\t\tsettingsChatrooms: settingsChatrooms,\n\t\tsettingsNotifications: settingsNotifications,\n\t\tsettingsHousing: settingsHousing,\n\t\tsettingsNews: settingsNews,\n\t\tsettingsBuildings: settingsBuildings,\n\t\tnotificationObj: notificationObj,\n\t\tprofileLoadingFinished: profileLoadingFinished,\n\t\tnews: news,\n\t\twikis: wikis,\n\t\tbuildings: buildings,\n\t\tapartments: apartments,\n\t\twashingmachines: washingmachines,\n\t\tcanteens: canteens,\n\t\timageOverlays: imageOverlays,\n\t\tallMarkingsDict: allMarkingsDict,\n\t\tbusinesshoursDict: businesshoursDict,\n\t\tchatroomsDict: chatroomsDict,\n\t\tchatroomTopicsDict: chatroomTopicsDict\n\t}\n\n\tconst variablesToBeLoaded = [];\n\tfor(let key in variablesToBeLoadedDict){\n\t\tvariablesToBeLoaded.push(variablesToBeLoadedDict[key]);\n\t}\n\n\tconst amountVariablesToBeLoaded = variablesToBeLoaded.length;\n\tconst amountVariablesLoaded = countNotNull(variablesToBeLoaded)\n\tconst allVariablesLoaded = amountVariablesLoaded === amountVariablesToBeLoaded;\n\tconst percentage = amountVariablesLoaded*100/amountVariablesToBeLoaded;\n\n\n\tfunction countNotNull(variables){\n\t\tif(!!variables){\n\t\t\tlet notNull = 0;\n\t\t\tfor(let variable of variables){\n\t\t\t\tif(!!variable){\n\t\t\t\t\tnotNull+=1;\n\t\t\t\t} else {\n\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn notNull;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tasync function loadDirectusFields(){\n\t\tlet directus = ServerAPI.getClient();\n\t\ttry{\n\t\t\tlet fields = await directus.fields.readAll()\n\t\t\tif(!!fields && fields?.data){\n\t\t\t\tfields = fields.data;\n\t\t\t}\n\t\t\tlet fieldsByCollection = {};\n\t\t\tif(!!fields){\n\t\t\t\t//console.log(\"loadDirectusFields\", fields)\n\t\t\t\tfor(let field of fields){\n\t\t\t\t\tlet collection = field.collection;\n\t\t\t\t\tlet fieldname = field?.field;\n\t\t\t\t\tlet fieldsInCollection = fieldsByCollection[collection] || {};\n\t\t\t\t\tfieldsInCollection[fieldname] = field;\n\t\t\t\t\tfieldsByCollection[collection] = fieldsInCollection;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//console.log(\"loadDirectusFields\", fieldsByCollection)\n\t\t\tsetRemoteAppFields(fieldsByCollection);\n\t\t} catch (err){\n\t\t\t//console.log(err);\n\t\t}\n\t}\n\n\tasync function loadDirectusSettings(){\n\t\tlet remoteDirectusSettingsLoaded = await RemoteDirectusSettingsLoader.getRemoteDirectusSettings();\n\t\tif(!!remoteDirectusSettingsLoaded){\n\t\t\tlet asString = JSON.stringify(remoteDirectusSettingsLoaded)\n\t\t\tif(asString!==JSON.stringify(directusSettings)){\n\t\t\t\tsetDirectusSettings(remoteDirectusSettingsLoaded);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function loadProfile(){\n\t\tlet remoteProfile = await loadProfileRemote();\n\n\t\tif(!!remoteProfile){\n\t\t\tsetProfile(remoteProfile, true); // we want to save it locally, because otherwise the field \"updated_at\" would be updated\n\t\t\tsetRemoteProfileLoaded(remoteProfile)\n\t\t} else {\n\t\t\tsetProfileNotFound(true)\n\t\t}\n\t}\n\n\tasync function loadDeviceInformation(){\n\t\tlet deviceInformation = await DeviceInformationHelper.getDeviceInformation();\n\t\tsetDeviceInformation(deviceInformation);\n\t}\n\n\tasync function loadNotificationInformation(){\n\t\tlet notificationObj = await NotificationHelper.loadDeviceNotificationPermission();\n\t\tsetNotificationObj(notificationObj);\n\t}\n\n\tasync function load(){\n\t\tif(!isOffline){\n\t\t\t// TODO: Make sure to load all data always\n\t\t\t// Idea 1: A list of request which will be loaded step by step? Resolving only parts of it?\n\t\t\t// Idea 2: Add a table which list which table was updated when. Then only load changes and not all\n\t\t\t// Maybe combine both ideas?\n\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"app_settings\", remoteAppSettings, setRemoteAppSettings, SyncCollectionLoader.getFieldsForAllAndTranslations());\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"app_settings_foods\", settingsFoods, setSettingsFoods, SyncCollectionLoader.getFieldsForAllAndTranslations());\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"app_settings_utilizations\", utilizationSettings, setUtilizationSettings, SyncCollectionLoader.getFieldsForAllAndTranslations());\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"app_settings_account_balance\", settingsAccountBalance, setSettingsAccountBalance, SyncCollectionLoader.getFieldsForAllAndTranslations());\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"app_settings_chatrooms\", settingsChatrooms, setSettingsChatrooms, SyncCollectionLoader.getFieldsForAllAndTranslations());\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"app_settings_course_timetable\", settingsCourseTimetable, setSettingsCourseTimetable, SyncCollectionLoader.getFieldsForAllAndTranslations());\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"app_settings_notifications\", settingsNotifications, setSettingsNotifications, SyncCollectionLoader.getFieldsForAllAndTranslations());\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"app_settings_housing\", settingsHousing, setSettingsHousing, SyncCollectionLoader.getFieldsForAllAndTranslations());\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"app_settings_news\", settingsNews, setSettingsNews, SyncCollectionLoader.getFieldsForAllAndTranslations());\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"app_settings_buildings\", settingsBuildings, setSettingsBuildings, SyncCollectionLoader.getFieldsForAllAndTranslations());\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"app_translations\", remoteAppTranslations, setRemoteAppTranslations, SyncCollectionLoader.getFieldsForAllAndTranslations(), CollectionHelper.transformCollectionToDict, undefined);\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"languages\", directusLanguages, setDirectusLanguages);\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"news\", news, setNews, SyncCollectionLoader.getFieldsForAllAndTranslations(), CollectionHelper.transformCollectionToDict, [\"-date_created\"]);\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"markings\", allMarkingsDict, setAllMarkingsDict ,SyncCollectionLoader.getFieldsForAllAndTranslations(), CollectionHelper.transformCollectionToDict, undefined);\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"wikis\", wikis, setWikis ,SyncCollectionLoader.getFieldsForAllAndTranslations(), CollectionHelper.transformCollectionToDict, undefined);\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"buildings\", buildings, setBuildings ,SyncCollectionLoader.getFieldsForAllAndTranslations(), CollectionHelper.transformCollectionToDict, undefined);\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"image_overlays\", imageOverlays, setImageOverlays ,SyncCollectionLoader.getFieldsForAllAndTranslations(), CollectionHelper.transformCollectionToDict, undefined);\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"apartments\", apartments, setApartments ,SyncCollectionLoader.getFieldsForAllAndTranslations(), CollectionHelper.transformCollectionToDict, undefined);\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"washingmachines\", washingmachines, setWashingmachines ,SyncCollectionLoader.getFieldsForAllAndTranslations(), CollectionHelper.transformCollectionToDict, undefined);\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"canteens\", canteens, setCanteens ,SyncCollectionLoader.getFieldsForAllAndTranslations([\"businesshours.*\"]), CollectionHelper.transformCollectionToDict, undefined);\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"businesshours\", businesshoursDict, setBusinesshours ,SyncCollectionLoader.getFieldsForAllAndTranslations(), CollectionHelper.transformCollectionToDict, undefined);\n\t\t\tConversationHelper.loadAllChatrooms(chatroomsDict, setChatroomsDict);\n\t\t\tSyncCollectionLoader.setCacheOfRemoteCollection(\"chatroom_topics\", chatroomTopicsDict, setChatroomTopicsDict ,SyncCollectionLoader.getFieldsForAllAndTranslations(), CollectionHelper.transformCollectionToDict, undefined);\n\t\t\tloadDeviceInformation();\n\t\t\tloadNotificationInformation();\n\t\t\tloadDirectusSettings();\n\t\t\tloadDirectusFields();\n\t\t\tloadProfile();\n\t\t}\n\t}\n\n\n\tfunction checkSyncOrder(){\n\t\tif(isOffline){\n\t\t\tif(syncedMenuStatus){\n\t\t\t\tConfigHolder.instance.setSyncFinished(true);\n\t\t\t}\n\t\t}\n\t\tif(!isOffline){\n\t\t\t//authenthicated user\n\t\t\tif(!!userInstance && allVariablesLoaded && syncedMenuStatus){\n\t\t\t\tConfigHolder.instance.setSyncFinished(true);\n\t\t\t}\n\t\t\tif(!userInstance && allVariablesLoaded && syncedMenuStatus){ // an unauthenticated user\n\t\t\t\tConfigHolder.instance.setSyncFinished(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tcheckSyncOrder()\n\n\tfunction renderCancelButton(){\n\t\tif(!cancelVisible){\n\t\t\treturn null;\n\t\t}\n\n\t\treturn(\n\t\t\t<View style={{width: \"100%\", height: \"100%\", flex: 1, justifyContent: \"flex-end\"}}>\n\t\t\t\t<View style={{padding: \"10%\", alignItems: \"center\"}}>\n\t\t\t\t\t<MyTouchableOpacity\n\t\t\t\t\t\tonPress={async () => {\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tawait ServerAPI.handleLogout();\n\t\t\t\t\t\t\t} catch (err){\n\t\t\t\t\t\t\t\t//console.log(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{flex: 1, width: \"100%\"}}>\n\t\t\t\t\t\t<ViewPercentageBorderradius style={{padding: 10, borderRadius: \"10%\", width: \"100%\", backgroundColor: \"orange\", alignItems: \"center\"}} >\n\t\t\t\t\t\t\t<AppTranslation color={\"white\"} id={\"cancel\"} />\n\t\t\t\t\t\t</ViewPercentageBorderradius>\n\t\t\t\t\t</MyTouchableOpacity>\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction renderNotLoadedVariables(){\n\t\treturn null;\n\t\tlet output = [];\n\t\tfor(let key in variablesToBeLoadedDict){\n\t\t\tif(!variablesToBeLoadedDict[key]){\n\t\t\t\toutput.push(\n\t\t\t\t\t<Text>{\"Not loaded: \"+key}</Text>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction renderLoading(){\n\t\tlet message = profileLoadingFinished ? \"Profile loaded\" : \"Loading profile\";\n\n\t\treturn <View style={{width: \"100%\", height: \"100%\"}}>\n\t\t\t<UpdateScreen receivedBytes={percentage} totalBytes={100} message={status+\"\\n\"+message} ignoreBytes={true} >\n\t\t\t\t{renderNotLoadedVariables()}\n\t\t\t</UpdateScreen>\n\t\t\t{renderCancelButton()}\n\t\t</View>\n\t}\n\n\tuseEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\tload();\n\t\t}, 0);\n\t\tsetTimeout(() => {\n\t\t\tsetCancelVisible(true);\n\t\t}, cancelVisibleTime*1000);\n\t}, [props])\n\n\tconst renderedMenuLoader = profileLoadingFinished ? <SyncMenuLoader setSyncedMenu={setSyncedMenu} /> : null;\n\n\n\n\treturn [\n\t\trenderLoading(),\n\t\t<DebugConsole />,\n\t\trenderedMenuLoader\n\t];\n\n}\n","import React, {FunctionComponent, useEffect} from \"react\";\nimport {Navigation, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {View} from \"native-base\";\nimport {SettingsUsersNicknameComponent} from \"../../components/settings/SettingsUsersNicknameComponent\";\n\nexport const SettingProfile: FunctionComponent = (props) => {\n\n\tconst params = props?.route?.params\n\n\tfunction handleContinue(){\n\t\tif(params?.showbackbutton){\n\t\t\tNavigation.navigateBack()\n//\t\t\tNavigatorHelper.goBack()\n\t\t} else if(params?.goHome){\n\t\t\tNavigation.navigateHome()\n//\t\t\tNavigatorHelper.navigateHome();\n\t\t}\n\t}\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [params])\n\n\treturn(\n\t\t<View style={{width: \"100%\"}}>\n\t\t\t<SettingsUsersNicknameComponent onChange={() => {\n\t\t\t\thandleContinue();\n\t\t\t}} />\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport React, {FunctionComponent, useEffect, useRef, useState} from \"react\";\nimport {View, Text, Input, Button} from \"native-base\";\nimport {Navigation, NavigatorHelper} from \"../../../kitcheningredients\";\nimport {Profiles} from \"./Profiles\";\nimport {useSynchedProfile} from \"../../components/profile/ProfileAPI\";\n\ninterface AppState {\n\n}\nexport const Users: FunctionComponent<AppState> = (props) => {\n\n    const [profile, setProfile] = useSynchedProfile();\n    Navigation.navigateTo(Profiles, {id: profile?.id})\n//    NavigatorHelper.navigateWithoutParams(Profiles, false, {id: profile?.id})\n\n    // corresponding componentDidMount\n    useEffect(() => {\n\n    }, [props?.route?.params])\n\n  return (\n      <View style={{width: \"100%\"}}>\n\n      </View>\n  )\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\n\nimport * as RNLocalize from \"react-native-localize\";\nimport {DirectusTranslationHelper} from \"../../components/translations/DirectusTranslationHelper\";\nimport {ProfileAPI} from \"../../components/profile/ProfileAPI\";\n\nexport class SetupLanguageHelper {\n\n\tstatic getUsersInstalledLanguageCodesInPreferedOrder(){\n\t\tlet preferedLocales = RNLocalize.getLocales() || []; //get preferred locales of the user\n\n\t\tlet codes = [];\n\t\tfor(let i=0; i<preferedLocales.length; i++){\n\t\t\tlet preferedLocale = preferedLocales[i];\n\t\t\tlet languageCode = preferedLocale.languageTag; // !languageCode would be \"de\" where we want languageTag \"de-DE\"\n\t\t\tcodes.push(languageCode);\n\t\t}\n\t\treturn codes;\n\t}\n\n\tstatic doesSelectedLanguageExistInLanguages(profileLanguage, availableLanguageDict){\n\t\treturn !!availableLanguageDict[profileLanguage];\n\t}\n\n\tstatic getClosestLangCode(langCode, availableLanguageDict){\n\t\tlet availableLangCodes = Object.keys(availableLanguageDict);\n\t\tif(!!langCode){ // e. G. langCode = \"de-US\" or \"de-DE\"\n\t\t\tlet firstPart = langCode.split(\"-\")[0]; // e. G. de\n\t\t\tfor(let i=0; i<availableLangCodes.length; i++){\n\t\t\t\tlet availableLangCode = availableLangCodes[i]; // e. G. \"de-DE\"\n\t\t\t\tif(availableLangCode.startsWith(firstPart)){ //\n\t\t\t\t\treturn availableLangCode;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tstatic getBestLanguageCodeForUser(usersInstalledLanguageCodesPreferedOrder, availableLanguageDict){\n\t\tfor(let i=0; i<usersInstalledLanguageCodesPreferedOrder.length; i++){ //loop all languages user knows\n\t\t\tlet usersInstalledLanguageCode = usersInstalledLanguageCodesPreferedOrder[i];\n\t\t\tlet closesLangCode = SetupLanguageHelper.getClosestLangCode(usersInstalledLanguageCode, availableLanguageDict)\n\t\t\tif(!!closesLangCode){ //is users language known by the server\n\t\t\t\treturn closesLangCode;\n\t\t\t}\n\t\t}\n\t\treturn DirectusTranslationHelper.FALLBACK_LANGUAGE_CODE\n\t}\n\n\tstatic getAvailableLanguageCodeDict(availableLanguages){\n\t\tlet langCodeDict = {};\n\t\tfor(let i=0; i<availableLanguages.length; i++){\n\t\t\tlet availableLanguage = availableLanguages[i]; // {code: \"de-DE\", name: \"German\"}\n\t\t\tlet languageCode = availableLanguage.code; // \"de-DE\"\n\t\t\tlangCodeDict[languageCode] = languageCode;\n\t\t}\n\t\treturn langCodeDict;\n\t}\n\n\tstatic getNewProfileWithDefaultLanguageSet(profile, availableLanguages, cachedOSLanguage, currentDevicePreferedLocales){\n\t\tlet profileCopy = {...profile};\n\t\tconsole.log(\"setDefaultLanguage\");\n\t\tlet profileLanguage = profile[ProfileAPI.getLanguageFieldName()];\n\t\tlet availableLanguageDict = SetupLanguageHelper.getAvailableLanguageCodeDict(availableLanguages);\n\n\t\tconsole.log(\"profileLanguage: \"+profileLanguage)\n\t\tlet doesSelectedLanguageExist = SetupLanguageHelper.doesSelectedLanguageExistInLanguages(profileLanguage, availableLanguageDict);\n\t\tconsole.log(\"doesSelectedLanguageExist: \"+doesSelectedLanguageExist)\n\t\tconsole.log(\"currentDevicePreferedLocales\");\n\t\tconsole.log(currentDevicePreferedLocales);\n\n\t\tlet userChangedOSLanguage = JSON.stringify(cachedOSLanguage) !== JSON.stringify(currentDevicePreferedLocales);\n\t\tlet updateLanguage = !doesSelectedLanguageExist || userChangedOSLanguage\n\t\tconsole.log(\"updateLanguage: \"+updateLanguage)\n\t\tif(updateLanguage){\n\t\t\tlet bestLanguageCodeForUser = SetupLanguageHelper.getBestLanguageCodeForUser(currentDevicePreferedLocales, availableLanguageDict)\n\t\t\tconsole.log(\"bestLanguageCodeForUser: \"+bestLanguageCodeForUser);\n\t\t\tif(!!bestLanguageCodeForUser){\n\t\t\t\tprofileCopy[ProfileAPI.getLanguageFieldName()] = bestLanguageCodeForUser;\n\t\t\t}\n\t\t}\n\t\treturn profileCopy;\n\t}\n\n}\n","import React, {FunctionComponent, useState} from \"react\";\nimport {Animated} from \"react-native\";\n\ninterface FadeInFadeOutProps {\n\tduration?: number;\n}\nexport const FadeInFadeOut: FunctionComponent<FadeInFadeOutProps> = props => {\n\n\t// a small animated view which loops between 0 and 1 opacity\n\tconst [fadeAnim] = useState(new Animated.Value(0));\n\tconst duration = props?.duration || 1000;\n\n\tReact.useEffect(() => {\n\t\tAnimated.loop(\n\t\t\tAnimated.sequence([\n\t\t\t\tAnimated.timing(fadeAnim, {\n\t\t\t\t\ttoValue: 1,\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tuseNativeDriver: true // Add This line\n\t\t\t\t}),\n\t\t\t\tAnimated.timing(fadeAnim, {\n\t\t\t\t\ttoValue: 0,\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tuseNativeDriver: true // Add This line\n\t\t\t\t}),\n\t\t\t])\n\t\t).start();\n\t}\t, []);\n\n\treturn (\n\t\t<Animated.View\n\t\t\tstyle={{\n\t\t\t\topacity: fadeAnim,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</Animated.View>\n\n\t);\n\n}\n","import React from \"react\";\nimport {Text, View} from \"native-base\";\nimport {FadeInFadeOut} from \"../animatedViews/FadeInFadeOut\";\n\nexport const DemoModeLogo = (props) => {\n\n\treturn (\n\t\t<View>\n\t\t\t<FadeInFadeOut>\n\t\t\t\t<Text selectable={false}>{\"DEMO MODE\"}</Text>\n\t\t\t</FadeInFadeOut>\n\t\t</View>\n\t);\n\n}\n","import React, {useEffect} from \"react\";\nimport {\n\tConfigHolder,\n\tKitchenSafeAreaView,\n\tNavigation,\n\tNavigatorHelper,\n\tuseSynchedJSONState\n} from \"../../../kitcheningredients\";\nimport {SetupLanguageHelper} from \"./SetupLanguageHelper\";\nimport {useSynchedDevices, useSynchedProfile, useSynchedProfileCanteen} from \"../../components/profile/ProfileAPI\";\nimport {NotificationHelper} from \"../notification/NotificationHelper\";\nimport {useDemoMode, useSynchedDirectusLanguage} from \"../synchedJSONState\";\nimport {SettingCanteen} from \"../../screens/settings/SettingCanteen\";\nimport {SettingProfile} from \"../../screens/settings/SettingProfile\";\nimport {FoodOfferList} from \"../../screens/food/FoodOfferList\";\nimport {DeviceInformationHelper} from \"../DeviceInformationHelper\";\nimport {View} from \"native-base\";\nimport {DemoModeLogo} from \"./DemoModeLogo\";\nimport {StorageKeys} from \"../synchedVariables/StorageKeys\";\n\nexport const SetupComponent = (props) => {\n\n\tconst [history, setHistory] = Navigation.useNavigationHistory();\n\tconst [profile, setProfile] = useSynchedProfile();\n\tconst [cachedOSLanguage, setOSLanguage] = useSynchedJSONState(StorageKeys.CACHED_OS_LANGUAGE);\n\tconst [profileCanteenId, setProfileCanteenId] = useSynchedProfileCanteen();\n\tconst [devices, setDevices, isDeviceUpToDateOrUpdate] = useSynchedDevices();\n\tconst [directusLanguages, setDirectusLanguages] = useSynchedDirectusLanguage();\n\tconst [notificationObj, setNotificationObj] = NotificationHelper.useNotificationPermission();\n\n\tconst [demo, setDemo] = useDemoMode();\n\n\tlet userInstance = ConfigHolder.instance.getUser();\n\n\tfunction getCurrentRouteUserIsAt(){\n\t\tlet directHistory = NavigatorHelper.getHistory();\n\n\t\tlet usedHistory = history;\n\t\tusedHistory = directHistory;\n\n\t\tif(!!usedHistory){\n\t\t\tif(usedHistory.length>0){\n\t\t\t\tlet lastItem = usedHistory[usedHistory?.length - 1];\n\t\t\t\tlet lastItemKey = lastItem?.key;\n\t\t\t\tif(!!lastItemKey){\n\t\t\t\t\tif(lastItemKey.includes(\"-\")){\n\t\t\t\t\t\treturn lastItemKey.split(\"-\")[0];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t}\n\n\tfunction isUserAtRouteComponent(component){\n\t\t//let routeName = RouteHelper.getNameOfComponent(component)\n\t\tlet bestName = component.displayName || component.name;\n\t\t//let componentRoute = Navigation.getRouteByComponent(component); // e.g. \"settingsprofile\"\n\t\treturn isUserAtRouteName(bestName)\n\t}\n\n\tfunction isUserAtRouteName(routeName){\n\t\treturn getCurrentRouteUserIsAt() === routeName;\t// e.g. \"settingsprofile\" === \"settingsprofile\"\n\t}\n\n\tfunction isLanguageCorrectSet(){\n\t\tconst oldProfileJSON = JSON.stringify(profile);\n\t\tlet currentDevicePreferedLocales = SetupLanguageHelper.getUsersInstalledLanguageCodesInPreferedOrder(); // we load the current OS (device) languages\n\t\tlet newProfile = SetupLanguageHelper.getNewProfileWithDefaultLanguageSet(profile, directusLanguages, cachedOSLanguage, currentDevicePreferedLocales);\n\t\tsetOSLanguage(currentDevicePreferedLocales) // we update the cached OS (device) languages\n\t\tif(JSON.stringify(newProfile) !== oldProfileJSON){\n\t\t\tsetProfile(newProfile);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tasync function checkNotificationSettings(){\n\t\tlet newNotificationObj = await NotificationHelper.loadDeviceNotificationPermission();\n\t\tif(JSON.stringify(newNotificationObj) !== JSON.stringify(notificationObj)){\n\t\t\tsetNotificationObj(newNotificationObj);\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction isCanteenCorrectSet(){\n\t\tif(!profileCanteenId){\n\t\t\tif(!isUserAtRouteComponent(SettingCanteen)){\n\t\t\t\tNavigation.navigateTo(SettingCanteen, {goHome: true});\n\t\t\t//\tNavigatorHelper.navigateWithoutParams(SettingCanteen, true, {goHome: true});\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\n\tfunction isProfileCorrectSet(){\n\t\tif(!!profile?.id){\n\t\t\tlet nicknameSet = !!profile?.nickname;\n\t\t\tif(!nicknameSet){\n\t\t\t\tif(!isUserAtRouteComponent(SettingProfile)){\n\t\t\t\t\tNavigation.navigateTo(SettingProfile, {goHome: true});\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tasync function isDeviceCorrectSet(){\n\t\tif(!!profile?.id){\n\t\t\tlet deviceInformation = await DeviceInformationHelper.getDeviceInformation();\n\t\t\tlet isUpToDate = await isDeviceUpToDateOrUpdate(deviceInformation);\n\t\t\treturn isUpToDate;\n\t\t}\n\t\treturn true;\n\t}\n\n\tasync function checkSyncOrder(functions){\n\t\tlet continueChecking = true;\n\t\tfor(let i=0; i<functions.length; i++){\n\t\t\tlet func = functions[i];\n\t\t\tif(continueChecking){\n\t\t\t\tlet result = await func();\n\t\t\t\tcontinueChecking = result;\n\t\t\t}\n\t\t}\n\t\tif(continueChecking && isUserAtRouteName(\"Home\")){\n\t\t\tNavigation.navigateTo(FoodOfferList)\n//\t\t\tNavigatorHelper.navigateWithoutParams(FoodOfferList, true, {});\n\t\t}\n\t}\n\n\tfunction isUserAtLegalRequiredRoute(){\n\t\tlet requiredRoutesNotToCheck = [\n\t\t\t\"login\"\n\t\t]\n\n\t\tlet menuKeysNotToCheck = [\n\t\t\tNavigation.DEFAULT_MENU_KEY_ABOUT_US,\n\t\t\tNavigation.DEFAULT_MENU_KEY_SETTINGS,\n\t\t\tNavigation.DEFAULT_MENU_KEY_PRIVACY_POLICY,\n\t\t]\n\n\t\tfor(let menuKeyNotToCheck of menuKeysNotToCheck){\n\t\t\tlet menuItem = Navigation.requiredMenuItems[menuKeyNotToCheck];\n\t\t\tlet path = menuItem?.route?.path;\n\t\t\trequiredRoutesNotToCheck.push(path);\n\t\t}\n\n\t\tlet isUserAtRequiredRoute = false;\n\t\tfor(let requiredRouteNotToCheck of requiredRoutesNotToCheck){\n\t\t\tif(isUserAtRouteName(requiredRouteNotToCheck)){\n\t\t\t\tisUserAtRequiredRoute = true;\n\t\t\t}\n\t\t}\n\t\treturn isUserAtRequiredRoute;\n\t}\n\n\tuseEffect(() => {\n\n\t\tlet syncFinished = ConfigHolder.instance.state.syncFinished;\n\n\t\tif(!isUserAtLegalRequiredRoute() && syncFinished && !!userInstance){\n\t\t\tcheckSyncOrder([\n\t\t\t\tisLanguageCorrectSet,\n\t\t\t\tcheckNotificationSettings,\n\t\t\t\tisCanteenCorrectSet,\n\t\t\t\t//isProfileCorrectSet,\n\t\t\t\tisDeviceCorrectSet\n\t\t\t])\n\t\t}\n\t}, [props, profile, history]);\n\n\tfunction renderDemoModeLogo(){\n\t\tif(demo){\n\t\t\treturn <View style={{\n\t\t\t\tposition: \"absolute\", top: 0, width: \"100%\", opacity: 0.5,\n                padding: 20,\n\t\t\t\talignItems: \"center\",\n\t\t\t\tpointerEvents: \"none\",\n\t\t\t}}\n\t\t\t\t\t\t pointerEvents={'none'}\n\t\t\t>\n\t\t\t\t<KitchenSafeAreaView>\n\t\t\t\t\t<DemoModeLogo/>\n\t\t\t\t</KitchenSafeAreaView>\n\t\t\t</View>\n\t\t}\n\t}\n\n\treturn [\n\t\tprops.children,\n\t\trenderDemoModeLogo()\n\t];\n\n}\n","import React, {FunctionComponent, useState} from \"react\";\nimport {Divider, Text, View} from \"native-base\";\nimport NfcManager, {NfcTech} from \"react-native-nfc-manager\";\nimport {Platform, TouchableOpacity} from \"react-native\";\n\n// this is a component to read the content of intercard cards with the phone\nexport const IntercardReaderExample: FunctionComponent = (props) => {\n\n\tconst [informations, setInformations] = useState(\"No card read yet\");\n\n\t/**\n\t * send Mifare APDU command to the NFC Card\n\t * @param command the APDU Command\n\t * @returns {Promise<number[]|undefined>}\n\t */\n\tasync function private_sendCommandToMensaCard(\n\t\tcardReader: any,\n\t\tcommand: any\n\t) {\n\t\ttry {\n\t\t\tif (cardReader.Platform.OS === 'ios') {\n\t\t\t\treturn await cardReader.NfcManager.sendMifareCommandIOS(command);\n\t\t\t} else {\n\t\t\t\treturn await cardReader.NfcManager.transceive(command);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.warn(err);\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\t// function to read the card\n\tasync function readCard(){\n\t\ttry{\n\t\t\t// start the nfc manager\n\t\t\tawait NfcManager.start();\n\t\t\t// check if the nfc is enabled\n\t\t\tlet isEnabled = await NfcManager.isEnabled();\n\t\t\tsetInformations(\"NFC is enabled: \" + isEnabled);\n\t\t\tif(isEnabled) {\n\t\t\t\t// read the card with mifare desfire\n\t\t\t\tconst tech = Platform.OS === 'ios'\n\t\t\t\t\t? NfcTech.MifareClassic\n\t\t\t\t\t: NfcTech.MifareClassic;\n\t\t\t\tNfcTech.MifareIOS\n\n\t\t\t\tlet tag = await NfcManager.requestTechnology(tech, {\n\t\t\t\t\talertMessage: \"Bitte karte ranhalten\",\n\t\t\t\t});\n\t\t\t\tsetInformations(\"Tag: \" + JSON.stringify(tag, null, 2));\n\t\t\t}\n\t\t} catch (err){\n\t\t\tsetInformations(\"Error: \" + err);\n\t\t} finally {\n\t\t\tawait _cleanUp();\n\t\t}\n\t}\n\n\t/**\n\t * function for Cleaning up the requests\n\t * @returns {Promise<void>}\n\t * @private\n\t */\n     async function _cleanUp() {\n\t\t//console.log('Clean Up');\n\t\ttry {\n\t\t\tawait NfcManager.cancelTechnologyRequest();\n\t\t\tawait NfcManager.unregisterTagEvent();\n\t\t\t//console.log('Success to cancelTechnologyRequest');\n\t\t} catch {\n\t\t\tconsole.warn('Clean Up failed');\n\t\t}\n\t}\n\n\treturn(\n\t\t<>\n\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t<Text>{\"Intercard Reader\"}</Text>\n\t\t\t\t<Divider />\n\t\t\t\t<TouchableOpacity onPress={readCard}>\n\t\t\t\t\t<Text>{\"Read Card\"}</Text>\n\t\t\t\t</TouchableOpacity>\n\t\t\t\t<Divider />\n\t\t\t\t<Text>{\"Informations\"}</Text>\n\t\t\t\t<Text>{JSON.stringify(informations, null, 2)}</Text>\n\t\t\t</View>\n\t\t</>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Icon, MyActionsheet} from \"../../../kitcheningredients\";\nimport {useSynchedImageOverlays} from \"../../helper/synchedJSONState\";\nimport {MaterialIcons} from \"@expo/vector-icons\";\nimport {TouchableOpacityIgnoreChildEvents} from \"../../helper/overlay/TouchableOpacityIgnoreChildEvents\";\nimport {View, Text, Tooltip} from \"native-base\";\nimport {useDirectusTranslation} from \"../translations/DirectusTranslationUseFunction\";\nimport {DefaultComponentCardOverlayBox} from \"../detailsComponent/DefaultComponentCardOverlayBox\";\nimport {ImageOverlayPosition} from \"./ImageOverlays\";\nimport {DirectusTranslatedMarkdown} from \"../translations/DirectusTranslatedMarkdown\";\n\nexport const IMAGE_OVERLAY_ID_FIELD = \"image_overlay_id\";\nexport const IMAGE_OVERLAY_CUSTOM_POSITION_FIELD = \"position\";\ninterface AppState {\n\twidth?: number,\n\tposition?: ImageOverlayPosition,\n\taccessibilityLabel?: string,\n}\n\nexport const ImageOverlayPaddingStyle = {padding: 5}\n\nexport const ImageOverlayCustom: FunctionComponent<AppState> = (props) => {\n\n\tconst accessibilityLabel = props?.accessibilityLabel;\n\tconst tooltip = accessibilityLabel;\n\n\tconst width = props?.width;\n\n\tconst resource_id = props?.[IMAGE_OVERLAY_ID_FIELD];\n\tconst resource = useSynchedImageOverlays(resource_id);\n\n\tconst imageOverlay = resource;\n\n\tconst position = props?.position || imageOverlay?.position;\n\n\tfunction wrapInTooltip(content){\n\t\tif(!tooltip){\n\t\t\treturn content;\n\t\t}\n\t\treturn (\n\t\t\t<Tooltip label={tooltip}>\n\t\t\t\t{content}\n\t\t\t</Tooltip>\n\t\t)\n\t}\n\n\treturn (\n\t\twrapInTooltip(\n\t\t\t<View accessibilityLabel={accessibilityLabel}>\n\t\t\t\t<DefaultComponentCardOverlayBox width={width} position={position}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</DefaultComponentCardOverlayBox>\n\t\t\t</View>\n\t\t)\n\t)\n\n\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Button, Divider, Text, Tooltip, View} from \"native-base\";\nimport {Icon} from \"../../../../kitcheningredients\";\nimport {TouchableOpacity} from \"react-native\";\nimport {ViewPixelRatio} from \"../../../helper/ViewPixelRatio\";\nimport {DefaultComponentCard} from \"../../../components/detailsComponent/DefaultComponentCard\";\nimport {ImageOverlayPosition, ImageOverlays} from \"../../../components/imageOverlays/ImageOverlays\";\nimport {ImageOverlayCustom} from \"../../../components/imageOverlays/ImageOverlayCustom\";\n\nexport const VoiceoverExample: FunctionComponent = (props) => {\n\n\treturn(\n\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t<View style={{width: \"50%\"}}>\n\t\t\t\t\t<DefaultComponentCard small={true} renderTop={(width) => {\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<View style={{width: width, height: width, backgroundColor: \"red\"}}>\n\t\t\t\t\t\t\t\t<Text>{\"This is the backgorund\"}</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t  renderTopForeground={(width) => {\n\t\t\t\t\t\t\t\t\t\t\t  return(\n\t\t\t\t\t\t\t\t\t\t\t\t  <ImageOverlays width={width}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t  <ImageOverlayCustom position={ImageOverlayPosition.TOP_RIGHT}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <View style={{backgroundColor: \"orange\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <Text>{\"TOP_RIGHT\"}</Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  </View>\n\t\t\t\t\t\t\t\t\t\t\t\t\t  </ImageOverlayCustom>\n\t\t\t\t\t\t\t\t\t\t\t\t\t  <ImageOverlayCustom position={ImageOverlayPosition.BOTTOM_RIGHT}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <View style={{backgroundColor: \"orange\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <Text>{\"BOTTOM_RIGHT\"}</Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  </View>\n\t\t\t\t\t\t\t\t\t\t\t\t\t  </ImageOverlayCustom>\n\t\t\t\t\t\t\t\t\t\t\t\t  </ImageOverlays>\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t  }}\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t\t<View style={{width: \"50%\"}}>\n\t\t\t\t\t<DefaultComponentCard liked={true} small={true} renderTop={(width) => {\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<View style={{width: width, height: width, backgroundColor: \"red\"}}>\n\t\t\t\t\t\t\t\t<Text>{\"This is the backgorund\"}</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t  renderTopForeground={(width) => {\n\t\t\t\t\t\t\t\t\t\t\t  return(\n\t\t\t\t\t\t\t\t\t\t\t\t  <ImageOverlays width={width}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t  <ImageOverlayCustom position={ImageOverlayPosition.TOP_RIGHT}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <View style={{backgroundColor: \"orange\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <Text>{\"TOP_RIGHT\"}</Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  </View>\n\t\t\t\t\t\t\t\t\t\t\t\t\t  </ImageOverlayCustom>\n\t\t\t\t\t\t\t\t\t\t\t\t\t  <ImageOverlayCustom position={ImageOverlayPosition.BOTTOM_RIGHT}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <View style={{backgroundColor: \"orange\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <Text>{\"BOTTOM_RIGHT\"}</Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  </View>\n\t\t\t\t\t\t\t\t\t\t\t\t\t  </ImageOverlayCustom>\n\t\t\t\t\t\t\t\t\t\t\t\t  </ImageOverlays>\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t  }}\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t\t<Divider></Divider>\n\t\t\t\t<View style={{width: 300, height: 300, backgroundColor: \"red\"}}>\n\t\t\t\t\t<ImageOverlays>\n\t\t\t\t\t\t<ImageOverlayCustom position={ImageOverlayPosition.TOP_RIGHT} width={300}>\n\t\t\t\t\t\t\t<View style={{backgroundColor: \"orange\"}}>\n\t\t\t\t\t\t\t\t<Text>{\"TOP_RIGHT\"}</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</ImageOverlayCustom>\n\t\t\t\t\t\t<ImageOverlayCustom position={ImageOverlayPosition.BOTTOM_RIGHT} width={300}>\n\t\t\t\t\t\t\t<View style={{backgroundColor: \"orange\"}}>\n\t\t\t\t\t\t\t\t<Text>{\"BOTTOM_RIGHT\"}</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</ImageOverlayCustom>\n\t\t\t\t\t</ImageOverlays>\n\t\t\t\t</View>\n\t\t\t\t<Divider></Divider>\n\t\t\t\t<Text>Text 1</Text>\n\t\t\t\t<Divider/>\n\t\t\t\t<Text>Tooltip outside with accesibility (not working)</Text>\n\t\t\t\t<Tooltip label={\"Tooltip\"} accessibilityLabel={\"Tooltip A\"} >\n\t\t\t\t\t<Button style={{backgroundColor: \"transparent\"}}>\n\t\t\t\t\t\t<Icon name={\"magnify\"}  />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Divider/>\n\t\t\t\t<Text>Tooltip inside with accesibility (not working)</Text>\n\t\t\t\t<Button style={{backgroundColor: \"transparent\"}}>\n\t\t\t\t\t<Tooltip label={\"Tooltip\"} accessibilityLabel={\"Tooltip B\"} >\n\t\t\t\t\t\t<Icon name={\"magnify\"}  />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Button>\n\t\t\t\t<Divider/>\n\t\t\t\t<Text>Tooltip seperated with accesibility (working)</Text>\n\t\t\t\t<Button style={{backgroundColor: \"transparent\"}}>\n\t\t\t\t\t<Tooltip label={\"Tooltip\"} >\n\t\t\t\t\t\t<Icon name={\"magnify\"} accessibilityLabel={\"Tooltip B\"} />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Button>\n\t\t\t\t<Divider/>\n\t\t\t\t<Text>Tooltip seperated with accesibility (working \"Button\")</Text>\n\t\t\t\t<Button style={{backgroundColor: \"transparent\"}} accessibilityLabel={\"Button\"}>\n\t\t\t\t\t<Tooltip label={\"Tooltip\"} >\n\t\t\t\t\t\t<Icon name={\"magnify\"} />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Button>\n\t\t\t\t<Divider/>\n\t\t\t\t<Text>Tooltip seperated with accesibility (working \"Button\")</Text>\n\t\t\t\t<Button style={{backgroundColor: \"transparent\"}} accessibilityLabel={\"Button\"}>\n\t\t\t\t\t<Tooltip label={\"Tooltip\"} >\n\t\t\t\t\t\t<Icon name={\"magnify\"} accessibilityLabel={\"Icon\"} />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Button>\n\t\t\t\t<Divider/>\n\t\t\t\t<Text>{\"Icon without Accessibility: Not working\"}</Text>\n\t\t\t\t<Icon name={\"check\"} size={20} color={\"green\"}/>\n\t\t\t\t<Divider/>\n\t\t\t\t<Text>{\"Icon inside icon Accessibility: Working\"}</Text>\n\t\t\t\t<Icon accessibilityLabel={\"check\"} name={\"check\"} size={20} color={\"green\"}/>\n\t\t\t\t<Divider/>\n\t\t\t\t<Text>{\"Icon wrapped in view Accessibility: Not working\"}</Text>\n\t\t\t\t<View accessibilityLabel={\"check\"}>\n\t\t\t\t\t<Icon name={\"check\"} size={20} color={\"green\"}/>\n\t\t\t\t</View>\n\t\t\t\t<Divider />\n\t\t\t\t<Text>{\"Touchable Icon with Accessibility: A (not working)\"}</Text>\n\t\t\t\t<ViewPixelRatio style={{}}>\n\t\t\t\t\t<View accessibilityLabel={\"Accessibility: A\"}>\n\t\t\t\t\t\t<TouchableOpacity onPress={() => {\n\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Icon name={\"check\"} color={\"green\"} />\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t</View>\n\t\t\t\t</ViewPixelRatio>\n\t\t\t\t<Divider />\n\t\t\t\t<Text>{\"Touchable Icon with Accessibility: B (not working)\"}</Text>\n\t\t\t\t<ViewPixelRatio style={{}} accessibilityLabel={\"Accessibility: B\"}>\n\t\t\t\t\t\t<TouchableOpacity onPress={() => {\n\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Icon name={\"check\"} color={\"green\"} />\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</ViewPixelRatio>\n\t\t\t\t<Divider />\n\t\t\t\t<Text>{\"Touchable Icon with Accessibility: C (working)\"}</Text>\n\t\t\t\t<ViewPixelRatio style={{}} >\n\t\t\t\t\t<TouchableOpacity accessibilityLabel={\"Accessibility: C\"} onPress={() => {\n\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Icon name={\"check\"} color={\"green\"} />\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</ViewPixelRatio>\n\t\t\t\t<Divider />\n\t\t\t\t<Text>{\"Touchable Icon with Accessibility: D (working)\"}</Text>\n\t\t\t\t<ViewPixelRatio style={{}} >\n\t\t\t\t\t<TouchableOpacity onPress={() => {}}>\n\t\t\t\t\t\t<Icon accessibilityLabel={\"Accessibility: D\"} name={\"check\"} color={\"green\"} />\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</ViewPixelRatio>\n\t\t\t\t<Divider />\n\t\t\t\t<Text>{\"Touchable Icon with Accessibility: E\"}</Text>\n\t\t\t\t<ViewPixelRatio style={{}} >\n\t\t\t\t\t<TouchableOpacity accessibilityLabel={\"Accessibility: 1\"} onPress={() => {}}>\n\t\t\t\t\t\t<Icon accessibilityLabel={\"Accessibility: 2\"} name={\"check\"} color={\"green\"} />\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</ViewPixelRatio>\n\t\t\t\t<Divider />\n\t\t\t\t<Text>{\"Touchable\"}</Text>\n\t\t\t\t<View style={{width: 300, height: 300, backgroundColor: \"red\"}}>\n\t\t\t\t\t<View style={{width: 200, height: 200, backgroundColor: \"orange\"}}>\n\t\t\t\t\t\t<View style={{width: 200, height: 100, backgroundColor: \"yellow\"}}>\n\t\t\t\t\t\t\t<Text>{\"YELLOW YELLOW YELLOW YELLOW YELLOW YELLOW YELLOW YELLOW\"}</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<View style={{width: 200, height: 100, backgroundColor: \"brown\"}}>\n\t\t\t\t\t\t\t<Text>{\"BROWN BROWN BROWN BROWN BROWN BROWN BROWN BROWN \"}</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{position: \"absolute\", top: 0, left: 0, width: 100, height: 100, backgroundColor: \"green\"}}>\n\t\t\t\t\t\t<Text>{\"GREEN GREEN GREEN GREEN\"}</Text>\n\t\t\t\t\t</View>\n\t\t\t\t\t<Text>{\"RED RED RED RED RED RED RED RED RED RED RED RED RED RED RED RED RED RED RED RED\"}</Text>\n\t\t\t\t</View>\n\t\t\t\t<Divider />\n\t\t\t</View>\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {View, Text, Button} from \"native-base\";\nimport {useNearestLocation} from \"../../../helper/synchedHelper/useNearestLocation\";\nimport {CommonSystemActionHelper} from \"../../../helper/SystemActionHelper\";\n\ninterface AppState {\n\n}\nexport const PositionDebug: FunctionComponent<AppState> = (props) => {\n\n    const location = useNearestLocation();\n\n    // corresponding componentDidMount\n    useEffect(() => {\n        // @ts-ignore\n    }, [props?.route])\n\n  return (\n      <View style={{width: \"100%\", height: \"100%\"}}>\n          <Text>{\"Debug Position\"}</Text>\n          <Text>{\"lat: \"+location.latitude}</Text>\n          <Text>{\"lon: \"+location.longitude}</Text>\n          <Button onPress={() => {\n              CommonSystemActionHelper.openMaps(location);\n          }} ><Text>{\"Open Position in system Map\"}</Text></Button>\n      </View>\n  )\n}\n","import React, {useEffect} from \"react\";\nimport {Input, Text, View} from \"native-base\";\nimport {useSynchedState, RequiredStorageKeys} from \"../../../../kitcheningredients\";\nimport {SynchedStateKeys} from \"../../../helper/synchedVariables/SynchedStateKeys\";\n\nexport const SynchedVariableText = (props) => {\n\n\tconst [synchedText, setSynchedText] = useSynchedState(SynchedStateKeys.exampleSynchedText);\n\tconst [synchedStorageText, setSynchedStorageText] = useSynchedState(RequiredStorageKeys.KEY_TEST_VALUE);\n\n\t// corresponding componentDidMount\n\tuseEffect(() => {\n\n\t}, [props?.route?.params])\n\n\treturn(\n\t\t<>\n\t\t\t<Text>{\"Synched Text\"}</Text>\n\t\t\t<Text>{synchedText}</Text>\n\t\t\t<View style={{marginVertical: 10}} >\n\t\t\t\t<Input\n\t\t\t\t\tvalue={synchedText}\n\t\t\t\t\tonChange={(event) => { // @ts-ignore\n\t\t\t\t\t\tsetSynchedText(event.nativeEvent.text)\n\t\t\t\t\t}} placeholder=\"Synched Text\" size=\"lg\" />\n\t\t\t</View>\n\t\t\t<Text>{\"synchedStorageText\"}</Text>\n\t\t\t<Text>{synchedStorageText}</Text>\n\t\t\t<View style={{marginVertical: 10}} >\n\t\t\t\t<Input\n\t\t\t\t\tvalue={synchedStorageText}\n\t\t\t\t\tonChange={(event) => { // @ts-ignore\n\t\t\t\t\t\tsetSynchedStorageText(event.nativeEvent.text)\n\t\t\t\t\t}} placeholder=\"synchedStorageText\" size=\"lg\" />\n\t\t\t</View>\n\n\t\t</>\n\t)\n}\n","import React, {useEffect, useState} from \"react\";\nimport {Box, Divider, Slider, Stack, View, Text, Input} from \"native-base\";\nimport {GridList} from \"../../../components/GridList\";\nimport {Ionicons, MaterialCommunityIcons} from \"@expo/vector-icons\";\nimport {Icon, TextWithIcon} from \"../../../../kitcheningredients\";\n\nexport const IconListExample = (props) => {\n\n\tconst [search, setSearch] = useState(\"\");\n\n\tfunction renderIcon(icon){\n\t\treturn (\n\t\t\t<View key={icon} style={{margin: 10, flexDirection: \"column\"}}>\n\t\t\t\t<Icon name={icon} />\n\t\t\t\t<Text>{icon}</Text>\n\t\t\t</View>\n\t\t)\n\t}\n\n\tfunction filterForSearch(allKeys){\n\t\tif(search===\"\"){\n\t\t\treturn allKeys;\n\t\t} else {\n\t\t\tlet results = [];\n\t\t\tfor(let key of allKeys){\n\t\t\t\tif((key.toLowerCase()+\"\").includes(search.toLowerCase())){\n\t\t\t\t\tresults.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn results;\n\t\t}\n\t}\n\n\tfunction renderIcons(){\n\t\tlet icons = MaterialCommunityIcons.getRawGlyphMap();\n\t\tlet output = [];\n\t\tlet keys = filterForSearch(Object.keys(icons));\n\t\tfor(let i=0; i<100; i++){\n\t\t\tlet icon = keys[i];\n\t\t\toutput.push(renderIcon(icon))\n\t\t}\n\t\treturn output;\n\t}\n\n\treturn(\n\t\t<View style={{width: \"100%\"}}>\n\t\t\t<Text>{\"Search for: \"}</Text>\n\t\t\t<Input style={{flex: 1}} value={search} onChangeText={(newSearch) => {setSearch(newSearch)}} />\n\t\t\t<Text>{\"Results\"}</Text>\n\t\t\t<GridList useFlatList={true} >\n\t\t\t\t{renderIcons()}\n\t\t\t</GridList>\n\t\t</View>\n\t)\n}\n","import { useEffect, useState } from 'react'\nimport {Platform} from \"react-native\";\n\nasync function getOTAMetaData() {\n    if(Platform.OS===\"web\"){\n        return null;\n    } else {\n        /**\n        const codePush = require(\"react-native-code-push\");\n        try {\n            const metaData = await codePush.getUpdateMetadata()\n\n            return metaData\n        } catch (error) {\n            return null\n        }\n         */\n        return null;\n    }\n}\n\nexport function useOTAMetaData() {\n    const [appMetaData, setAppetaData] = useState(null)\n\n    useEffect(() => {\n        getOTAMetaData().then((OTAVersion) => {\n            if (OTAVersion) {\n                setAppetaData(OTAVersion)\n            }\n        })\n    }, [])\n\n    return { appMetaData }\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Spacer, Text, View} from \"native-base\";\n\nimport { useOTAMetaData } from \"../../../helper/codepushmetahelper\"\n\nexport const CodePush: FunctionComponent = (props) => {\n\n\tconst { appMetaData } = useOTAMetaData()\n\n\t//console.log(\"appMetaData: \");\n\t//console.log(appMetaData);\n\n\treturn(\n\t\t<>\n\t\t\t<View style={{width: \"100%\", height: \"100%\"}}>\n\t\t\t\t<Text>{\"DEBUG INFORMATIONS\"}</Text>\n\t\t\t\t<Spacer />\n\t\t\t\t<Text>{\"label: \"+appMetaData?.label}</Text>\n\t\t\t\t<Text>{\"appVersion: \"+appMetaData?.appVersion}</Text>\n\t\t\t\t<Text>{\"failedInstall: \"+appMetaData?.failedInstall}</Text>\n\t\t\t\t<Text>{\"isFirstRun: \"+appMetaData?.isFirstRun}</Text>\n\t\t\t\t<Text>{\"isMandatory: \"+appMetaData?.isMandatory}</Text>\n\t\t\t\t<Text>{\"isPending: \"+appMetaData?.isPending}</Text>\n\t\t\t\t<Text>{\"packageSize: \"+appMetaData?.packageSize}</Text>\n\t\t\t\t<Text>{\"packageHash: \"+appMetaData?.packageHash}</Text>\n\t\t\t\t<Spacer />\n\t\t\t\t<Text>{\"appMetaData: \"}</Text>\n\t\t\t\t<Text>{JSON.stringify(appMetaData)}</Text>\n\t\t\t</View>\n\t\t</>\n\t)\n}\n","import React, {useEffect, useState} from \"react\";\nimport {Box, Divider, Slider, Stack, View, Text} from \"native-base\";\nimport {PixelRatio} from \"react-native\";\nimport {ViewPixelRatio} from \"../../../helper/ViewPixelRatio\";\nimport {Icon} from \"../../../../kitcheningredients\";\n\nexport const StyleExample = (props) => {\n\n\tconst initialValue = 70;\n\n\tlet pixelratio = PixelRatio.get();\n\n\tconst [onChangeValue, setOnChangeValue] = React.useState(initialValue);\n\tconst [onChangeEndValue, setOnChangeEndValue] = React.useState(initialValue);\n\n\tfunction renderSlider(){\n\t\treturn (\n\t\t\t<Box alignItems=\"center\" w=\"100%\">\n\t\t\t\t<Stack space={4} alignItems=\"center\" w=\"75%\">\n\t\t\t\t\t<Text textAlign=\"center\">onChangeValue - {onChangeValue}</Text>\n\t\t\t\t\t<Text textAlign=\"center\">onChangeEndValue - {onChangeEndValue}</Text>\n\t\t\t\t\t<Slider defaultValue={initialValue} colorScheme=\"cyan\" onChange={v => {\n\t\t\t\t\t\tsetOnChangeValue(Math.floor(v));\n\t\t\t\t\t}} onChangeEnd={v => {\n\t\t\t\t\t\tv && setOnChangeEndValue(Math.floor(v));\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Slider.Track>\n\t\t\t\t\t\t\t<Slider.FilledTrack />\n\t\t\t\t\t\t</Slider.Track>\n\t\t\t\t\t\t<Slider.Thumb />\n\t\t\t\t\t</Slider>\n\t\t\t\t</Stack>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tlet value = onChangeValue\n\n\tfunction renderRaw(){\n\t\treturn(\n\t\t\t<View style={{width: \"100%\", backgroundColor: \"gray\", padding: value*0.1}}><Text>{\"Raw\"}</Text></View>\n\t\t)\n\t}\n\n\tfunction renderPixelRatio(){\n\t\treturn(\n\t\t\t<ViewPixelRatio style={{width: \"100%\", backgroundColor: \"gray\", padding: value*0.1}}><Text>{\"PixelRatio\"}</Text></ViewPixelRatio>\n\t\t)\n\t}\n\n\tfunction renderPercentage(){\n\t\treturn(\n\t\t\t<View style={{width: \"100%\", backgroundColor: \"gray\", padding: value*0.1+\"%\"}}><Text>{\"Percent\"}</Text></View>\n\t\t)\n\t}\n\n\tfunction renderEm(){\n\t\treturn(\n\t\t\t<View style={{width: \"100%\", backgroundColor: \"gray\", padding: value*0.1+\"em\"}}><Text>{\"Em (only web working)\"}</Text></View>\n\t\t)\n\t}\n\n\tfunction renderRem(){\n\t\treturn(\n\t\t\t<View style={{width: \"100%\", backgroundColor: \"gray\", padding: value*0.1+\"rem\"}}><Text>{\"Rem (only web working)\"}</Text></View>\n\t\t)\n\t}\n\n\tfunction renderPx(){\n\t\treturn(\n\t\t\t<View style={{width: \"100%\", backgroundColor: \"gray\", padding: value*0.1+\"px\"}}><Text>{\"Px (not working?)\"}</Text></View>\n\t\t)\n\t}\n\n\treturn(\n\t\t<View style={{width: \"100%\"}}>\n\t\t\t{renderSlider()}\n\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t{renderRaw()}\n\t\t\t\t<Divider />\n\t\t\t\t{renderPixelRatio()}\n\t\t\t\t<Divider />\n\t\t\t\t{renderPercentage()}\n\t\t\t\t<Divider />\n\t\t\t\t{renderEm()}\n\t\t\t\t<Divider />\n\t\t\t\t{renderRem()}\n\t\t\t\t<Divider />\n\t\t\t\t{renderPx()}\n\t\t\t</View>\n\t\t\t<View>\n\t\t\t\t<Text>{\"Align and FlexDirection\"}</Text>\n\t\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t\t<Text>{\"flexDirection: row, alignItems Center\"}</Text>\n\t\t\t\t\t<View style={{flexDirection: \"row\", width: \"100%\", alignItems: \"center\"}}>\n\t\t\t\t\t\t<View style={{flex: 1, backgroundColor: \"orange\"}}>\n\t\t\t\t\t\t\t<Icon name={\"account\"} />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<View style={{flex: 1, backgroundColor: \"red\"}}>\n\t\t\t\t\t\t\t<Text>{\"Account Icon\"}</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t\t<Text>{\"flexDirection: row, justifyContent Center\"}</Text>\n\t\t\t\t\t<View style={{flexDirection: \"row\", width: \"100%\", justifyContent: \"center\"}}>\n\t\t\t\t\t\t<View style={{flex: 1, backgroundColor: \"orange\"}}>\n\t\t\t\t\t\t\t<Icon name={\"account\"} />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<View style={{flex: 1, backgroundColor: \"red\"}}>\n\t\t\t\t\t\t\t<Text>{\"Account Icon\"}</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t\t<Text>{\"flexDirection: column, alignItems Center\"}</Text>\n\t\t\t\t\t<View style={{flexDirection: \"column\", width: \"100%\", alignItems: \"center\"}}>\n\t\t\t\t\t\t<View style={{flex: 1, backgroundColor: \"orange\"}}>\n\t\t\t\t\t\t\t<Icon name={\"account\"} />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<View style={{flex: 1, backgroundColor: \"red\"}}>\n\t\t\t\t\t\t\t<Text>{\"Account Icon\"}</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t\t<Text>{\"flexDirection: column, justifyContent Center\"}</Text>\n\t\t\t\t\t<View style={{flexDirection: \"column\", width: \"100%\", justifyContent: \"center\"}}>\n\t\t\t\t\t\t<View style={{flex: 1, backgroundColor: \"orange\"}}>\n\t\t\t\t\t\t\t<Icon name={\"account\"} />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<View style={{flex: 1, backgroundColor: \"red\"}}>\n\t\t\t\t\t\t\t<Text>{\"Account Icon\"}</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\n\t\t\t</View>\n\t\t</View>\n\t)\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Spacer, Text, useToast, View} from \"native-base\";\nimport {Linking, Platform, TouchableOpacity} from \"react-native\";\nimport {ViewPercentageBorderradius} from \"../../../helper/ViewPercentageBorderradius\";\nimport {Icon, useThemedShade} from \"../../../../kitcheningredients\";\nimport * as IntentLauncher from 'expo-intent-launcher';\nimport {SystemActionHelper} from \"../../../helper/SystemActionHelper\";\n\nexport const SystemSettingsLinks: FunctionComponent = (props) => {\n\n\tconst themedBackground = useThemedShade(2);\n\n\tfunction renderButton(text, onPress){\n\t\treturn(\n\t\t\t<TouchableOpacity style={{flex: 1, width: \"70%\", marginBottom: 10}} onPress={async () => {\n\t\t\t\tonPress();\n\t\t\t}}>\n\t\t\t\t<ViewPercentageBorderradius bg={themedBackground} style={{padding: 20 ,flex: 1, width: \"100%\", alignItems: \"center\", justifyContent: \"center\", borderRadius: \"5%\", flexDirection: \"row\"}}>\n\t\t\t\t\t<Text>{text}</Text>\n\t\t\t\t</ViewPercentageBorderradius>\n\t\t\t</TouchableOpacity>\n\t\t)\n\t}\n\n\treturn(\n\t\t<>\n\t\t\t<View style={{width: \"100%\", height: \"100%\"}}>\n\t\t\t\t<Text>SystemSettingsLinks</Text>\n\t\t\t\t{renderButton(\"Open System App Settings (iOS & Android)\", () => {SystemActionHelper.mobileSystemActionHelper.openSystemAppSettings()})}\n\t\t\t\t{renderButton(\"Open System Settings (iOS & Android)\", () => {SystemActionHelper.mobileSystemActionHelper.openSystemSettings()})}\n\t\t\t\t{renderButton(\"Open NFC Settings (Android)\", () => {SystemActionHelper.androidSystemActionHelper.openNFCSettings()})}\n\t\t\t</View>\n\t\t</>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {DeviceInformationHelper} from \"../../../helper/DeviceInformationHelper\";\nimport {SettingsRow} from \"../../../components/settings/SettingsRow\";\nimport {SettingsSpacer} from \"../../../components/settings/SettingsSpacer\";\n\nexport const DeviceInformationDebug: FunctionComponent = (props) => {\n\n\tconst [deviceInformation, setDeviceInformation] = DeviceInformationHelper.useLocalDeviceInformation();\n\n\tfunction renderDeviceInformation(key, value){\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<SettingsRow leftContent={key} />\n\t\t\t\t<Text>{typeof value}</Text>\n\t\t\t\t<Text>{JSON.stringify(value, null, 2)}</Text>\n\t\t\t\t<SettingsSpacer />\n\t\t\t</>\n\t\t)\n\t}\n\n\tfunction renderDeviceInformations(){\n\t\tlet output = [];\n\t\tfor(let key in deviceInformation){\n\t\t\toutput.push(renderDeviceInformation(key, deviceInformation[key]));\n\t\t}\n\t\treturn output;\n\t}\n\n\treturn(\n\t\t<>\n\t\t\t<View style={{width: \"100%\", height: \"100%\"}}>\n\t\t\t\t{renderDeviceInformations()}\n\t\t\t</View>\n\t\t</>\n\t)\n}\n","import React, {useEffect, useState} from \"react\";\nimport {Actionsheet, Button, Divider, Input, ScrollView, Spacer, Text, useDisclose, useToast, View} from \"native-base\";\nimport {MyActionsheet} from \"../../../kitcheningredients\";\nimport {AppTranslation} from \"../../components/translations/AppTranslation\";\n\nexport const DebugPlayground = (props) => {\n\n\tconst actionsheet = MyActionsheet.useActionsheet();\n\n\treturn(\n\t\t<View style={{width: \"100%\"}}>\n\t\t\t<Text>DebugPlayground</Text>\n\t\t\t<Button\tonPress={() => {\n\t\t\t\tactionsheet.show({\n\t\t\t\t\ttitle: \"Title\",\n\t\t\t\t\tacceptLabel: <AppTranslation id={\"accept\"} />,\n\t\t\t\t\tcancelLabel: <AppTranslation id={\"cancel\"} />,\n\t\t\t\t\tonAccept: () => {\n\t\t\t\t\t\t//console.log(\"accept\");\n\t\t\t\t\t\tactionsheet.show({\n\t\t\t\t\t\t\ttitle: \"Next Menu\",\n\t\t\t\t\t\t\tacceptLabel: \"Only Accept given\",\n\t\t\t\t\t\t\tonAccept: () => {\n\t\t\t\t\t\t\t\t//console.log(\"accept 2\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tonCancel: () => {\n\t\t\t\t\t\t//console.log(\"Cancel\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}}>Toastsheet</Button>\n\t\t</View>\n\t)\n}\n","import {Text, View} from \"native-base\";\nimport React, {useEffect} from \"react\";\nimport {Icon, ServerAPI} from \"../../../kitcheningredients\";\nimport {useSynchedDirectusSettings} from \"../../helper/synchedJSONState\";\nimport {SettingsRow} from \"../../components/settings/SettingsRow\";\n\nexport const DirectusSettings = (props: any) => {\n\n    const [directusSettings, setDirectusSettings] = useSynchedDirectusSettings();\n\n    function renderSettings(){\n        let keys = Object.keys(directusSettings);\n        let renderedSettings = [];\n        for(let key of keys){\n            let value = directusSettings[key];\n            renderedSettings.push(renderSetting(key, value));\n        }\n        return renderedSettings;\n    }\n\n    function renderSetting(key: any, value: any){\n        return <SettingsRow leftContent={<Text>{key+\": \"+value}</Text>} leftIcon={<Icon name={\"tag\"}/>} />\n    }\n\n    return (\n        <View style={{width: \"100%\"}}>\n            {renderSettings()}\n        </View>\n    );\n}\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Input, View} from \"native-base\";\n\nexport const KeyboardAvoidingScrollviewExample: FunctionComponent = (props) => {\n\n\treturn(\n\t\t<View style={{height: \"100%\", width: \"100%\"}}>\n\t\t\t<Input key={\"1\"} placeholder={\"Test\"}/>\n\t\t\t<View style={{height: 500, width: \"100%\", backgroundColor: \"red\"}} />\n\t\t\t<Input key={\"2\"} placeholder={\"Test\"}/>\n\t\t\t<View style={{height: 500, width: \"100%\", backgroundColor: \"red\"}} />\n\t\t\t<Input key={\"3\"} placeholder={\"Test\"}/>\n\t\t\t<View style={{height: 500, width: \"100%\", backgroundColor: \"red\"}} />\n\t\t\t<Input key={\"4\"} placeholder={\"Test\"}/>\n\t\t\t<View style={{height: 500, width: \"100%\", backgroundColor: \"red\"}} />\n\t\t\t<Input key={\"5\"} placeholder={\"Test\"}/>\n\t\t\t<View style={{height: 500, width: \"100%\", backgroundColor: \"red\"}} />\n\t\t</View>\n\t)\n}","import React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport {Input, ScrollView, Text, View} from \"native-base\";\nimport {SettingsSpacer} from \"../../../components/settings/SettingsSpacer\";\nimport {SettingsRow} from \"../../../components/settings/SettingsRow\";\nimport * as Notifications from 'expo-notifications';\nimport {NotificationHelper} from \"../../../helper/notification/NotificationHelper\";\nimport {ConfigHolder} from \"../../../../kitcheningredients\";\nimport {SettingsRowTextEditComponent} from \"../../../components/settings/SettingsRowTextEditComponent\";\nimport {MyTouchableOpacity} from \"../../../components/buttons/MyTouchableOpacity\";\nimport {CommonSystemActionHelper} from \"../../../helper/SystemActionHelper\";\n\nexport const NotificationExample = (props) => {\n\n\tconst [notificationObj, setNotificationObj] = NotificationHelper.useNotificationPermission();\n\n\tconst [permission, setPermission] = useState(undefined)\n\tconst [requestPermission, setRequestPermission] = useState(undefined)\n\tconst [devicePushToken, setDevicePushToken] = useState(undefined)\n\tconst [devicePushResult, setDevicePushResult] = useState(undefined)\n\tconst [badgeCount, setBadgeCount] = useState(undefined)\n\tconst [setBadgeCountResponse, setSetBadgeCountResponse] = useState(undefined)\n\tconst [scheduleNotification, setScheduleNotification] = useState(undefined)\n\tconst [allScheduleNotification, setAllScheduleNotification] = useState(undefined)\n\tconst [notificationChannel, setNotificationChannel] = useState(undefined)\n\tconst [allNotificationChannels, setAllNotificationChannels] = useState(undefined)\n\n\n    function getExperienceId(){\n\t\treturn ConfigHolder?.AppConfig?.experienceId;\n\t}\n\n\n\tasync function run(setFunction, func){\n\t\ttry{\n\t\t\tlet newPermission = await func();\n\t\t\tsetFunction(newPermission)\n\t\t} catch (err){\n\t\t\tsetFunction(err.toString())\n\t\t}\n\t}\n\n\tfunction renderFunc(name, state, setState, func){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<SettingsRow leftContent={name} onPress={() => {\n\t\t\t\t\tif(!!setState && !!func){\n\t\t\t\t\t\trun(setState, func)\n\t\t\t\t\t}\n\t\t\t\t}} />\n\t\t\t\t<Text selectable={true} >{JSON.stringify(state, null, 2)}</Text>\n\t\t\t\t<SettingsSpacer />\n\t\t\t</>\n\t\t)\n\t}\n\n\treturn(\n\t\t<View style={{width: \"100%\"}}>\n\t\t\t{renderFunc(\"getPermissionsAsync\", permission, setPermission, Notifications.getPermissionsAsync)}\n\t\t\t{renderFunc(\"requestPermissionsAsync\", requestPermission, setRequestPermission, Notifications.requestPermissionsAsync)}\n\t\t\t{renderFunc(\"getDevicePushTokenAsync\", devicePushToken, setDevicePushToken, async () => {\n\t\t\t\ttry{\n\t\t\t\t\tconst experienceId = getExperienceId();\n\t\t\t\t\tconst token = await Notifications.getExpoPushTokenAsync({\n\t\t\t\t\t\texperienceId: experienceId,\n\t\t\t\t\t});\n\t\t\t\t\treturn token;\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn e.toString()\n\t\t\t\t}\n\t\t\t})}\n\t\t\t<SettingsRowTextEditComponent\n\t\t\t\tkey={JSON.stringify(devicePushToken)}\n\t\t\t\tsaveText={\"Save\"}\n\t\t\t\tcancelText={\"Cancel\"}\n\t\t\t\tplaceholder={\"ExponentPushToken[xxxxxxxxxxxxxxxxxxxxxx]\"}\n\t\t\t\tinitialValue={devicePushToken?.data}\n\t\t\t\tonChange={async (value) => {\n\t\t\t\t\tif(!!value){\n\t\t\t\t\t\t// Send a notification to this device with token via the Expo push server\n\t\t\t\t\t\tlet currentLog = \"Value: \" + value + \"\\n\";\n\n\t\t\t\t\t\tconst message = {\n\t\t\t\t\t\t\tto: value,\n\t\t\t\t\t\t\tsound: 'default',\n\t\t\t\t\t\t\ttitle: 'Original Title',\n\t\t\t\t\t\t\tbody: 'And here is the body!',\n\t\t\t\t\t\t\tdata: { data: 'goes here' },\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// Send the message using axios\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tconst proxyUrl = 'https://cors-anywhere.herokuapp.com/';\n\t\t\t\t\t\t\tconst targetUrl = 'https://exp.host/--/api/v2/push/send';\n\t\t\t\t\t\t\tawait axios.post(proxyUrl + targetUrl, message);\n\t\t\t\t\t\t\tcurrentLog += \"Success\";\n\t\t\t\t\t\t\tsetDevicePushResult(currentLog);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tcurrentLog += e.toString() + \"\\n\"\n\t\t\t\t\t\t\tsetDevicePushResult(currentLog)\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetDevicePushResult(\"No token\")\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}}\n\t\t\t\tdescription={\"Enter a device push token to send a notification\"}\n\t\t\t\ticon={\"send\"}\n\t\t\t/>\n\t\t\t<Text>{JSON.stringify(devicePushResult, null, 2)}</Text>\n\t\t\t<MyTouchableOpacity accessibilityLabel={\"CORS\"} onPress={() => {\n\t\t\t\tCommonSystemActionHelper.openExternalURL(\"https://cors-anywhere.herokuapp.com/\")\n\t\t\t}\t}>\n\t\t\t\t<Text>{\"CORS\"}</Text>\n\t\t\t</MyTouchableOpacity>\n\t\t\t{renderFunc(\"getBadgeCountAsync\", badgeCount, setBadgeCount, Notifications.getBadgeCountAsync)}\n\t\t\t{renderFunc(\"setBadgeCountAsync 123\", setBadgeCountResponse, setSetBadgeCountResponse, Notifications.setBadgeCountAsync.bind(null, 123))}\n\t\t\t{renderFunc(\"setBadgeCountAsync 0\", setBadgeCountResponse, setSetBadgeCountResponse, Notifications.setBadgeCountAsync.bind(null, 0))}\n\t\t\t{renderFunc(\"scheduleNotificationAsync\", scheduleNotification, setScheduleNotification, Notifications.scheduleNotificationAsync.bind(null, {\n\t\t\t\tcontent: {\n\t\t\t\t\ttitle: 'Look at that notification',\n\t\t\t\t\tbody: \"I'm so proud of myself!\",\n\t\t\t\t},\n\t\t\t\ttrigger: {\n\t\t\t\t\tseconds: 10,\n\t\t\t\t\tchannelId: 'testChannel',\n\t\t\t\t},\n\t\t\t}))}\n\t\t\t{renderFunc(\"getAllScheduledNotificationsAsync\", allScheduleNotification, setAllScheduleNotification, Notifications.getAllScheduledNotificationsAsync)}\n\t\t\t{renderFunc(\"setNotificationChannelAsync\", notificationChannel, setNotificationChannel, Notifications.setNotificationChannelAsync.bind(null, 'testChannel', {\n\t\t\t\tname: 'Test notifications',\n\t\t\t}))}\n\t\t\t{renderFunc(\"getNotificationChannelsAsync\", allNotificationChannels, setAllNotificationChannels, Notifications.getNotificationChannelsAsync)}\n\n\n\t\t\t<View><Text>{\"Current Hook Values\"}</Text></View>\n\t\t\t{renderFunc(\"notificationObj\", notificationObj, null, null)}\n\t\t</View>\n\t)\n}\n","\nimport { MapMarker, MapShape } from 'expo-leaflet'\n\nexport const circle: MapShape = {\n    shapeType: 'circle',\n    color: '#123123',\n    id: '1',\n    center: { lat: 34.225727, lng: -77.94471 },\n    radius: 2000,\n}\n\nexport const circleMarker: MapShape = {\n    shapeType: 'circle',\n    color: 'red',\n    id: '2',\n    center: { lat: 38.437424, lng: -78.867912 },\n    radius: 15,\n}\n\nexport const polygon: MapShape = {\n    shapeType: 'polygon',\n    color: 'blue',\n    id: '3',\n    positions: [\n        { lat: 38.80118939192329, lng: -74.69604492187501 },\n        { lat: 38.19502155795575, lng: -74.65209960937501 },\n        { lat: 39.07890809706475, lng: -71.46606445312501 },\n    ],\n}\n\nexport const multiPolygon: MapShape = {\n    shapeType: 'polygon',\n    color: 'violet',\n    id: '4',\n    positions: [\n        [\n            { lat: 37.13842453422676, lng: -74.28955078125001 },\n            { lat: 36.4433803110554, lng: -74.26208496093751 },\n            { lat: 36.43896124085948, lng: -73.00964355468751 },\n            { lat: 36.43896124085948, lng: -73.00964355468751 },\n        ],\n        [\n            { lat: 37.505368263398104, lng: -72.38891601562501 },\n            { lat: 37.309014074275915, lng: -71.96594238281251 },\n            { lat: 36.69044623523481, lng: -71.87805175781251 },\n            { lat: 36.58024660149866, lng: -72.75146484375001 },\n            { lat: 37.36579146999664, lng: -72.88330078125001 },\n        ],\n    ],\n}\n\nexport const polyline: MapShape = {\n    shapeType: 'polyline',\n    color: 'orange',\n    id: '5',\n    positions: [\n        { lat: 35.411438052435486, lng: -78.67858886718751 },\n        { lat: 35.9602229692967, lng: -79.18945312500001 },\n        { lat: 35.97356075349624, lng: -78.30505371093751 },\n    ],\n}\n\nexport const multiPolyline: MapShape = {\n    shapeType: 'polyline',\n    color: 'purple',\n    id: '5a',\n    positions: [\n        [\n            { lat: 36.36822190085111, lng: -79.26086425781251 },\n            { lat: 36.659606226479696, lng: -79.28833007812501 },\n            { lat: 36.721273880045004, lng: -79.81018066406251 },\n        ],\n        [\n            { lat: 35.43381992014202, lng: -79.79370117187501 },\n            { lat: 35.44277092585766, lng: -81.23840332031251 },\n            { lat: 35.007502842952896, lng: -80.837402343750017 },\n        ],\n    ],\n}\n\nexport const rectangle: MapShape = {\n    shapeType: 'rectangle',\n    color: 'yellow',\n    id: '6',\n    bounds: [\n        [36.5, -75.7],\n        [38.01, -73.13],\n    ],\n}\n\nexport const mapShapes: Array<MapShape> = [\n    {\n        shapeType: 'circle',\n        color: '#123123',\n        id: '1',\n        center: { lat: 34.225727, lng: -77.94471 },\n        radius: 2000,\n    },\n    {\n        shapeType: 'circleMarker',\n        color: '#dd2245',\n        id: '2',\n        center: { lat: 38.437424, lng: -78.867912 },\n        radius: 15,\n    },\n    {\n        shapeType: 'polygon',\n        color: '#4545dd',\n        id: '3',\n        positions: [\n            { lat: 38.80118939192329, lng: -74.69604492187501 },\n            { lat: 38.19502155795575, lng: -74.65209960937501 },\n            { lat: 39.07890809706475, lng: -71.46606445312501 },\n        ],\n    },\n    {\n        shapeType: 'polygon',\n        color: '#25cc25',\n        id: '4',\n        positions: [\n            [\n                { lat: 37.13842453422676, lng: -74.28955078125001 },\n                { lat: 36.4433803110554, lng: -74.26208496093751 },\n                { lat: 36.43896124085948, lng: -73.00964355468751 },\n                { lat: 36.43896124085948, lng: -73.00964355468751 },\n            ],\n            [\n                { lat: 37.505368263398104, lng: -72.38891601562501 },\n                { lat: 37.309014074275915, lng: -71.96594238281251 },\n                { lat: 36.69044623523481, lng: -71.87805175781251 },\n                { lat: 36.58024660149866, lng: -72.75146484375001 },\n                { lat: 37.36579146999664, lng: -72.88330078125001 },\n            ],\n        ],\n    },\n    {\n        shapeType: 'polyline',\n        color: 'orange',\n        id: '5',\n        positions: [\n            { lat: 35.411438052435486, lng: -78.67858886718751 },\n            { lat: 35.9602229692967, lng: -79.18945312500001 },\n            { lat: 35.97356075349624, lng: -78.30505371093751 },\n        ],\n    },\n    {\n        shapeType: 'polyline',\n        color: 'purple',\n        id: '6',\n        positions: [\n            [\n                { lat: 36.36822190085111, lng: -79.26086425781251 },\n                { lat: 36.659606226479696, lng: -79.28833007812501 },\n                { lat: 36.721273880045004, lng: -79.81018066406251 },\n            ],\n            [\n                { lat: 35.43381992014202, lng: -79.79370117187501 },\n                { lat: 35.44277092585766, lng: -81.23840332031251 },\n                { lat: 35.007502842952896, lng: -80.837402343750017 },\n            ],\n        ],\n    },\n    {\n        shapeType: 'rectangle',\n        color: 'yellow',\n        id: '7',\n        bounds: [\n            [36.5, -75.7],\n            [38.01, -73.13],\n        ],\n    },\n]\n\nexport const mapMarkers: MapMarker[] = [\n    {\n        id: '1',\n        position: { lat: 36.46410354, lng: -75.6432701 },\n        icon: '📍',\n        size: [32, 32],\n    },\n    {\n        id: '2',\n        position: { lat: 37.06452161, lng: -75.67364786 },\n        icon: '😴',\n        size: [64, 64],\n    },\n    {\n        id: '3',\n        position: { lat: 36.46410354, lng: -75.6432701 },\n        icon: 'https://www.catster.com/wp-content/uploads/2018/07/Savannah-cat-long-body-shot.jpg',\n        size: [32, 32],\n    },\n    {\n        id: '4',\n        position: { lat: 37.23310632, lng: -76.23518332 },\n        icon: `\n    <svg width=\"24\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M11.9 1a8.6 8.6 0 00-8.6 8.6c0 4.35 7.2 12.05 8.42 13.33a.24.24 0 00.35 0c1.22-1.27 8.42-9 8.42-13.33A8.6 8.6 0 0011.9 1zm0 11.67A3.07 3.07 0 1115 9.6a3.07 3.07 0 01-3.1 3.07z\"/>\n    </svg>\n    `,\n        size: [24, 24],\n    },\n]","import { ExpoLeaflet, MapLayer } from 'expo-leaflet'\nimport * as Location from 'expo-location'\nimport type { LatLngLiteral } from 'leaflet'\nimport React, { useEffect, useState } from 'react'\nimport {\n    ActivityIndicator,\n    Alert,\n    Button,\n    Platform,\n    SafeAreaView,\n    StyleSheet,\n    Text,\n    View,\n} from 'react-native'\nimport { mapMarkers, mapShapes } from './mockData'\nimport {Input} from \"native-base\";\nimport {Layout} from \"../../../../kitcheningredients\";\nimport {useSynchedDirectusSettings} from \"../../../helper/synchedJSONState\";\n\n/**\n * Copied working example from:\n *\n * https://github.com/Dean177/expo-leaflet\n *\n */\n\nconst mapOptions = {\n    attributionControl: false,\n    zoomControl: Platform.OS === 'web',\n}\n\nconst initialPosition = {\n    lat: 52.27140151152191,\n    lng: 8.044228603458789,\n}\n\nconst styles = StyleSheet.create({\n    header: {\n        height: 60,\n        backgroundColor: 'dodgerblue',\n        paddingHorizontal: 10,\n        paddingTop: 30,\n        width: '100%',\n    },\n    headerText: {\n        color: 'white',\n        fontSize: 18,\n        fontWeight: '600',\n    },\n    mapControls: {\n        backgroundColor: 'rgba(255,255,255,.5)',\n        borderRadius: 5,\n        bottom: 25,\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        left: 0,\n        marginHorizontal: 10,\n        padding: 7,\n        position: 'absolute',\n        right: 0,\n    },\n    mapButton: {\n        alignItems: 'center',\n        height: 42,\n        justifyContent: 'center',\n        width: 42,\n    },\n    mapButtonEmoji: {\n        fontSize: 28,\n    },\n})\n\nexport const MapLeaflet = (props: any) => {\n\n    let dimension = props.dimension;\n\n    const [zoom, setZoom] = useState(7)\n    const [debug, setDebug] = useState(7)\n    const [mapCenterPosition, setMapCenterPosition] = useState(initialPosition)\n    const [clickedPosition, setClickedPosition] = useState({lat: undefined, lng: undefined});\n    const [ownPosition, setOwnPosition] = useState<null | LatLngLiteral>(null)\n\n    const [directusSettings, setDirectusSettings] = useSynchedDirectusSettings();\n\n    function handleClickedAt(lat, lng){\n        setClickedPosition({lat: lat, lng: lng});\n    }\n\n    function getMapLayers(){\n\n\n        const MapBoxAccessToken = directusSettings?.mapbox_key // \"pk.eyJ1Ijoid2hlcmVzbXl3YXZlcyIsImEiOiJjanJ6cGZtd24xYmU0M3lxcmVhMDR2dWlqIn0.QQSWbd-riqn1U5ppmyQjRw\" //not our token?\n\n        const mapLayers: Array<MapLayer> = [\n            {\n//        attribution:\n                //          '<a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n                baseLayerIsChecked: false,\n                baseLayerName: 'OpenStreetMap',\n                layerType: 'TileLayer',\n                url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n            }\n        ]\n\n        if(MapBoxAccessToken){\n            mapLayers.push(\n                {\n//        attribution:\n                    //          '<a href=\"https://mapbox.com\">MapBox</a> contributors',\n                    baseLayerIsChecked: true,\n                    baseLayer: true,\n                    baseLayerName: 'Mapbox',\n                    layerType: 'TileLayer',\n                    url: `https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=`+MapBoxAccessToken,\n                },\n            )\n        }\n\n        return mapLayers;\n    }\n\n    useEffect(() => {\n        /**\n        const getLocationAsync = async () => {\n\n            let { status } = await Location.requestForegroundPermissionsAsync()\n            if (status !== 'granted') {\n                console.warn('Permission to access location was denied')\n            }\n\n            let location = await Location.getCurrentPositionAsync({})\n            if (!ownPosition) {\n                setOwnPosition({\n                    lat: location.coords.latitude,\n                    lng: location.coords.longitude,\n                })\n            }\n        }\n\n        getLocationAsync().catch((error) => {\n            console.error(error)\n        })\n         */\n    }, [props])\n\n    function renderMap(){\n        return(\n            <ExpoLeaflet\n                loadingIndicator={() => <ActivityIndicator />}\n                mapCenterPosition={mapCenterPosition}\n                mapLayers={getMapLayers()}\n                mapMarkers={mapMarkers}\n                mapOptions={mapOptions}\n                mapShapes={mapShapes}\n                maxZoom={18}\n                zoom={zoom}\n                onMessage={(message) => {\n                    //console.log(message)\n                    if(!!message.zoom){\n                        let nextZoomLevel = message.zoom;\n                        nextZoomLevel = Math.round(parseFloat(nextZoomLevel));\n                        setZoom(nextZoomLevel)\n                    }\n\n                    switch (message.tag) {\n                        case 'onMapMarkerClicked':\n                            Alert.alert(\n                                `Map Marker Touched, ID: ${message.mapMarkerId || 'unknown'}`,\n                            )\n                            break\n                        case 'onMapClicked':\n                            handleClickedAt(message.location.lat, message.location.lng);\n                            break\n                        case 'onMoveEnd':\n                            setMapCenterPosition(message.mapCenter)\n                            break\n                        case 'onZoomEnd':\n                            if(!!message.zoom){\n                                //setZoom(message.zoom)\n                            }\n                            break\n                        default:\n                            if (['onMove'].includes(message.tag)) {\n                                return\n                            }\n                            //console.log(message)\n                    }\n                }}\n            />\n        )\n    }\n\n    let width = dimension?.width || \"100%\";\n    let height = dimension?.height+Layout.padding || \"100%\";\n\n    return (\n        <View style={{height: height, width: width}}>\n            <View style={{ flex: 1, position: 'relative' }}>\n                {renderMap()}\n                <View style={{position: \"absolute\", top: 0, left: 0, with: \"80%\"}}>\n                    <Text>{\"Clicked at: \"+JSON.stringify(clickedPosition)}</Text>\n                    <Text>{\"mapCenterPosition: \"+JSON.stringify(mapCenterPosition)}</Text>\n                    <Text>{\"zoom: \"+zoom}</Text>\n                    <Button\n                        onPress={() => {\n                            setZoom(7)\n                            setMapCenterPosition(initialPosition)\n                        }}\n                        title=\"Reset Map\"\n                    />\n                </View>\n            </View>\n        </View>\n    )\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Text, View} from \"native-base\";\nimport {DetailsComponentMenus} from \"../../../components/detailsComponent/DetailsComponentMenus\";\nimport {NutritionIcon} from \"../../../components/food/nutritions/NutritionIcon\";\nimport {useAppTranslation} from \"../../../components/translations/AppTranslation\";\nimport {Icon} from \"../../../../kitcheningredients\";\nimport {SettingsRow} from \"../../../components/settings/SettingsRow\";\nimport {SettingsSpacer} from \"../../../components/settings/SettingsSpacer\";\nimport {MyButton} from \"../../../components/buttons/MyButton\";\n\nexport const ExampleSettingsRow: FunctionComponent = (props) => {\n\n\tconst translationCreate = useAppTranslation(\"create\");\n\tconst translationEvent = useAppTranslation(\"event\");\n\tconst translationCreateEvent = translationEvent+\" \"+translationCreate\n\n\tconst content = <View>\n\t\t<Text>{\"Hi my name is a long text\"}</Text>\n\t</View>\n\n\tconst menus = {\n\t\t\"nutritions\": {\n\t\t\telement: <View></View>,\n\t\t\trenderIcon: (backgroundColor, textColor) => { return <Icon name={\"chat\"} color={textColor} />},\n\t\t\trenderContent: (backgroundColor, textColor) => { return content},\n\t\t},\n\t\t\"markings\": {\n\t\t\telement: <View></View>,\n\t\t\trenderIcon: (backgroundColor, textColor) => { return <NutritionIcon color={textColor} />},\n\t\t\trenderContent: (backgroundColor, textColor) => { return content},\n\t\t\tcolor: \"red\",\n\t\t\tactiveColor: \"darkred\",\n\t\t\tamount: 5\n\t\t},\n\t\t\"comments\": {\n\t\t\telement: <View></View>,\n\t\t\trenderIcon: (backgroundColor, textColor) => { return <NutritionIcon color={textColor} />},\n\t\t\trenderContent: (backgroundColor, textColor) => { return content},\n\t\t},\n\t}\n\n\treturn(\n\t\t<>\n\t\t\t<View style={{width: \"100%\", height: \"100%\"}}>\n\t\t\t\t<Text>{\"Settings Row with Right Content\"}</Text>\n\t\t\t\t<SettingsRow leftContent={\"RC with a long content which soud be wrapped\"} rightContent={\"RC with a long content which soud be wrapped\"} leftIcon={\"chat\"} onPress={() => {}} />\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<View style={{width: \"100%\", flexDirection: \"row\"}}>\n\t\t\t\t\t<View style={{flex: 1}}>\n\t\t\t\t\t\t<MyButton iconName={\"calendar-import\"} accessibilityLabel={\"Import timetable\"} label={\"Import timetable\"} >\n\t\t\t\t\t\t</MyButton>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{flex: 1}}>\n\t\t\t\t\t\t<MyButton iconName={\"calendar-plus\"} onPress={() => {\n\n\t\t\t\t\t\t}} accessibilityLabel={translationCreateEvent} label={translationCreateEvent}>\n\t\t\t\t\t\t</MyButton>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<Text>{\"SettingsRow columns\"}</Text>\n\t\t\t\t<SettingsRow leftContent={content} leftIcon={\"chat\"} onPress={() => {}} />\n\t\t\t\t<SettingsRow leftContent={content} leftIcon={\"chat\"} onPress={() => {}} />\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<Text>{\"SettingsRow in views in flexRow\"}</Text>\n\t\t\t\t<View style={{flexDirection: \"row\", flexWrap: \"wrap\", width: \"100%\", backgroundColor: \"red\"}}>\n\t\t\t\t\t<View style={{flex: 1}}>\n\t\t\t\t\t\t<SettingsRow leftContent={content} leftIcon={\"chat\"} onPress={() => {}} />\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{flex: 1}}>\n\t\t\t\t\t\t<SettingsRow leftContent={content} leftIcon={\"chat\"} onPress={() => {}} />\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<Text>{\"SettingsRow in flexRow\"}</Text>\n\t\t\t\t<View style={{flexDirection: \"row\", width: \"100%\", backgroundColor: \"red\"}}>\n\t\t\t\t\t<SettingsRow leftContent={content} leftIcon={\"chat\"} onPress={() => {}} />\n\t\t\t\t\t<SettingsRow leftContent={content} leftIcon={\"chat\"} onPress={() => {}} />\n\t\t\t\t</View>\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<Text>{\"SettingsRow in flexRow with flexWrap\"}</Text>\n\t\t\t\t<View style={{flexDirection: \"row\", flexWrap: \"wrap\", width: \"100%\", backgroundColor: \"red\"}}>\n\t\t\t\t\t<SettingsRow leftContent={content} leftIcon={\"chat\"} onPress={() => {}} />\n\t\t\t\t\t<SettingsRow leftContent={content} leftIcon={\"chat\"} onPress={() => {}} />\n\t\t\t\t</View>\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<Text>{\"DetailsComponentMenus\"}</Text>\n\t\t\t\t<DetailsComponentMenus menus={menus} />\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<Text>{\"MyButton in column\"}</Text>\n\t\t\t\t<MyButton iconName={\"chat\"} >{content}</MyButton>\n\t\t\t\t<MyButton iconName={\"chat\"} >{content}</MyButton>\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<Text>{\"MyButton in flexRow\"}</Text>\n\t\t\t\t<View style={{flexDirection: \"row\", width: \"100%\", backgroundColor: \"red\"}}>\n\t\t\t\t\t<MyButton iconName={\"chat\"} >{content}</MyButton>\n\t\t\t\t\t<MyButton iconName={\"chat\"} >{content}</MyButton>\n\t\t\t\t</View>\n\t\t\t\t<SettingsSpacer />\n\t\t\t\t<Text>{\"MyButton in flexRow with flexWrap\"}</Text>\n\t\t\t\t<View style={{flexDirection: \"row\", flexWrap: \"wrap\", width: \"100%\", backgroundColor: \"red\"}}>\n\t\t\t\t\t<MyButton iconName={\"chat\"} >{content}</MyButton>\n\t\t\t\t\t<MyButton iconName={\"chat\"} >{content}</MyButton>\n\t\t\t\t</View>\n\t\t\t\t<SettingsSpacer />\n\t\t\t</View>\n\t\t</>\n\t)\n}\n","import React, {FunctionComponent} from \"react\";\nimport {useAppTranslation} from \"../../components/translations/AppTranslation\";\nimport {SettingsProfileLanguageComponent} from \"../../components/settings/SettingsProfileLanguageComponent\";\nimport {View} from \"native-base\";\n\nexport const LoginLanguageSelector: FunctionComponent = (props) => {\n\n\treturn(\n\t\t<View style={{width: \"100%\"}}>\n\t\t\t<SettingsProfileLanguageComponent shadeLevel={0} />\n\t\t</View>\n\t)\n}\n","// @ts-nocheck\nimport {\n\tBaseNoPaddingTemplate,\n\tBaseNoScrollTemplate,\n\tBaseTemplate, ConfigHolder,\n\tMenuItem,\n\tNavigation,\n\tPluginInterface\n} from \"../kitcheningredients\";\nimport {SynchedStateKeys} from \"./helper/synchedVariables/SynchedStateKeys\";\nimport {StorageKeys} from \"./helper/synchedVariables/StorageKeys\";\nimport {FoodOfferList} from \"./screens/food/FoodOfferList\";\nimport {FoodDetails} from \"./screens/food/FoodDetails\";\nimport React from \"react\";\nimport {SettingCanteen} from \"./screens/settings/SettingCanteen\";\nimport {Settings} from \"./screens/settings/Settings\";\nimport {SettingMarking} from \"./screens/settings/SettingMarking\";\nimport {MyHome} from \"./screens/home/MyHome\";\nimport {SyncComponent} from \"./helper/syncAndSetup/SyncComponent\";\nimport {Wikis} from \"./screens/wiki/Wikis\";\nimport {FoodList} from \"./screens/food/FoodList\";\nimport {SettingProfile} from \"./screens/settings/SettingProfile\";\nimport {Users} from \"./screens/user/Users\";\nimport {UserItem} from \"@directus/sdk\";\nimport {ImageFullscreen} from \"./screens/other/ImageFullscreen\";\nimport {ProfileRawInformation} from \"./screens/user/ProfileRawInformation\";\nimport {Profiles} from \"./screens/user/Profiles\";\nimport {ProfilesFoodFeedbacks} from \"./screens/user/ProfilesFoodFeedbacks\";\nimport {AppTranslation, useAppTranslation} from \"./components/translations/AppTranslation\";\nimport {AccountBalance} from \"./screens/accountBalance/AccountBalance\";\nimport {UpdateScreen} from \"./codepush/UpdateScreen\";\nimport {SetupComponent} from \"./helper/syncAndSetup/SetupComponent\";\nimport {BuildingsScreen} from \"./screens/buildings/BuildingsScreen\";\nimport {NewsList} from \"./screens/news/NewsList\";\nimport {NewsContent} from \"./screens/news/NewsContent\";\nimport {BuildingsContent} from \"./screens/buildings/BuildingsContent\";\nimport {CanteenContent} from \"./screens/canteen/CanteenContent\";\nimport {HousingScreen} from \"./screens/housing/HousingScreen\";\nimport {ApartmentContent} from \"./screens/housing/ApartmentContent\";\nimport {IntercardReaderExample} from \"./screens/debug/cardReader/IntercardReaderExample\";\nimport {CourseTimetable} from \"./screens/courseTimetable/CourseTimetable\";\nimport {SettingCourseTimetable} from \"./screens/settings/SettingCourseTimetable\";\nimport {SettingTranslationCourseTimetable} from \"./components/courseTimetable/SettingTranslationCourseTimetable\";\nimport {VoiceoverExample} from \"./screens/debug/accessibility/VoiceoverExample\";\nimport {PositionDebug} from \"./screens/debug/systemAndStyle/PositionDebug\";\nimport {SynchedVariableText} from \"./screens/debug/systemAndStyle/SynchedVariableText\";\nimport {IconListExample} from \"./screens/debug/systemAndStyle/IconListExample\";\nimport {CodePush} from \"./screens/debug/systemAndStyle/CodePush\";\nimport {StyleExample} from \"./screens/debug/systemAndStyle/StyleExample\";\nimport {SystemSettingsLinks} from \"./screens/debug/systemAndStyle/SystemSettingsLinks\";\nimport {DeviceInformationDebug} from \"./screens/debug/systemAndStyle/DeviceInformationDebug\";\nimport {DebugPlayground} from \"./screens/debug/DebugPlayground\";\nimport {DirectusSettings} from \"./screens/debug/DirectusSettings\";\nimport {KeyboardAvoidingScrollviewExample} from \"./screens/debug/inputs/KeyboardAvoidingScrollviewExample\";\nimport {NotificationExample} from \"./screens/debug/notification/NotificationExample\";\nimport {MapLeaflet} from \"./screens/debug/map/MapLeaflet\";\nimport {CourseTimetableEvent} from \"./screens/courseTimetable/CourseTimetableEvent\";\nimport {ExampleSettingsRow} from \"./screens/debug/systemAndStyle/ExampleSettingsRow\";\nimport {Conversations} from \"./screens/conversations/Conversations\";\nimport {Conversation} from \"./screens/conversations/Conversation\";\nimport {SettingPriceGroup} from \"./screens/settings/SettingPriceGroup\";\nimport {LoginLanguageSelector} from \"./screens/login/LoginLanguageSelector\";\nimport {StringHelper} from \"./helper/StringHelper\";\nimport {CommonSystemActionHelper} from \"./helper/SystemActionHelper\";\n\nconst employeeMenu = new MenuItem({\n\tkey: \"employee\",\n\tlabel: \"Mitarbeiter\",\n\ticon: \"office-building\",\n\tposition: -1,\n});\n\nconst debugMenu = new MenuItem({\n\tkey: \"debug\",\n\tlabel: \"Debug\",\n\ticon: \"bug\",\n\tposition: -2,\n});\n\n\n\nexport default class Project extends PluginInterface{\n\tprivate setProfile: any;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tStringHelper.enableReplaceAllOnOldDevices(); // TODO: why is this need even in super already called?\n\t}\n\n\tgetSynchedStateKeysClass(){\n\t\treturn SynchedStateKeys;\n\t}\n\n\tgetStorageKeysClass(){\n\t\treturn StorageKeys;\n\t}\n\n\tmyRegisterRoute(component, template, titleTranslation, webTitle, route, params?, override?){\n/**\n\t\tconst myComponent = (props) => {\n\t\t\tlet newProps = {...props}; //props are immutable, so we need to copy them\n\t\t\tnewProps.title = titleTranslation; //We cant use template.bind here, so we just set the title\n\t\t\treturn <View style={{width: \"100%\", height: \"100%\"}}>\n\t\t\t\t{template(newProps)}\n\t\t\t</View>\n\t\t}\n*/\n\t\tNavigation.routeRegister({\n\t\t\tcomponent: component,\n\t\t\t//path: route,\n\t\t\ttemplate: template,\n\t\t\ttitle: titleTranslation,\n\t\t\tparams: params,\n\t\t})\n\t}\n\n\tasync registerRoutes(user, role, permissions){\n\t\t//console.log(\"registerRoutes\");\n\t\t//console.log(user);\n\t\t//console.log(role);\n\t\tif(!!user){\n\t\t\tthis.myRegisterRoute(FoodOfferList, null, <AppTranslation id={\"foods\"} useHeaderTextColor={true} />, \"Foodoffers\", \"foodoffers\", \"/:canteenid/:date\");\n\t\t\tthis.myRegisterRoute(Profiles, BaseNoPaddingTemplate, <AppTranslation id={\"profiles\"} useHeaderTextColor={true} />, \"Profiles\", \"profiles\", \"/:id\");\n\t\t\tthis.myRegisterRoute(FoodList, null, <AppTranslation id={\"foods\"} useHeaderTextColor={true} />, \"Foods\", \"foods\");\n\t\t\tthis.myRegisterRoute(FoodDetails, BaseNoPaddingTemplate, <AppTranslation id={\"foodDetails\"} useHeaderTextColor={true} />, \"Food Details\", \"foodDetails\");\n\n\t\t\tthis.myRegisterRoute(ImageFullscreen, null, \"ImageFullscreen\", \"ImageFullscreen\", \"imagefullscreen\");\n\n\t\t\tthis.myRegisterRoute(Conversations, null, <AppTranslation id={\"conversations\"} useHeaderTextColor={true} />, \"Conversations\", \"conversations\");\n\t\t\tthis.myRegisterRoute(Conversation, null, <AppTranslation id={\"conversation\"} useHeaderTextColor={true} />, \"Conversation\", \"conversation\", \"/:id\");\n\n\t\t\t// Side Menu for User\n//\t\tlet mockMenu = new MenuItem(\"MockMenu\", \"MockMenu\", null, null, null, null, false);\n\t\t\t//Menu.registerCommonMenu(new MenuItem(\"FoodOfferList\", <AppTranslation id={\"foods\"} />, FoodOfferList, undefined, undefined, undefined, undefined, () => {return <CanteenIcon />}));\n\n\t\t\tthis.myRegisterRoute(Wikis, null, \"Wiki\", \"Wiki\", \"wikis\", \"/:id\", true);\n\n\t\t\tthis.myRegisterRoute(Users, BaseNoPaddingTemplate, \"Profile\", \"Profile\", \"users\", \"/:id?\", true);\n\n\t\t\tthis.myRegisterRoute(AccountBalance, BaseTemplate, <AppTranslation id={\"screenNameAccountBalance\"} useHeaderTextColor={true} />, \"Account balance\", \"accountBalance\");\n\t\t\tthis.myRegisterRoute(CourseTimetable, null, <AppTranslation id={\"screenNameCourseTimetable\"} useHeaderTextColor={true} />, \"Course Timetable\", \"courseTimetable\");\n\t\t\tthis.myRegisterRoute(CourseTimetableEvent, BaseNoPaddingTemplate, <AppTranslation id={\"event\"} useHeaderTextColor={true} />, \"Course Timetable Event\", \"courseTimetableEvent\", \"/:id\");\n\n\t\t\tthis.myRegisterRoute(HousingScreen, null, <AppTranslation id={\"housing\"} useHeaderTextColor={true} />, \"Housings\", \"housing\");\n\t\t\tthis.myRegisterRoute(ApartmentContent, null, <AppTranslation id={\"apartment\"} useHeaderTextColor={true} />, \"Apartment\", \"apartmentsResource\", \"/:id\");\n\n\t\t\tthis.myRegisterRoute(BuildingsScreen, null, <AppTranslation id={\"buildings\"} useHeaderTextColor={true} />, \"Buildings\", \"buildings\");\n\t\t\tthis.myRegisterRoute(BuildingsContent, null, <AppTranslation id={\"buildings\"} useHeaderTextColor={true} />, \"Buildings\", \"buildingsResource\", \"/:id\");\n\n\t\t\tthis.myRegisterRoute(CanteenContent, null, <AppTranslation id={\"canteen\"} useHeaderTextColor={true} />, \"Canteen\", \"canteensResource\", \"/:id\");\n\n\t\t\tthis.myRegisterRoute(NewsList, BaseNoPaddingTemplate, <AppTranslation id={\"news\"} useHeaderTextColor={true} />, \"News\", \"news\");\n\t\t\tthis.myRegisterRoute(NewsContent, null, <AppTranslation id={\"news\"} useHeaderTextColor={true} />, \"News\", \"newsResource\", \"/:id\");\n\n\n\n\t\t\t// Settings\n\t\t\tthis.myRegisterRoute(Settings, null, <AppTranslation id={\"settings\"} useHeaderTextColor={true} />, \"Settings\", \"settings\", undefined, true);\n\t\t\tthis.myRegisterRoute(SettingCourseTimetable, BaseNoPaddingTemplate, <SettingTranslationCourseTimetable useHeaderTextColor={true} />, \"Settings Course Timetable\", \"settingCourseTimetable\");\n\t\t\tthis.myRegisterRoute(SettingProfile, BaseNoPaddingTemplate, <AppTranslation id={\"settingsProfile\"} useHeaderTextColor={true} />, \"Settings Profile\", \"settingprofile\");\n\t\t\tthis.myRegisterRoute(ProfilesFoodFeedbacks, BaseNoPaddingTemplate, <AppTranslation id={\"profilesFoodFeedbacks\"} useHeaderTextColor={true} />, \"Food Feedbacks\", \"profilesFoodFeedbacks\");\n\t\t\tthis.myRegisterRoute(ProfileRawInformation, BaseTemplate, <AppTranslation id={\"profileRawInformation\"} useHeaderTextColor={true} />, \"Profile Raw Information\", \"profileRawInformation\");\n\t\t\tthis.myRegisterRoute(SettingCanteen, BaseNoPaddingTemplate, <AppTranslation id={\"settingcanteen\"} useHeaderTextColor={true} />, \"Setting Canteen\", \"settingcanteen\");\n\t\t\tthis.myRegisterRoute(SettingPriceGroup, null, <AppTranslation id={\"price_group\"} useHeaderTextColor={true} />, \"Setting Price Group\", \"setting_price_group\");\n\n\t\t\tthis.myRegisterRoute(SettingMarking, BaseNoScrollTemplate, <AppTranslation id={\"settingmarking\"} useHeaderTextColor={true} />, \"Setting Marking\", \"settingmarking\");\n\n\n\t\t\tProject.registerEmployeeMenus();\n\n\t\t\tProject.registerDebugMenus()\n\t\t}\n\t}\n\n\tprivate static registerEmployeeMenus(){\n\t\tlet employeeMenu = Project.getEmployeeMenu();\n\n\n\t\tlet employeeMenuBackend = new MenuItem({\n\t\t\tkey: \"employeeBackend\",\n\t\t\tlabel: \"Admin Bereich\",\n\t\t\tcommand: () => {\n\t\t\t\tlet url = ConfigHolder.instance.getBackendUrl()\n\t\t\t\tCommonSystemActionHelper.openExternalURL(url)\n\t\t\t}\n\t\t});\n\t\temployeeMenu.addChildMenuItems([employeeMenuBackend]);\n\n\t\t/**\n\t\tlet employeeMenuStatistics = new MenuItem({\n\t\t\tkey: \"employeeStatistics\",\n\t\t\tlabel: \"Statistiken\",\n\t\t});\n\n\t\temployeeMenu.addChildMenuItems([employeeMenuStatistics]);\n\t\t\t*/\n\n\t\t// TODO: Project.registerRouteAndGetDefaultMenuItems(employeeMenu, [TODO:]);\n\n\t\t// Tabellen:\n\t\t// - Users\n\t\t// - Geräte\n\t\t// - Allergene\n\t\t// - Speisefeedbacks (Bewertungen und Kommentare)\n\t\t// - Messages\n\t\t// - Event Teilnahmen\n\t\t// - Rollen\n\t\t// - Nutzer Rollen\n\t\t// - Feedbacks\n\t\t// - Allgemeine Informationen\n\n\t\t// Berichte:\n\t\t// - Speisefeedbacks - Senden/Generieren/Anzeigen lassen\n\n\t\t// Push-Nachrichten:\n\t\t// - Nutzer Anschreiben\n\n\n\t}\n\n\tprivate static registerDebugMenus(){\n\t\tlet debugMenu = Project.getDebugMenu();\n\n\t\tlet debugCardReaderMenu = new MenuItem({\n\t\t\tkey: \"debugCardReader\",\n\t\t\tlabel: \"Debug Card Reader\",\n\t\t});\n\t\tdebugMenu.addChildMenuItems([debugCardReaderMenu]);\n\t\tProject.registerRouteAndGetDefaultMenuItems(debugCardReaderMenu, [IntercardReaderExample]);\n\n\t\tlet debugAccessibilityMenu = new MenuItem({\n\t\t\tkey: \"debugAccessibility\",\n\t\t\tlabel: \"Debug Accessibility\",\n\t\t});\n\t\tdebugMenu.addChildMenuItems([debugAccessibilityMenu]);\n\t\tProject.registerRouteAndGetDefaultMenuItems(debugAccessibilityMenu, [VoiceoverExample]);\n\n\t\tlet systemAndStyleMenu = new MenuItem({\n\t\t\tkey: \"systemAndStyle\",\n\t\t\tlabel: \"System & Style\",\n\t\t});\n\t\tdebugMenu.addChildMenuItems([systemAndStyleMenu]);\n\t\tProject.registerRouteAndGetDefaultMenuItems(systemAndStyleMenu, [ExampleSettingsRow, PositionDebug, StyleExample, CodePush, SynchedVariableText, IconListExample, SystemSettingsLinks, DeviceInformationDebug, DebugPlayground]);\n\n\t\tlet serverDebugMenu = new MenuItem({\n\t\t\tkey: \"serverDebug\",\n\t\t\tlabel: \"Server Debug\",\n\t\t});\n\t\tProject.registerRouteAndGetDefaultMenuItems(serverDebugMenu, [DirectusSettings]);\n\t\tdebugMenu.addChildMenuItems([serverDebugMenu]);\n\n\t\tlet debugInputMenu = new MenuItem({\n\t\t\tkey: \"debugInput\",\n\t\t\tlabel: \"Debug Input\",\n\t\t});\n\t\tProject.registerRouteAndGetDefaultMenuItems(debugInputMenu, [KeyboardAvoidingScrollviewExample]);\n\t\tdebugMenu.addChildMenuItems([debugInputMenu]);\n\n\t\tlet debugNotificationMenu = new MenuItem({\n\t\t\tkey: \"debugNotification\",\n\t\t\tlabel: \"Debug Notification\",\n\t\t});\n\t\tProject.registerRouteAndGetDefaultMenuItems(debugNotificationMenu, [NotificationExample]);\n\t\tdebugMenu.addChildMenuItems([debugNotificationMenu]);\n\n\t\tlet debugMapMenu = new MenuItem({\n\t\t\tkey: \"debugMap\",\n\t\t\tlabel: \"Debug Map\",\n\t\t});\n\t\tProject.registerRouteAndGetDefaultMenuItems(debugMapMenu, [MapLeaflet]);\n\t\tdebugMenu.addChildMenuItems([debugMapMenu]);\n\n\t\t/**\n\t\t Project.registerRouteAndGetDefaultMenuItems(debugMenu, [AvatarsExample, ColorSliderExample]);\n\t\t */\n\t}\n\n\tstatic registerRouteAndGetDefaultMenuItems(menu: MenuItem, listOfFunctionComponents){\n\t\tfor(let fc of listOfFunctionComponents){\n\t\t\tlet route = Navigation.routeRegister({\n\t\t\t\tcomponent: fc,\n\t\t\t\ttemplate: BaseTemplate,\n\t\t\t})\n\t\t\tmenu.addChildMenuItems([MenuItem.fromRoute(route)]);\n\t\t}\n\t}\n\n\tasync initApp() {\n\t\t//console.log(\"Project init\")\n\t}\n\n\tasync onLogin(user, role){\n\t\t//console.log(\"onLogin\");\n\t}\n\n\tsetSetProfile(setProfile){\n\t\tthis.setProfile = setProfile;\n\t}\n\n\tasync onLogout(error){\n\t\t//console.log(\"onLogout\");\n\t\tif(!!this.setProfile){\n\t\t\tthis.setProfile({}, true);\n\t\t}\n\t\tif(!error){\n\t\t\t//normal logout\n\t\t} else {\n\t\t\t//logout on error\n\t\t}\n\t}\n\n\tgetAboutUsComponent() {\n\t\treturn <Wikis custom_id={\"about_us\"} hideHeader={true} />\n\t}\n\n\tgetPrivacyPolicyComponent() {\n\t\treturn <Wikis custom_id={\"privacy_policy\"} hideHeader={true} />\n\t}\n\n\tgetAccessibilityComponent(): null {\n\t\treturn <Wikis custom_id={\"accessibility\"} hideHeader={true} />\n\t}\n\n\tgetTermsAndConditionsComponent() {\n\t\treturn <Wikis custom_id={\"terms_and_conditions\"} hideHeader={true} />\n\t}\n\n\tgetUseTranslationFunction(){\n\t\treturn useAppTranslation;\n\t}\n\n\tgetBottomNavbarComponent(){\n\t\treturn null;\n\t}\n\n\trenderLoginTemplateTopRight(){\n\t\treturn <LoginLanguageSelector />;\n\t}\n\n\tgetHomeComponent(): any {\n\t\treturn <MyHome />\n\t}\n\n\tgetLoadingComponent(){\n\t\treturn <UpdateScreen message={\"\"} ignoreBytes={true} receivedBytes={0} />;\n\t}\n\n\tgetSyncComponent(){\n\t\treturn <SyncComponent getSetProfileFunction={this.setSetProfile.bind(this)} />;\n\t}\n\n\tgetRootComponent(){\n\t\treturn <SetupComponent />;\n//\t\treturn null;\n\t}\n\n\trenderCustomAuthProviders(serverInfo): []{\n\t\t//@ts-ignore\n\t\treturn null;\n\t}\n\n\trenderCustomUserAvatar(user: UserItem): JSX.Element{\n\t\t//return <UsersAvatar user={user} own={true} />;\n\t}\n\n\tgetSettingsComponent(): any {\n\t\t//return null // we have overwritten it\n\t}\n\n\tgetCustomProjectLogoComponent(): any {\n\n\t}\n\n\t/**\n\t * Own Helper\n\t */\n\n\tstatic getDebugMenu(): MenuItem {\n\t\treturn debugMenu\n\t}\n\n\tstatic getEmployeeMenu(): MenuItem {\n\t\treturn employeeMenu\n\t}\n\n\t/**\n\t * Cookies\n\t */\n\n\tgetCookieDetails(cookieName: string){\n\t\tlet defaultDetails = super.getCookieDetails(cookieName);\n\t\tdefaultDetails.provider = \"Rocket Meals\";\n\t\treturn defaultDetails;\n\t}\n\n\tgetCookieGroupName(cookieGroup: string): string{\n\t\treturn super.getCookieGroupName(cookieGroup);\n\t}\n\n\tgetCookieAdditionalGroups(){\n\t\treturn [];\n\t}\n\n\tgetCookieComponentConsent(){\n\t\treturn <Wikis custom_id={\"cookieComponentConsent\"} hideHeader={true} />\n\t}\n\n\tgetCookieComponentAbout(){\n\t\treturn <Wikis custom_id={\"cookieComponentAbout\"} hideHeader={true} />\n\t}\n\n}\n","export default {\n    dependencies: {\n      'linear-gradient': require('expo-linear-gradient').LinearGradient,\n    },\n  };","function getBackendURL(){\n    let fallbackBackendUrl = \"http://127.0.0.1/rocketmeals/api\"; // For local testing\n    fallbackBackendUrl = \"https://rocket-meals.de/demo/api\"; // For demo purpose\n    //fallbackBackendUrl = \"https://studi-futter.rocket-meals.de/backend/api\"; // For demo purpose\n\n    let backendUrl = process.env.BACKEND_URL\n\n    let customBackendUrl = process.env.CUSTOM_BACKEND_URL;\n    if(!!customBackendUrl && customBackendUrl!==\"\"){\n        backendUrl = customBackendUrl\n    }\n\n    if(!backendUrl){\n        backendUrl = fallbackBackendUrl\n    }\n    return backendUrl;\n}\n\nexport default {\n    extra: {\n        BACKEND_URL: getBackendURL(),\n        BASE_PATH: process.env.BASE_PATH || \"rocketmeals/app/\",\n    },\n        \"scheme\": \"de.rocketmeals.demo\", // npx uri-scheme list // npx uri-scheme remove de.rocketmeals.demo // npx uri-scheme add <Your SCHEME>\n        \"experienceId\": '@baumgartnersoftware/rocketmealsdemo', // visit the README.md for this section: PushNotification\n        \"name\": \"rocketmealsdemo\",\n        \"slug\": \"rocketmealsdemo\",\n        \"version\": \"1.0.2\",\n        \"orientation\": \"portrait\",\n        \"icon\": \"./assets/icon.png\",\n        \"splash\": {\n            \"image\": \"./assets/splash.png\",\n            \"resizeMode\": \"contain\",\n            \"backgroundColor\": \"#ffffff\"\n        },\n        \"updates\": {\n            \"fallbackToCacheTimeout\": 0\n        },\n        \"assetBundlePatterns\": [\"**/*\"],\n        \"ios\": {\n            \"supportsTablet\": true,\n            \"bundleIdentifier\": \"de.rocketmeals.demo\"\n        },\n        \"android\": {\n            \"googleServicesFile\": \"./google-services.json\",\n            \"adaptiveIcon\": {\n                \"foregroundImage\": \"./assets/adaptive-icon.png\",\n                \"backgroundColor\": \"#FFFFFF\"\n            },\n            \"package\": \"de.rocketmeals.demo\"\n        },\n        \"web\": {\n            \"favicon\": \"./assets/favicon.png\",\n            \"description\": \"A sample application that showcases various components that come built-in with NativeBase v3.\"\n        },\n        \"description\": \"\"\n}\n","/**\n * This file handles Web-App Builds\n * If you want to adapt the iOS and Android Entryfile open: index.js\n */\n\nimport { registerRootComponent } from 'expo';\nimport {App, ConfigHolder, MyDirectusStorage} from './src/kitcheningredients'\nimport Project from \"./src/project/Project\";\nimport nativebaseConfig from \"./nativebase.config\";\nimport styleConfig from \"./styleConfig.json\";\nimport config from \"./config.json\";\nimport currentpackageJson from \"./package.json\";\nimport currentpackageJsonLock from \"./package-lock.json\";\nimport thirdpartyLicense from \"./thirdpartyLicense.json\"\nimport AppConfig from \"./app.config\"\n\nConfigHolder.storage = new MyDirectusStorage();\nConfigHolder.plugin = new Project()\nConfigHolder.nativebaseConfig = nativebaseConfig\nConfigHolder.styleConfig = styleConfig\nConfigHolder.config = config\nConfigHolder.currentpackageJson = currentpackageJson\nConfigHolder.currentpackageJsonLock = currentpackageJsonLock\nConfigHolder.thirdpartyLicense = thirdpartyLicense\nConfigHolder.AppConfig = AppConfig\n\nConfigHolder.useCookiePolicy = true;\n\nConfigHolder.displayThemeFloater = false;\n\nConfigHolder.authConfig.mail.visible = true;\nConfigHolder.authConfig.mail.registerVisible = false;\nConfigHolder.authConfig.external.visible = true;\nConfigHolder.authConfig.anonymous.visible = true;\nConfigHolder.authConfig.autoLogin = true;\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in the Expo client or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n"],"sourceRoot":""}